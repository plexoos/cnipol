<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cnipol: /direct/eic+u/dsmirnov/cnipol/src/MAsymRunHists.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_e1dca166ec6abb4ef5a7ad269392aef6.html">src</a>
  </div>
</div>
<div class="contents">
<h1>MAsymRunHists.cxx</h1><a href="MAsymRunHists_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;TGraphErrors.h&quot;</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &quot;TH1.h&quot;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include &quot;TH2F.h&quot;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;TFitResult.h&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;TStyle.h&quot;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;utils/utils.h&quot;</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="CnipolAsymHists_8h.html">CnipolAsymHists.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="MAsymRunHists_8h.html">MAsymRunHists.h</a>&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="MseMeasInfo_8h.html">MseMeasInfo.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="ChannelCalib_8h.html">ChannelCalib.h</a>&quot;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <a class="code" href="AlphaCalibrator_8cxx.html#a2e4eff40c749ecbebe6e9a0ec9ed6c8d">ClassImp</a>(<a class="code" href="classMAsymRunHists.html">MAsymRunHists</a>)
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 using namespace std;
<a name="l00019"></a>00019 
<a name="l00021"></a><a class="code" href="classMAsymRunHists.html#ae1de09ae9e9b18d85bb43a82d7e9d178">00021</a> <a class="code" href="classMAsymRunHists.html">MAsymRunHists</a>::<a class="code" href="classMAsymRunHists.html">MAsymRunHists</a>() : <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a>(),
<a name="l00022"></a>00022    fMinFill(UINT_MAX), fMaxFill(0),
<a name="l00023"></a>00023    fMinTime(UINT_MAX), fMaxTime(0),
<a name="l00024"></a>00024    fHTargetVsRun(), fVTargetVsRun(),
<a name="l00025"></a>00025    fHStacks()
<a name="l00026"></a>00026 {
<a name="l00027"></a>00027    BookHists();
<a name="l00028"></a>00028 }
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="classMAsymRunHists.html#af473a26030b0824b69b30bf348a2b544">00031</a> <a class="code" href="classMAsymRunHists.html#ae1de09ae9e9b18d85bb43a82d7e9d178" title="Default constructor.">MAsymRunHists::MAsymRunHists</a>(TDirectory *dir) : <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a>(dir),
<a name="l00032"></a>00032    fMinFill(UINT_MAX), fMaxFill(0),
<a name="l00033"></a>00033    fMinTime(UINT_MAX), fMaxTime(0),
<a name="l00034"></a>00034    fHTargetVsRun(), fVTargetVsRun(),
<a name="l00035"></a>00035    fHStacks()
<a name="l00036"></a>00036 {
<a name="l00037"></a>00037    <a class="code" href="classMAsymRunHists.html#a6aafe783d836b83042aa4efbdcd01c48">BookHists</a>();
<a name="l00038"></a>00038 }
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 
<a name="l00042"></a><a class="code" href="classMAsymRunHists.html#a9e730c8fbdccf42df2029af4cb4f04f6">00042</a> <a class="code" href="classMAsymRunHists.html#a9e730c8fbdccf42df2029af4cb4f04f6" title="Default destructor.">MAsymRunHists::~MAsymRunHists</a>()
<a name="l00043"></a>00043 {
<a name="l00044"></a>00044    <span class="comment">//delete grHTargetVsMeas;</span>
<a name="l00045"></a>00045    <span class="comment">//delete grVTargetVsMeas;</span>
<a name="l00046"></a>00046 }
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 
<a name="l00050"></a><a class="code" href="classMAsymRunHists.html#a6aafe783d836b83042aa4efbdcd01c48">00050</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a6aafe783d836b83042aa4efbdcd01c48">MAsymRunHists::BookHists</a>()
<a name="l00051"></a>00051 {
<a name="l00052"></a>00052    <a class="code" href="classDrawObjContainer.html#a5bb4cfe27d6dbcc02627507a96f852df">fDir</a>-&gt;cd();
<a name="l00053"></a>00053 
<a name="l00054"></a>00054    <span class="keywordtype">string</span>  shName;
<a name="l00055"></a>00055    TH1    *hist;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057    TAttMarker  styleMarker;
<a name="l00058"></a>00058 
<a name="l00059"></a>00059    styleMarker.SetMarkerStyle(kFullCircle);
<a name="l00060"></a>00060    styleMarker.SetMarkerSize(1);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062    <span class="comment">// Histogram stacks are used to set common histogram limits</span>
<a name="l00063"></a>00063    <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l00064"></a>00064 
<a name="l00065"></a>00065    <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l00066"></a>00066    {
<a name="l00067"></a>00067       <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iBE);
<a name="l00068"></a>00068 
<a name="l00069"></a>00069       <span class="comment">// Mainly needed to calculate common limits</span>
<a name="l00070"></a>00070       shName = <span class="stringliteral">&quot;hsPolarVsFill_&quot;</span> + sBeamE;
<a name="l00071"></a>00071       fHStacks[shName] = <span class="keyword">new</span> THStack(shName.c_str(), shName.c_str());
<a name="l00072"></a>00072 
<a name="l00073"></a>00073       shName = <span class="stringliteral">&quot;hsPolarVsMeas_&quot;</span> + sBeamE;
<a name="l00074"></a>00074       fHStacks[shName] = <span class="keyword">new</span> THStack(shName.c_str(), shName.c_str());
<a name="l00075"></a>00075 
<a name="l00076"></a>00076       shName = <span class="stringliteral">&quot;hsDLVsFill_U_&quot;</span> + sBeamE;
<a name="l00077"></a>00077       fHStacks[shName] = <span class="keyword">new</span> THStack(shName.c_str(), shName.c_str());
<a name="l00078"></a>00078 
<a name="l00079"></a>00079       shName = <span class="stringliteral">&quot;hsDLVsFill_D_&quot;</span> + sBeamE;
<a name="l00080"></a>00080       fHStacks[shName] = <span class="keyword">new</span> THStack(shName.c_str(), shName.c_str());
<a name="l00081"></a>00081 
<a name="l00082"></a>00082       shName = <span class="stringliteral">&quot;hsT0VsFill_U_&quot;</span> + sBeamE;
<a name="l00083"></a>00083       fHStacks[shName] = <span class="keyword">new</span> THStack(shName.c_str(), shName.c_str());
<a name="l00084"></a>00084 
<a name="l00085"></a>00085       shName = <span class="stringliteral">&quot;hsT0VsFill_D_&quot;</span> + sBeamE;
<a name="l00086"></a>00086       fHStacks[shName] = <span class="keyword">new</span> THStack(shName.c_str(), shName.c_str());
<a name="l00087"></a>00087    }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00090"></a>00090    <a class="code" href="AsymCommon_8h.html#a42226acde2fbb79137d009606b8abfba">PolarimeterIdSetIter</a> iPolId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.begin();
<a name="l00091"></a>00091 
<a name="l00092"></a>00092    <span class="keywordflow">for</span> ( ; iPolId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.end(); ++iPolId)
<a name="l00093"></a>00093    {
<a name="l00094"></a>00094       <span class="keywordtype">string</span>  sPolId   = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iPolId);
<a name="l00095"></a>00095       Color_t color    = <a class="code" href="classRunConfig.html#a53cc5296e4bc66ab2a2dc83098bf337a">RunConfig::AsColor</a>(*iPolId);
<a name="l00096"></a>00096       <span class="keywordtype">string</span>  sDirName = sPolId;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098       <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a>        *oc;
<a name="l00099"></a>00099       <a class="code" href="DrawObjContainer_8h.html#a53d71acb33befd2346b6b51a1b1cb597">DrawObjContainerMapIter</a>  isubdir = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sDirName);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101       <span class="keywordflow">if</span> (isubdir == <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end()) { <span class="comment">// if dir not found</span>
<a name="l00102"></a>00102          oc = <span class="keyword">new</span> <a class="code" href="classDrawObjContainer.html#ae84a433d235d16dc9815d6399f5936af" title="Default constructor.">DrawObjContainer</a>();
<a name="l00103"></a>00103          oc-&gt;<a class="code" href="classDrawObjContainer.html#a5bb4cfe27d6dbcc02627507a96f852df">fDir</a> = <span class="keyword">new</span> TDirectoryFile(sDirName.c_str(), sDirName.c_str(), <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="classDrawObjContainer.html#a5bb4cfe27d6dbcc02627507a96f852df">fDir</a>);
<a name="l00104"></a>00104       } <span class="keywordflow">else</span> {
<a name="l00105"></a>00105          oc = isubdir-&gt;second;
<a name="l00106"></a>00106       }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108       <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l00109"></a>00109 
<a name="l00110"></a>00110       <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l00111"></a>00111       {
<a name="l00112"></a>00112          <a class="code" href="classMAsymRunHists.html#a54b850baad0438451c650f92232b6ca6">BookHistsByPolarimeter</a>(*oc, *iPolId, *iBE);
<a name="l00113"></a>00113       }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115       styleMarker.SetMarkerColor(color);
<a name="l00116"></a>00116 
<a name="l00117"></a>00117       shName = <span class="stringliteral">&quot;hT0VsChannelDiff_&quot;</span> + sPolId;
<a name="l00118"></a>00118       hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>, 0.5, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>+0.5);
<a name="l00119"></a>00119       hist-&gt;SetOption(<span class="stringliteral">&quot;GRIDX GRIDY&quot;</span>);
<a name="l00120"></a>00120       hist-&gt;SetTitle(<span class="stringliteral">&quot;; Channel; t_{0} Diff, ns;&quot;</span>);
<a name="l00121"></a>00121       styleMarker.Copy(*hist);
<a name="l00122"></a>00122       oc-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124       shName = <span class="stringliteral">&quot;hDLVsChannelDiff_&quot;</span> + sPolId;
<a name="l00125"></a>00125       hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>, 0.5, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>+0.5);
<a name="l00126"></a>00126       hist-&gt;SetOption(<span class="stringliteral">&quot;GRIDX GRIDY&quot;</span>);
<a name="l00127"></a>00127       hist-&gt;SetTitle(<span class="stringliteral">&quot;; Channel; Dead Layer Diff, #mug/cm^{2};&quot;</span>);
<a name="l00128"></a>00128       styleMarker.Copy(*hist);
<a name="l00129"></a>00129       oc-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00130"></a>00130 
<a name="l00131"></a>00131       <span class="comment">// t0 vs DL diff</span>
<a name="l00132"></a>00132       TGraphErrors* grT0VsDLDiff = <span class="keyword">new</span> TGraphErrors();
<a name="l00133"></a>00133       grT0VsDLDiff-&gt;SetName(<span class="stringliteral">&quot;grT0VsDLDiff&quot;</span>);
<a name="l00134"></a>00134       styleMarker.Copy(*grT0VsDLDiff);
<a name="l00135"></a>00135 
<a name="l00136"></a>00136       shName = <span class="stringliteral">&quot;hT0VsDLDiff_&quot;</span> + sPolId;
<a name="l00137"></a>00137       hist = <span class="keyword">new</span> TH2F(shName.c_str(), shName.c_str(), 1000, 0, 1, 1000, 0, 1);
<a name="l00138"></a>00138       hist-&gt;SetTitle(<span class="stringliteral">&quot;; Dead Layer Diff, #mug/cm^{2}; t_{0} Diff, ns;&quot;</span>);
<a name="l00139"></a>00139       hist-&gt;GetListOfFunctions()-&gt;Add(grT0VsDLDiff, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00140"></a>00140       styleMarker.Copy(*hist);
<a name="l00141"></a>00141       oc-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143       shName = <span class="stringliteral">&quot;hPolarFirstMeasRatioVsFill_&quot;</span> + sPolId;
<a name="l00144"></a>00144       hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00145"></a>00145       hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00146"></a>00146       hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; 1st @ FT/Injection;&quot;</span>);
<a name="l00147"></a>00147       hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00148"></a>00148       styleMarker.Copy(*hist);
<a name="l00149"></a>00149       oc-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151       <span class="comment">// If this is a new directory then we need to add it to the list</span>
<a name="l00152"></a>00152       <span class="keywordflow">if</span> ( isubdir == <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end())
<a name="l00153"></a>00153          <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[sDirName] = oc;
<a name="l00154"></a>00154    }
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00157"></a>00157    <a class="code" href="AsymCommon_8h.html#a98aec11a4c2226bca69b7e48bdc9ad48">RingIdSetIter</a> iRingId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.begin();
<a name="l00158"></a>00158    <span class="keywordflow">for</span> ( ; iRingId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.end(); ++iRingId)
<a name="l00159"></a>00159    {
<a name="l00160"></a>00160       <span class="keywordtype">string</span> sRingId  = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iRingId);
<a name="l00161"></a>00161       <span class="keywordtype">string</span> sDirName = sRingId;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163       <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a>        *oc;
<a name="l00164"></a>00164       <a class="code" href="DrawObjContainer_8h.html#a53d71acb33befd2346b6b51a1b1cb597">DrawObjContainerMapIter</a>  isubdir = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sDirName);
<a name="l00165"></a>00165 
<a name="l00166"></a>00166       <span class="keywordflow">if</span> (isubdir == <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end()) { <span class="comment">// if dir not found</span>
<a name="l00167"></a>00167          oc = <span class="keyword">new</span> <a class="code" href="classDrawObjContainer.html#ae84a433d235d16dc9815d6399f5936af" title="Default constructor.">DrawObjContainer</a>();
<a name="l00168"></a>00168          oc-&gt;<a class="code" href="classDrawObjContainer.html#a5bb4cfe27d6dbcc02627507a96f852df">fDir</a> = <span class="keyword">new</span> TDirectoryFile(sDirName.c_str(), sDirName.c_str(), <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="classDrawObjContainer.html#a5bb4cfe27d6dbcc02627507a96f852df">fDir</a>);
<a name="l00169"></a>00169       } <span class="keywordflow">else</span> {
<a name="l00170"></a>00170          oc = isubdir-&gt;second;
<a name="l00171"></a>00171       }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173       <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l00174"></a>00174       <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l00175"></a>00175       {
<a name="l00176"></a>00176          <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iBE);
<a name="l00177"></a>00177 
<a name="l00178"></a>00178          <a class="code" href="classMAsymRunHists.html#a99ee7f55a720637d7006d6fb5d9cf768">BookHistsByRing</a>(*oc, *iRingId, *iBE);
<a name="l00179"></a>00179       }
<a name="l00180"></a>00180 
<a name="l00181"></a>00181       <span class="comment">// If this is a new directory then we need to add it to the list</span>
<a name="l00182"></a>00182       <span class="keywordflow">if</span> ( isubdir == <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end())
<a name="l00183"></a>00183          <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[sDirName] = oc;
<a name="l00184"></a>00184    }
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 
<a name="l00187"></a>00187    iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l00188"></a>00188    <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l00189"></a>00189    {
<a name="l00190"></a>00190       <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iBE);
<a name="l00191"></a>00191 
<a name="l00192"></a>00192       shName = <span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sBeamE;
<a name="l00193"></a>00193       hist = utils::ConstructTH1C(shName.c_str(), <span class="stringliteral">&quot;; Fill Id; Polar. Decay #frac{dP}{dt}, %/hour;&quot;</span>);
<a name="l00194"></a>00194       <a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00195"></a>00195    }
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 
<a name="l00200"></a><a class="code" href="classMAsymRunHists.html#a54b850baad0438451c650f92232b6ca6">00200</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a54b850baad0438451c650f92232b6ca6">MAsymRunHists::BookHistsByPolarimeter</a>(<a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> &amp;oc, <a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683c">EPolarimeterId</a> polId, <a class="code" href="AsymCommon_8h.html#a27fa7e1c3dafe1ff85fce6d38d8af11c">EBeamEnergy</a> beamE)
<a name="l00201"></a>00201 {
<a name="l00202"></a>00202    <span class="keywordtype">string</span>   shName;
<a name="l00203"></a>00203    <span class="keywordtype">string</span>   sPolId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(polId);
<a name="l00204"></a>00204    <span class="keywordtype">string</span>   sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(beamE);
<a name="l00205"></a>00205    Color_t  color    = <a class="code" href="classRunConfig.html#a53cc5296e4bc66ab2a2dc83098bf337a">RunConfig::AsColor</a>(polId);
<a name="l00206"></a>00206    TH1     *hist;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208    <span class="comment">//TStyle styleMarker;</span>
<a name="l00209"></a>00209    TAttMarker styleMarker;
<a name="l00210"></a>00210    styleMarker.SetMarkerStyle(kFullCircle);
<a name="l00211"></a>00211    styleMarker.SetMarkerSize(1);
<a name="l00212"></a>00212    styleMarker.SetMarkerColor(color);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214    <span class="comment">// Rate</span>
<a name="l00215"></a>00215    shName = <span class="stringliteral">&quot;grMaxRateVsMeas&quot;</span>;
<a name="l00216"></a>00216    TGraphErrors *grMaxRateVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00217"></a>00217    grMaxRateVsMeas-&gt;SetName(shName.c_str());
<a name="l00218"></a>00218    styleMarker.Copy(*grMaxRateVsMeas);
<a name="l00219"></a>00219 
<a name="l00220"></a>00220    shName = <span class="stringliteral">&quot;hMaxRateVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00221"></a>00221    hist = <span class="keyword">new</span> TH2F(shName.c_str(), shName.c_str(), 1, 0, 1, 1, 0, 50);
<a name="l00222"></a>00222    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; Max Rate;&quot;</span>);
<a name="l00223"></a>00223    hist-&gt;GetListOfFunctions()-&gt;Add(grMaxRateVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00224"></a>00224    styleMarker.Copy(*hist);
<a name="l00225"></a>00225    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227    <span class="comment">// Targets</span>
<a name="l00228"></a>00228    shName = <span class="stringliteral">&quot;grHTargetVsMeas&quot;</span>;
<a name="l00229"></a>00229    TGraphErrors *grHTargetVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00230"></a>00230    grHTargetVsMeas-&gt;SetName(shName.c_str());
<a name="l00231"></a>00231    grHTargetVsMeas-&gt;SetMarkerStyle(kFullTriangleUp);
<a name="l00232"></a>00232    grHTargetVsMeas-&gt;SetMarkerSize(2);
<a name="l00233"></a>00233    grHTargetVsMeas-&gt;SetMarkerColor(color-3);
<a name="l00234"></a>00234 
<a name="l00235"></a>00235    shName = <span class="stringliteral">&quot;grVTargetVsMeas&quot;</span>;
<a name="l00236"></a>00236    TGraphErrors *grVTargetVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00237"></a>00237    grVTargetVsMeas-&gt;SetName(shName.c_str());
<a name="l00238"></a>00238    grVTargetVsMeas-&gt;SetMarkerStyle(kFullTriangleDown);
<a name="l00239"></a>00239    grVTargetVsMeas-&gt;SetMarkerSize(2);
<a name="l00240"></a>00240    grVTargetVsMeas-&gt;SetMarkerColor(color+2);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242    shName = <span class="stringliteral">&quot;hTargetVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00243"></a>00243    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, 1, 0, 7);
<a name="l00244"></a>00244    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00245"></a>00245    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; Target Id;&quot;</span>);
<a name="l00246"></a>00246    hist-&gt;GetListOfFunctions()-&gt;Add(grHTargetVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00247"></a>00247    hist-&gt;GetListOfFunctions()-&gt;Add(grVTargetVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00248"></a>00248    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250    <span class="comment">// Spin Angle</span>
<a name="l00251"></a>00251    TGraphErrors *grSpinAngleVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00252"></a>00252    grSpinAngleVsMeas-&gt;SetName(<span class="stringliteral">&quot;grSpinAngleVsMeas&quot;</span>);
<a name="l00253"></a>00253    styleMarker.Copy(*grSpinAngleVsMeas);
<a name="l00254"></a>00254 
<a name="l00255"></a>00255    shName = <span class="stringliteral">&quot;hSpinAngleVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00256"></a>00256    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, 1, -20, 20);
<a name="l00257"></a>00257    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; Spin Angle (Radial Comp.), degrees; &quot;</span>);
<a name="l00258"></a>00258    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00259"></a>00259    hist-&gt;GetListOfFunctions()-&gt;Add(grSpinAngleVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00260"></a>00260    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00261"></a>00261    <span class="comment">// Add this pointer to the stack</span>
<a name="l00262"></a>00262    <span class="comment">//fHStacks[&quot;hsSpinAngleVsMeas_&quot; + sBeamE]-&gt;Add(hist);</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264    <span class="comment">// Polarization</span>
<a name="l00265"></a>00265    TGraphErrors *grPolarVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00266"></a>00266    grPolarVsMeas-&gt;SetName(<span class="stringliteral">&quot;grPolarVsMeas&quot;</span>);
<a name="l00267"></a>00267    styleMarker.Copy(*grPolarVsMeas);
<a name="l00268"></a>00268 
<a name="l00269"></a>00269    shName = <span class="stringliteral">&quot;hPolarVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00270"></a>00270    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, 1, 0, 100);
<a name="l00271"></a>00271    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; Polarization, %;&quot;</span>);
<a name="l00272"></a>00272    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00273"></a>00273    hist-&gt;GetListOfFunctions()-&gt;Add(grPolarVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00274"></a>00274    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00275"></a>00275    <span class="comment">// Add this pointer to the stack</span>
<a name="l00276"></a>00276    fHStacks[<span class="stringliteral">&quot;hsPolarVsMeas_&quot;</span> + sBeamE]-&gt;Add(hist);
<a name="l00277"></a>00277 
<a name="l00278"></a>00278    shName = <span class="stringliteral">&quot;hPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00279"></a>00279    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00280"></a>00280    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00281"></a>00281    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization, %;&quot;</span>);
<a name="l00282"></a>00282    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX&quot;</span>);
<a name="l00283"></a>00283    hist-&gt;GetListOfFunctions()-&gt;Add(grPolarVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00284"></a>00284    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00285"></a>00285    <span class="comment">// Add this pointer to the stack</span>
<a name="l00286"></a>00286    fHStacks[<span class="stringliteral">&quot;hsPolarVsFill_&quot;</span> + sBeamE]-&gt;Add(hist);
<a name="l00287"></a>00287 
<a name="l00288"></a>00288    shName = <span class="stringliteral">&quot;hPolarFirstMeasVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00289"></a>00289    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00290"></a>00290    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00291"></a>00291    <span class="comment">//hist-&gt;GetXaxis()-&gt;SetNdivisions(1005);</span>
<a name="l00292"></a>00292    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization, %;&quot;</span>);
<a name="l00293"></a>00293    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX&quot;</span>);
<a name="l00294"></a>00294    hist-&gt;GetListOfFunctions()-&gt;Add(grPolarVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00295"></a>00295    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297    shName = <span class="stringliteral">&quot;hPolarHJVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00298"></a>00298    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00299"></a>00299    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00300"></a>00300    <span class="comment">//hist-&gt;GetXaxis()-&gt;SetNdivisions(1005);</span>
<a name="l00301"></a>00301    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization (H-jet), %;&quot;</span>);
<a name="l00302"></a>00302    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX GRIDY&quot;</span>);
<a name="l00303"></a>00303    styleMarker.Copy(*hist);
<a name="l00304"></a>00304    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306    shName = <span class="stringliteral">&quot;hPolarPCVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00307"></a>00307    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00308"></a>00308    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00309"></a>00309    <span class="comment">//hist-&gt;GetXaxis()-&gt;SetNdivisions(1005);</span>
<a name="l00310"></a>00310    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization (p-Carbon), %;&quot;</span>);
<a name="l00311"></a>00311    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00312"></a>00312    styleMarker.Copy(*hist);
<a name="l00313"></a>00313    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315    <span class="comment">// H-Jet/p-Carbon polarization ratio</span>
<a name="l00316"></a>00316    shName = <span class="stringliteral">&quot;hPolarHJPCRatioVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00317"></a>00317    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00318"></a>00318    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; P(H-jet)/P(p-Carbon);&quot;</span>);
<a name="l00319"></a>00319    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00320"></a>00320    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00321"></a>00321 
<a name="l00322"></a>00322    <span class="comment">// polarization from pol profile</span>
<a name="l00323"></a>00323    shName = <span class="stringliteral">&quot;hPolarHJPCRatioSystVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00324"></a>00324    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00325"></a>00325    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Profile Polarization Rel. Diff., %;&quot;</span>);
<a name="l00326"></a>00326    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00327"></a>00327    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00328"></a>00328 
<a name="l00329"></a>00329    <span class="comment">// polarization from pol profile</span>
<a name="l00330"></a>00330    <span class="comment">//shName = &quot;hPolarHJPCRelDiff_&quot; + sPolId + &quot;_&quot; + sBeamE;</span>
<a name="l00331"></a>00331    <span class="comment">//hist = new TH1F(shName.c_str(), shName.c_str(), 100, 0, 50);</span>
<a name="l00332"></a>00332    <span class="comment">//hist-&gt;SetTitle(&quot;;Profile Polarization Rel. Diff., %;;&quot;);</span>
<a name="l00333"></a>00333    <span class="comment">//hist-&gt;SetLineWidth(2);</span>
<a name="l00334"></a>00334    <span class="comment">//hist-&gt;SetLineColor(color);</span>
<a name="l00335"></a>00335    <span class="comment">//hist-&gt;SetOption(&quot;hist&quot;);</span>
<a name="l00336"></a>00336    <span class="comment">//oc.o[shName] = hist;</span>
<a name="l00337"></a>00337 
<a name="l00338"></a>00338    <span class="comment">// polarization from pol profile</span>
<a name="l00339"></a>00339    <span class="comment">//shName = &quot;hPolarHJPCRelDiffCumul_&quot; + sPolId + &quot;_&quot; + sBeamE;</span>
<a name="l00340"></a>00340    <span class="comment">//hist = new TH1F(shName.c_str(), shName.c_str(), 100, 0, 50);</span>
<a name="l00341"></a>00341    <span class="comment">//hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 1);</span>
<a name="l00342"></a>00342    <span class="comment">//hist-&gt;SetTitle(&quot;;Cumul. Profile Polarization Rel. Diff., %;;&quot;);</span>
<a name="l00343"></a>00343    <span class="comment">//hist-&gt;SetLineWidth(2);</span>
<a name="l00344"></a>00344    <span class="comment">//hist-&gt;SetLineColor(color);</span>
<a name="l00345"></a>00345    <span class="comment">//hist-&gt;SetOption(&quot;hist&quot;);</span>
<a name="l00346"></a>00346    <span class="comment">//oc.o[shName] = hist;</span>
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00349"></a>00349    shName = <span class="stringliteral">&quot;hPolarPCScaledVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00350"></a>00350    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00351"></a>00351    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00352"></a>00352    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization (p-Carbon, scaled), %;&quot;</span>);
<a name="l00353"></a>00353    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX GRIDY&quot;</span>);
<a name="l00354"></a>00354    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00355"></a>00355 
<a name="l00356"></a>00356    shName = <span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00357"></a>00357    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00358"></a>00358    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00359"></a>00359    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization (p-Carbon, scaled), %;&quot;</span>);
<a name="l00360"></a>00360    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX&quot;</span>);
<a name="l00361"></a>00361    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00362"></a>00362 
<a name="l00363"></a>00363    <span class="comment">// polarization from pol profile</span>
<a name="l00364"></a>00364    shName = <span class="stringliteral">&quot;hProfPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00365"></a>00365    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00366"></a>00366    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00367"></a>00367    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Prof. Polarization, %;&quot;</span>);
<a name="l00368"></a>00368    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX&quot;</span>);
<a name="l00369"></a>00369    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371    <span class="comment">// polarization from pol profile</span>
<a name="l00372"></a>00372    shName = <span class="stringliteral">&quot;hProfPolarRatioVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00373"></a>00373    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00374"></a>00374    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00375"></a>00375    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polar/Prof. Polar;&quot;</span>);
<a name="l00376"></a>00376    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX&quot;</span>);
<a name="l00377"></a>00377    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00378"></a>00378 
<a name="l00379"></a>00379    <span class="comment">// polarization from pol profile</span>
<a name="l00380"></a>00380    shName = <span class="stringliteral">&quot;hProfPolarRatioSystVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00381"></a>00381    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00382"></a>00382    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Profile Polarization Rel. Diff., %;&quot;</span>);
<a name="l00383"></a>00383    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX&quot;</span>);
<a name="l00384"></a>00384    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00385"></a>00385 
<a name="l00386"></a>00386    <span class="comment">// polarization from pol profile</span>
<a name="l00387"></a>00387    shName = <span class="stringliteral">&quot;hProfPolarRelDiff_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00388"></a>00388    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 100, 0, 50);
<a name="l00389"></a>00389    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetTitle(<span class="stringliteral">&quot;; Profile Polarization Rel. Diff., %; ;&quot;</span>);
<a name="l00390"></a>00390    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetLineWidth(2);
<a name="l00391"></a>00391    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetLineColor(color);
<a name="l00392"></a>00392    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetOption(<span class="stringliteral">&quot;hist&quot;</span>);
<a name="l00393"></a>00393 
<a name="l00394"></a>00394    <span class="comment">// polarization from pol profile</span>
<a name="l00395"></a>00395    shName = <span class="stringliteral">&quot;hProfPolarRelDiffCumul_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00396"></a>00396    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 100, 0, 50);
<a name="l00397"></a>00397    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;GetYaxis()-&gt;SetRangeUser(0, 1);
<a name="l00398"></a>00398    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetTitle(<span class="stringliteral">&quot;; Cumul. Profile Polarization Rel. Diff., %; ;&quot;</span>);
<a name="l00399"></a>00399    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetLineWidth(2);
<a name="l00400"></a>00400    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetLineColor(color);
<a name="l00401"></a>00401    ((TH1*) oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetOption(<span class="stringliteral">&quot;hist&quot;</span>);
<a name="l00402"></a>00402 
<a name="l00403"></a>00403    <span class="comment">// Ratio Hjet to pC</span>
<a name="l00404"></a>00404    shName = <span class="stringliteral">&quot;hNormJCVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00405"></a>00405    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00406"></a>00406    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; P_{H-jet}/P_{p-Carbon};&quot;</span>);
<a name="l00407"></a>00407    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX&quot;</span>);
<a name="l00408"></a>00408    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00409"></a>00409 
<a name="l00410"></a>00410    <span class="comment">// Polarization vs time</span>
<a name="l00411"></a>00411    TGraphErrors *grPolarVsTime = <span class="keyword">new</span> TGraphErrors();
<a name="l00412"></a>00412    grPolarVsTime-&gt;SetName(<span class="stringliteral">&quot;grPolarVsTime&quot;</span>);
<a name="l00413"></a>00413    styleMarker.Copy(*grPolarVsTime);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415    shName = <span class="stringliteral">&quot;hPolarVsTime_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00416"></a>00416    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, 1, 0, 100);
<a name="l00417"></a>00417    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Date &amp; Time; Polarization, %;&quot;</span>);
<a name="l00418"></a>00418    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00419"></a>00419    hist-&gt;GetListOfFunctions()-&gt;Add(grPolarVsTime, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00420"></a>00420    hist-&gt;GetXaxis()-&gt;SetNdivisions(10, kFALSE);
<a name="l00421"></a>00421    hist-&gt;GetXaxis()-&gt;SetTimeOffset(0, <span class="stringliteral">&quot;gmt&quot;</span>);
<a name="l00422"></a>00422    hist-&gt;GetXaxis()-&gt;SetTimeDisplay(1);
<a name="l00423"></a>00423    hist-&gt;GetXaxis()-&gt;SetTimeFormat(<span class="stringliteral">&quot;%m/%d&quot;</span>);
<a name="l00424"></a>00424    <span class="comment">//hist-&gt;GetXaxis()-&gt;SetTimeFormat(&quot;%b %d, %H:%M:%S&quot;);</span>
<a name="l00425"></a>00425    <span class="comment">//hist-&gt;GetXaxis()-&gt;SetTimeFormat(&quot;%b %d, %H:%M&quot;);</span>
<a name="l00426"></a>00426    <span class="comment">//hist-&gt;GetXaxis()-&gt;SetTimeFormat(&quot;%H:%M&quot;);</span>
<a name="l00427"></a>00427    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00428"></a>00428 
<a name="l00429"></a>00429    <span class="comment">// Profile R</span>
<a name="l00430"></a>00430    TGraphErrors *grRVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00431"></a>00431    grRVsMeas-&gt;SetName(<span class="stringliteral">&quot;grRVsMeas&quot;</span>);
<a name="l00432"></a>00432    styleMarker.Copy(*grRVsMeas);
<a name="l00433"></a>00433 
<a name="l00434"></a>00434    TGraphErrors *grRVsMeasH = <span class="keyword">new</span> TGraphErrors();
<a name="l00435"></a>00435    grRVsMeasH-&gt;SetName(<span class="stringliteral">&quot;grRVsMeasH&quot;</span>);
<a name="l00436"></a>00436    grRVsMeasH-&gt;SetMarkerStyle(kFullTriangleUp);
<a name="l00437"></a>00437    grRVsMeasH-&gt;SetMarkerSize(2);
<a name="l00438"></a>00438    grRVsMeasH-&gt;SetMarkerColor(color-3);
<a name="l00439"></a>00439 
<a name="l00440"></a>00440    TGraphErrors *grRVsMeasV = <span class="keyword">new</span> TGraphErrors();
<a name="l00441"></a>00441    grRVsMeasV-&gt;SetName(<span class="stringliteral">&quot;grRVsMeasV&quot;</span>);
<a name="l00442"></a>00442    grRVsMeasV-&gt;SetMarkerStyle(kFullTriangleDown);
<a name="l00443"></a>00443    grRVsMeasV-&gt;SetMarkerSize(2);
<a name="l00444"></a>00444    grRVsMeasV-&gt;SetMarkerColor(color+2);
<a name="l00445"></a>00445 
<a name="l00446"></a>00446    shName = <span class="stringliteral">&quot;hRVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00447"></a>00447    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 100, 0, 1, 100, 0, 1);
<a name="l00448"></a>00448    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; R;&quot;</span>);
<a name="l00449"></a>00449    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00450"></a>00450    hist-&gt;GetListOfFunctions()-&gt;Add(grRVsMeasH, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00451"></a>00451    hist-&gt;GetListOfFunctions()-&gt;Add(grRVsMeasV, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00452"></a>00452    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00453"></a>00453 
<a name="l00454"></a>00454    shName = <span class="stringliteral">&quot;hRVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00455"></a>00455    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 100, 0, 1, 100, 0, 1);
<a name="l00456"></a>00456    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; R;&quot;</span>);
<a name="l00457"></a>00457    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY GRIDX&quot;</span>);
<a name="l00458"></a>00458    hist-&gt;GetListOfFunctions()-&gt;Add(grRVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00459"></a>00459    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461    shName = <span class="stringliteral">&quot;hRVsFill_H_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00462"></a>00462    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 100, 0, 1, 100, 0, 1);
<a name="l00463"></a>00463    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; R;&quot;</span>);
<a name="l00464"></a>00464    hist-&gt;SetMarkerStyle(kFullTriangleUp);
<a name="l00465"></a>00465    hist-&gt;SetMarkerSize(2);
<a name="l00466"></a>00466    hist-&gt;SetMarkerColor(color-3);
<a name="l00467"></a>00467    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY GRIDX&quot;</span>);
<a name="l00468"></a>00468    hist-&gt;GetListOfFunctions()-&gt;Add(grRVsMeasH, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00469"></a>00469    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00470"></a>00470 
<a name="l00471"></a>00471    shName = <span class="stringliteral">&quot;hRVsFill_V_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00472"></a>00472    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 100, 0, 1, 100, 0, 1);
<a name="l00473"></a>00473    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; R;&quot;</span>);
<a name="l00474"></a>00474    hist-&gt;SetMarkerStyle(kFullTriangleDown);
<a name="l00475"></a>00475    hist-&gt;SetMarkerSize(2);
<a name="l00476"></a>00476    hist-&gt;SetMarkerColor(color+2);
<a name="l00477"></a>00477    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY GRIDX&quot;</span>);
<a name="l00478"></a>00478    hist-&gt;GetListOfFunctions()-&gt;Add(grRVsMeasV, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00479"></a>00479    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00480"></a>00480 
<a name="l00481"></a>00481    <span class="comment">// Polarization profile slope</span>
<a name="l00482"></a>00482    TGraphErrors *grRSlopeVsFill_H_ = <span class="keyword">new</span> TGraphErrors();
<a name="l00483"></a>00483    grRSlopeVsFill_H_-&gt;SetName(<span class="stringliteral">&quot;grRSlopeVsFill_H_&quot;</span>);
<a name="l00484"></a>00484    <a class="code" href="classRunConfig.html#ae1c9c2b9f2dbd23999f6bc3d24c44957">RunConfig::AsMarker</a>(<a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a5256d33afef655ac4c9ad2f3f85868aa">kTARGET_H</a>, polId).Copy(*grRSlopeVsFill_H_);
<a name="l00485"></a>00485 
<a name="l00486"></a>00486    TGraphErrors *grRSlopeVsFill_V_ = <span class="keyword">new</span> TGraphErrors();
<a name="l00487"></a>00487    grRSlopeVsFill_V_-&gt;SetName(<span class="stringliteral">&quot;grRSlopeVsFill_V_&quot;</span>);
<a name="l00488"></a>00488    <a class="code" href="classRunConfig.html#ae1c9c2b9f2dbd23999f6bc3d24c44957">RunConfig::AsMarker</a>(<a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a812ce600dc09718a778f225d751a10f2">kTARGET_V</a>, polId).Copy(*grRSlopeVsFill_V_);
<a name="l00489"></a>00489 
<a name="l00490"></a>00490    shName = <span class="stringliteral">&quot;hRSlopeVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00491"></a>00491    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, 1, -0.2, 0.2);
<a name="l00492"></a>00492    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; R Slope;&quot;</span>);
<a name="l00493"></a>00493    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY GRIDX&quot;</span>);
<a name="l00494"></a>00494    hist-&gt;GetListOfFunctions()-&gt;Add(grRSlopeVsFill_H_, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00495"></a>00495    hist-&gt;GetListOfFunctions()-&gt;Add(grRSlopeVsFill_V_, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00496"></a>00496    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 
<a name="l00499"></a>00499    TGraphErrors *grRSlopeVsPolarSlope_H_ = <span class="keyword">new</span> TGraphErrors();
<a name="l00500"></a>00500    grRSlopeVsPolarSlope_H_-&gt;SetName(<span class="stringliteral">&quot;grRSlopeVsPolarSlope_H_&quot;</span>);
<a name="l00501"></a>00501    <a class="code" href="classRunConfig.html#ae1c9c2b9f2dbd23999f6bc3d24c44957">RunConfig::AsMarker</a>(<a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a5256d33afef655ac4c9ad2f3f85868aa">kTARGET_H</a>, polId).Copy(*grRSlopeVsPolarSlope_H_);
<a name="l00502"></a>00502 
<a name="l00503"></a>00503    TGraphErrors *grRSlopeVsPolarSlope_V_ = <span class="keyword">new</span> TGraphErrors();
<a name="l00504"></a>00504    grRSlopeVsPolarSlope_V_-&gt;SetName(<span class="stringliteral">&quot;grRSlopeVsPolarSlope_V_&quot;</span>);
<a name="l00505"></a>00505    <a class="code" href="classRunConfig.html#ae1c9c2b9f2dbd23999f6bc3d24c44957">RunConfig::AsMarker</a>(<a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a812ce600dc09718a778f225d751a10f2">kTARGET_V</a>, polId).Copy(*grRSlopeVsPolarSlope_V_);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507    shName = <span class="stringliteral">&quot;hRSlopeVsPolarSlope_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00508"></a>00508    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 100, 0, 1, 100, 0, 1);
<a name="l00509"></a>00509    hist-&gt;SetTitle(<span class="stringliteral">&quot;; dP/dt; dR/dt;&quot;</span>);
<a name="l00510"></a>00510    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY GRIDX GRIDY&quot;</span>);
<a name="l00511"></a>00511    hist-&gt;GetListOfFunctions()-&gt;Add(grRSlopeVsPolarSlope_H_, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00512"></a>00512    hist-&gt;GetListOfFunctions()-&gt;Add(grRSlopeVsPolarSlope_V_, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00513"></a>00513    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 
<a name="l00516"></a>00516    <span class="comment">// t0</span>
<a name="l00517"></a>00517    TGraphErrors *grT0VsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00518"></a>00518    grT0VsMeas-&gt;SetName(<span class="stringliteral">&quot;grT0VsMeas&quot;</span>);
<a name="l00519"></a>00519    styleMarker.Copy(*grT0VsMeas);
<a name="l00520"></a>00520 
<a name="l00521"></a>00521    Int_t t0Lo = -30;
<a name="l00522"></a>00522    Int_t t0Hi =  30;
<a name="l00523"></a>00523 
<a name="l00524"></a>00524    Int_t dlLo = 10;
<a name="l00525"></a>00525    Int_t dlHi = 80;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527    shName = <span class="stringliteral">&quot;hT0VsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00528"></a>00528    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, 1, t0Lo, t0Hi);
<a name="l00529"></a>00529    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; t_{0}, ns;&quot;</span>);
<a name="l00530"></a>00530    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00531"></a>00531    hist-&gt;GetListOfFunctions()-&gt;Add(grT0VsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00532"></a>00532    styleMarker.Copy(*hist);
<a name="l00533"></a>00533    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00534"></a>00534 
<a name="l00535"></a>00535    shName = <span class="stringliteral">&quot;hT0VsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00536"></a>00536    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00537"></a>00537    <span class="comment">//hist-&gt;GetYaxis()-&gt;SetRangeUser(t0Lo, t0Hi);</span>
<a name="l00538"></a>00538    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; t_{0}, ns;&quot;</span>);
<a name="l00539"></a>00539    hist-&gt;SetMarkerStyle(kFullCircle);
<a name="l00540"></a>00540    hist-&gt;SetMarkerSize(1);
<a name="l00541"></a>00541    hist-&gt;SetMarkerColor(color);
<a name="l00542"></a>00542    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00543"></a>00543    hist-&gt;GetListOfFunctions()-&gt;Add(grT0VsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00544"></a>00544    <span class="comment">//styleMarker.Copy(*hist);</span>
<a name="l00545"></a>00545    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00546"></a>00546 
<a name="l00547"></a>00547    <span class="comment">// Add its pointer to the stack</span>
<a name="l00548"></a>00548    <span class="keywordflow">if</span> (sPolId == <span class="stringliteral">&quot;B1U&quot;</span> || sPolId == <span class="stringliteral">&quot;Y2U&quot;</span> )
<a name="l00549"></a>00549       fHStacks[<span class="stringliteral">&quot;hsT0VsFill_U_&quot;</span> + sBeamE]-&gt;Add(hist);
<a name="l00550"></a>00550    <span class="keywordflow">else</span>
<a name="l00551"></a>00551       fHStacks[<span class="stringliteral">&quot;hsT0VsFill_D_&quot;</span> + sBeamE]-&gt;Add(hist);
<a name="l00552"></a>00552 
<a name="l00553"></a>00553    TGraphErrors *grT0VsTime = <span class="keyword">new</span> TGraphErrors();
<a name="l00554"></a>00554    grT0VsTime-&gt;SetName(<span class="stringliteral">&quot;grT0VsTime&quot;</span>);
<a name="l00555"></a>00555    styleMarker.Copy(*grT0VsTime);
<a name="l00556"></a>00556 
<a name="l00557"></a>00557    shName = <span class="stringliteral">&quot;hT0VsTime_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00558"></a>00558    hist = <span class="keyword">new</span> TH2F(shName.c_str(), shName.c_str(), 1, 0, 1, 100, 0, 100);
<a name="l00559"></a>00559    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Date &amp; Time; t_{0}, ns;&quot;</span>);
<a name="l00560"></a>00560    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00561"></a>00561    hist-&gt;GetListOfFunctions()-&gt;Add(grT0VsTime, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00562"></a>00562    hist-&gt;GetXaxis()-&gt;SetNdivisions(10, kFALSE);
<a name="l00563"></a>00563    hist-&gt;GetXaxis()-&gt;SetTimeOffset(0, <span class="stringliteral">&quot;gmt&quot;</span>);
<a name="l00564"></a>00564    hist-&gt;GetXaxis()-&gt;SetTimeDisplay(1);
<a name="l00565"></a>00565    hist-&gt;GetXaxis()-&gt;SetTimeFormat(<span class="stringliteral">&quot;%m/%d&quot;</span>);
<a name="l00566"></a>00566    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00567"></a>00567 
<a name="l00568"></a>00568    <span class="comment">// DL</span>
<a name="l00569"></a>00569    TGraphErrors *grDLVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00570"></a>00570    grDLVsMeas-&gt;SetName(<span class="stringliteral">&quot;grDLVsMeas&quot;</span>);
<a name="l00571"></a>00571    styleMarker.Copy(*grDLVsMeas);
<a name="l00572"></a>00572 
<a name="l00573"></a>00573 
<a name="l00574"></a>00574    shName = <span class="stringliteral">&quot;hDLVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00575"></a>00575    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, dlHi-dlLo, dlLo, dlHi);
<a name="l00576"></a>00576    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; Dead Layer, #mug/cm^{2};&quot;</span>);
<a name="l00577"></a>00577    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00578"></a>00578    hist-&gt;GetListOfFunctions()-&gt;Add(grDLVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00579"></a>00579    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00580"></a>00580 
<a name="l00581"></a>00581    shName = <span class="stringliteral">&quot;hDLVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00582"></a>00582    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00583"></a>00583    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Dead Layer, #mug/cm^{2};&quot;</span>);
<a name="l00584"></a>00584    hist-&gt;SetMarkerStyle(kFullCircle);
<a name="l00585"></a>00585    hist-&gt;SetMarkerSize(1);
<a name="l00586"></a>00586    hist-&gt;SetMarkerColor(color);
<a name="l00587"></a>00587    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00588"></a>00588    hist-&gt;GetListOfFunctions()-&gt;Add(grDLVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00589"></a>00589    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00590"></a>00590 
<a name="l00591"></a>00591    <span class="comment">// Add its pointer to the stack</span>
<a name="l00592"></a>00592    <span class="keywordflow">if</span> (sPolId == <span class="stringliteral">&quot;B1U&quot;</span> || sPolId == <span class="stringliteral">&quot;Y2U&quot;</span> )
<a name="l00593"></a>00593       fHStacks[<span class="stringliteral">&quot;hsDLVsFill_U_&quot;</span> + sBeamE]-&gt;Add(hist);
<a name="l00594"></a>00594    <span class="keywordflow">else</span>
<a name="l00595"></a>00595       fHStacks[<span class="stringliteral">&quot;hsDLVsFill_D_&quot;</span> + sBeamE]-&gt;Add(hist);
<a name="l00596"></a>00596 
<a name="l00597"></a>00597    TGraphErrors *grDLVsTime = <span class="keyword">new</span> TGraphErrors();
<a name="l00598"></a>00598    grDLVsTime-&gt;SetName(<span class="stringliteral">&quot;grDLVsTime&quot;</span>);
<a name="l00599"></a>00599    styleMarker.Copy(*grDLVsTime);
<a name="l00600"></a>00600 
<a name="l00601"></a>00601    shName = <span class="stringliteral">&quot;hDLVsTime_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00602"></a>00602    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, 100, 0, 100);
<a name="l00603"></a>00603    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Date &amp; Time; Dead Layer, #mug/cm^{2};&quot;</span>);
<a name="l00604"></a>00604    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00605"></a>00605    hist-&gt;GetListOfFunctions()-&gt;Add(grDLVsTime, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00606"></a>00606    hist-&gt;GetXaxis()-&gt;SetNdivisions(10, kFALSE);
<a name="l00607"></a>00607    hist-&gt;GetXaxis()-&gt;SetTimeOffset(0, <span class="stringliteral">&quot;gmt&quot;</span>);
<a name="l00608"></a>00608    hist-&gt;GetXaxis()-&gt;SetTimeDisplay(1);
<a name="l00609"></a>00609    hist-&gt;GetXaxis()-&gt;SetTimeFormat(<span class="stringliteral">&quot;%m/%d&quot;</span>);
<a name="l00610"></a>00610    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00611"></a>00611 
<a name="l00612"></a>00612    <span class="comment">// Banana fit params</span>
<a name="l00613"></a>00613    TGraphErrors *grBananaChi2Ndf = <span class="keyword">new</span> TGraphErrors();
<a name="l00614"></a>00614    grBananaChi2Ndf-&gt;SetName(<span class="stringliteral">&quot;grBananaChi2Ndf&quot;</span>);
<a name="l00615"></a>00615    styleMarker.Copy(*grBananaChi2Ndf);
<a name="l00616"></a>00616 
<a name="l00617"></a>00617    shName = <span class="stringliteral">&quot;hBananaChi2NdfVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00618"></a>00618    hist = <span class="keyword">new</span> TH2F(shName.c_str(), shName.c_str(), 1, 0, 1, 1, 0, 50);
<a name="l00619"></a>00619    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; #chi^{2}/ndf;&quot;</span>);
<a name="l00620"></a>00620    hist-&gt;GetListOfFunctions()-&gt;Add(grBananaChi2Ndf, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00621"></a>00621    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00622"></a>00622 
<a name="l00623"></a>00623    <span class="comment">// per channel histograms</span>
<a name="l00624"></a>00624 
<a name="l00625"></a>00625    <a class="code" href="AsymCommon_8h.html#a54f2d4199f80ef54d0ec9c501e2bf70f">ChannelSetIter</a> iCh = <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a0d2f475da9f0396f138e2e23018f6913">fSiliconChannels</a>.begin();
<a name="l00626"></a>00626 
<a name="l00627"></a>00627    <span class="keywordflow">for</span> (; iCh!=<a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a0d2f475da9f0396f138e2e23018f6913">fSiliconChannels</a>.end(); ++iCh)
<a name="l00628"></a>00628    {
<a name="l00629"></a>00629       <span class="keywordtype">string</span> sChId(<span class="stringliteral">&quot;  &quot;</span>);
<a name="l00630"></a>00630       sprintf(&amp;sChId[0], <span class="stringliteral">&quot;%02d&quot;</span>, *iCh);
<a name="l00631"></a>00631 
<a name="l00632"></a>00632       <span class="keywordtype">string</span> sDirName = <span class="stringliteral">&quot;channel&quot;</span> + sChId;
<a name="l00633"></a>00633 
<a name="l00634"></a>00634       <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a>        *oc_ch;
<a name="l00635"></a>00635       <a class="code" href="DrawObjContainer_8h.html#a53d71acb33befd2346b6b51a1b1cb597">DrawObjContainerMapIter</a>  isubdir = oc.<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sDirName);
<a name="l00636"></a>00636 
<a name="l00637"></a>00637       <span class="keywordflow">if</span> ( isubdir == oc.<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end()) { <span class="comment">// if dir not found</span>
<a name="l00638"></a>00638          oc_ch = <span class="keyword">new</span> <a class="code" href="classDrawObjContainer.html#ae84a433d235d16dc9815d6399f5936af" title="Default constructor.">DrawObjContainer</a>();
<a name="l00639"></a>00639          oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#a5bb4cfe27d6dbcc02627507a96f852df">fDir</a> = <span class="keyword">new</span> TDirectoryFile(sDirName.c_str(), sDirName.c_str(), <span class="stringliteral">&quot;&quot;</span>, oc.<a class="code" href="classDrawObjContainer.html#a5bb4cfe27d6dbcc02627507a96f852df">fDir</a>);
<a name="l00640"></a>00640       } <span class="keywordflow">else</span> {
<a name="l00641"></a>00641          oc_ch = isubdir-&gt;second;
<a name="l00642"></a>00642       }
<a name="l00643"></a>00643 
<a name="l00644"></a>00644       <span class="comment">// t0</span>
<a name="l00645"></a>00645       grT0VsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00646"></a>00646       grT0VsMeas-&gt;SetName(<span class="stringliteral">&quot;grT0VsMeas&quot;</span>);
<a name="l00647"></a>00647       styleMarker.Copy(*grT0VsMeas);
<a name="l00648"></a>00648 
<a name="l00649"></a>00649       shName = <span class="stringliteral">&quot;hT0VsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId;
<a name="l00650"></a>00650       oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = <span class="keyword">new</span> TH2F(shName.c_str(), shName.c_str(), 1, 0, 1, t0Hi-t0Lo, t0Lo, t0Hi);
<a name="l00651"></a>00651       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; t_{0}, ns;&quot;</span>);
<a name="l00652"></a>00652       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetOption(<span class="stringliteral">&quot;NOIMG&quot;</span>);
<a name="l00653"></a>00653       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;GetListOfFunctions()-&gt;Add(grT0VsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00654"></a>00654 
<a name="l00655"></a>00655       shName = <span class="stringliteral">&quot;hT0_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId;
<a name="l00656"></a>00656       oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), t0Hi-t0Lo, t0Lo, t0Hi);
<a name="l00657"></a>00657       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetTitle(<span class="stringliteral">&quot;; t_{0}, ns; Events;&quot;</span>);
<a name="l00658"></a>00658       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetOption(<span class="stringliteral">&quot;hist NOIMG&quot;</span>);
<a name="l00659"></a>00659 
<a name="l00660"></a>00660       <span class="comment">// DL</span>
<a name="l00661"></a>00661       grDLVsMeas = <span class="keyword">new</span> TGraphErrors();
<a name="l00662"></a>00662       grDLVsMeas-&gt;SetName(<span class="stringliteral">&quot;grDLVsMeas&quot;</span>);
<a name="l00663"></a>00663       styleMarker.Copy(*grDLVsMeas);
<a name="l00664"></a>00664 
<a name="l00665"></a>00665       shName = <span class="stringliteral">&quot;hDLVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId;
<a name="l00666"></a>00666       oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = <span class="keyword">new</span> TH2F(shName.c_str(), shName.c_str(), 1, 0, 1, dlHi-dlLo, dlLo, dlHi);
<a name="l00667"></a>00667       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetOption(<span class="stringliteral">&quot;NOIMG&quot;</span>);
<a name="l00668"></a>00668       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetTitle(<span class="stringliteral">&quot;; Measurement Id; Dead Layer, #mug/cm^{2};&quot;</span>);
<a name="l00669"></a>00669       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;GetListOfFunctions()-&gt;Add(grDLVsMeas, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00670"></a>00670 
<a name="l00671"></a>00671       shName = <span class="stringliteral">&quot;hDL_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId;
<a name="l00672"></a>00672       oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), dlHi-dlLo, dlLo, dlHi);
<a name="l00673"></a>00673       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetOption(<span class="stringliteral">&quot;hist NOIMG&quot;</span>);
<a name="l00674"></a>00674       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetTitle(<span class="stringliteral">&quot;; Dead Layer, #mug/cm^{2}; Events;&quot;</span>);
<a name="l00675"></a>00675 
<a name="l00676"></a>00676       <span class="comment">// t0 vs DL</span>
<a name="l00677"></a>00677       TGraphErrors* grT0VsDL = <span class="keyword">new</span> TGraphErrors();
<a name="l00678"></a>00678       grT0VsDL-&gt;SetName(<span class="stringliteral">&quot;grT0VsDL&quot;</span>);
<a name="l00679"></a>00679       styleMarker.Copy(*grT0VsDL);
<a name="l00680"></a>00680 
<a name="l00681"></a>00681       shName = <span class="stringliteral">&quot;hT0VsDL_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId;
<a name="l00682"></a>00682       oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = <span class="keyword">new</span> TH2F(shName.c_str(), shName.c_str(), dlHi-dlLo, dlLo, dlHi, t0Hi-t0Lo, t0Lo, t0Hi);
<a name="l00683"></a>00683       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetOption(<span class="stringliteral">&quot;NOIMG&quot;</span>);
<a name="l00684"></a>00684       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;SetTitle(<span class="stringliteral">&quot;; Dead Layer, #mug/cm^{2}; t_{0}, ns;&quot;</span>);
<a name="l00685"></a>00685       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;GetListOfFunctions()-&gt;Add(grT0VsDL, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00686"></a>00686 
<a name="l00687"></a>00687       <span class="comment">// If this is a new directory then we need to add it to the list</span>
<a name="l00688"></a>00688       <span class="keywordflow">if</span> ( isubdir == oc.<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end()) {
<a name="l00689"></a>00689          oc.<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[sDirName] = oc_ch;
<a name="l00690"></a>00690       }
<a name="l00691"></a>00691    }
<a name="l00692"></a>00692 
<a name="l00693"></a>00693    shName = <span class="stringliteral">&quot;hT0VsChannel_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00694"></a>00694    hist= <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>, 0.5, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>+0.5);
<a name="l00695"></a>00695    hist-&gt;SetOption(<span class="stringliteral">&quot;GRIDX&quot;</span>);
<a name="l00696"></a>00696    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Channel; Mean t_{0}, ns;&quot;</span>);
<a name="l00697"></a>00697    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00698"></a>00698 
<a name="l00699"></a>00699    shName = <span class="stringliteral">&quot;hDLVsChannel_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00700"></a>00700    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>, 0.5, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>+0.5);
<a name="l00701"></a>00701    hist-&gt;SetOption(<span class="stringliteral">&quot;GRIDX&quot;</span>);
<a name="l00702"></a>00702    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Channel; Mean Dead Layer, #mug/cm^{2};&quot;</span>);
<a name="l00703"></a>00703    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00704"></a>00704 
<a name="l00705"></a>00705    <span class="comment">// t0 vs DL</span>
<a name="l00706"></a>00706    TGraphErrors* grT0VsDLMean = <span class="keyword">new</span> TGraphErrors();
<a name="l00707"></a>00707    grT0VsDLMean-&gt;SetName(<span class="stringliteral">&quot;grT0VsDLMean&quot;</span>);
<a name="l00708"></a>00708    styleMarker.Copy(*grT0VsDLMean);
<a name="l00709"></a>00709 
<a name="l00710"></a>00710    shName = <span class="stringliteral">&quot;hT0VsDLMean_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00711"></a>00711    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), dlHi-dlLo, dlLo, dlHi, t0Hi-t0Lo, t0Lo, t0Hi);
<a name="l00712"></a>00712    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Dead Layer, #mug/cm^{2}; Mean t_{0}, ns;&quot;</span>);
<a name="l00713"></a>00713    hist-&gt;SetOption(<span class="stringliteral">&quot;DUMMY&quot;</span>);
<a name="l00714"></a>00714    hist-&gt;GetListOfFunctions()-&gt;Add(grT0VsDLMean, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l00715"></a>00715    styleMarker.Copy(*hist);
<a name="l00716"></a>00716    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00717"></a>00717 
<a name="l00718"></a>00718 
<a name="l00719"></a>00719    <span class="comment">// Disabled channels per fill</span>
<a name="l00720"></a>00720    shName = <span class="stringliteral">&quot;hDisabledChVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00721"></a>00721    hist = <span class="keyword">new</span> TH2C(shName.c_str(), shName.c_str(), 1, 0, 1, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>, 0.5, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>+0.5);
<a name="l00722"></a>00722    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Channel; &quot;</span>);
<a name="l00723"></a>00723    hist-&gt;SetOption(<span class="stringliteral">&quot;col DUMMY&quot;</span>);
<a name="l00724"></a>00724    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 
<a name="l00727"></a>00727    shName = <span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00728"></a>00728    hist = utils::ConstructTH1CWithTGraphErrors(shName.c_str(), <span class="stringliteral">&quot;; Fill Id; Polar. Decay #frac{dP}{dt}, %/hour;&quot;</span>, (TStyle*) &amp;styleMarker);
<a name="l00729"></a>00729    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00730"></a>00730 
<a name="l00731"></a>00731 
<a name="l00732"></a>00732    <span class="comment">// Combined asymmetry histogram</span>
<a name="l00733"></a>00733    shName = <span class="stringliteral">&quot;hKinEnergyAChAsym_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00734"></a>00734    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 25, 22.5, 1172.2);
<a name="l00735"></a>00735    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00736"></a>00736    hist-&gt;SetBit(TH1::kIsAverage);
<a name="l00737"></a>00737    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Kinematic Energy, keV; Asymmetry;&quot;</span>);
<a name="l00738"></a>00738    styleMarker.Copy(*hist);
<a name="l00739"></a>00739    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00740"></a>00740 
<a name="l00741"></a>00741    Double_t xbins[8] = {-20, -5, -3, -1, +1, +3, +5, +20};
<a name="l00742"></a>00742 
<a name="l00743"></a>00743    shName = <span class="stringliteral">&quot;hLongiChAsym_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00744"></a>00744    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 7, xbins);
<a name="l00745"></a>00745    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00746"></a>00746    hist-&gt;SetBit(TH1::kIsAverage);
<a name="l00747"></a>00747    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Longi. Time Diff, ns; Asymmetry;&quot;</span>);
<a name="l00748"></a>00748    styleMarker.Copy(*hist);
<a name="l00749"></a>00749    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00750"></a>00750 
<a name="l00751"></a>00751 
<a name="l00752"></a>00752    shName = <span class="stringliteral">&quot;hNormHJ2PCVsTargetId_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00753"></a>00753    map&lt;string, TStyle*&gt; sfx2styles;
<a name="l00754"></a>00754    sfx2styles[<span class="stringliteral">&quot;_H&quot;</span>] = (TStyle*) <span class="keyword">new</span> TAttMarker(<a class="code" href="classRunConfig.html#ae1c9c2b9f2dbd23999f6bc3d24c44957">RunConfig::AsMarker</a>(<a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a5256d33afef655ac4c9ad2f3f85868aa">kTARGET_H</a>, polId));
<a name="l00755"></a>00755    sfx2styles[<span class="stringliteral">&quot;_V&quot;</span>] = (TStyle*) <span class="keyword">new</span> TAttMarker(<a class="code" href="classRunConfig.html#ae1c9c2b9f2dbd23999f6bc3d24c44957">RunConfig::AsMarker</a>(<a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a812ce600dc09718a778f225d751a10f2">kTARGET_V</a>, polId));
<a name="l00756"></a>00756    hist = utils::ConstructTH1CWithTGraphErrorsMap(shName.c_str(), <span class="stringliteral">&quot;; Target Id; H-jet/p-Carbon Pol. Ratio;&quot;</span>, sfx2styles, 6, 0.5, 6.5, 10, 0, 1.5);
<a name="l00757"></a>00757    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00758"></a>00758 }
<a name="l00759"></a>00759 
<a name="l00760"></a>00760 
<a name="l00762"></a><a class="code" href="classMAsymRunHists.html#a99ee7f55a720637d7006d6fb5d9cf768">00762</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a99ee7f55a720637d7006d6fb5d9cf768">MAsymRunHists::BookHistsByRing</a>(<a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> &amp;oc, <a class="code" href="AsymCommon_8h.html#a36f5097aa057912ce1fd10ae3c8970f2">ERingId</a> ringId, <a class="code" href="AsymCommon_8h.html#a27fa7e1c3dafe1ff85fce6d38d8af11c">EBeamEnergy</a> beamE)
<a name="l00763"></a>00763 {
<a name="l00764"></a>00764    <span class="keywordtype">string</span>   shName;
<a name="l00765"></a>00765    <span class="keywordtype">string</span>   sRingId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(ringId);
<a name="l00766"></a>00766    <span class="keywordtype">string</span>   sBeamE  = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(beamE);
<a name="l00767"></a>00767    Color_t  color   = <a class="code" href="classRunConfig.html#a53cc5296e4bc66ab2a2dc83098bf337a">RunConfig::AsColor</a>(ringId);
<a name="l00768"></a>00768    TH1     *hist;
<a name="l00769"></a>00769 
<a name="l00770"></a>00770    <span class="comment">//TStyle styleMarker;</span>
<a name="l00771"></a>00771    TAttMarker styleMarker;
<a name="l00772"></a>00772    styleMarker.SetMarkerStyle(kFullCircle);
<a name="l00773"></a>00773    styleMarker.SetMarkerSize(1);
<a name="l00774"></a>00774    styleMarker.SetMarkerColor(color);
<a name="l00775"></a>00775 
<a name="l00776"></a>00776    shName = <span class="stringliteral">&quot;hPolarHJVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00777"></a>00777    hist = utils::ConstructTH1CWithTGraphErrors(shName.c_str(), <span class="stringliteral">&quot;; Fill Id; Polarization (H-jet), %;&quot;</span>, (TStyle*) &amp;styleMarker);
<a name="l00778"></a>00778    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00779"></a>00779 
<a name="l00780"></a>00780    shName = <span class="stringliteral">&quot;hAsymHJVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00781"></a>00781    hist = utils::ConstructTH1CWithTGraphErrors(shName.c_str(), <span class="stringliteral">&quot;; Fill Id; Asymmetry (H-jet);&quot;</span>, (TStyle*) &amp;styleMarker);
<a name="l00782"></a>00782    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00783"></a>00783 
<a name="l00784"></a>00784    shName = <span class="stringliteral">&quot;hPolarVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00785"></a>00785    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00786"></a>00786    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Beam Polarization, %;&quot;</span>);
<a name="l00787"></a>00787    hist-&gt;SetOption(<span class="stringliteral">&quot;E1 GRIDX GRIDY&quot;</span>);
<a name="l00788"></a>00788    styleMarker.Copy(*hist);
<a name="l00789"></a>00789    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00790"></a>00790 
<a name="l00791"></a>00791    shName = <span class="stringliteral">&quot;hPolarRatioVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00792"></a>00792    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0.5, 1.5);
<a name="l00793"></a>00793    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization Ratio;&quot;</span>);
<a name="l00794"></a>00794    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00795"></a>00795    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00796"></a>00796 
<a name="l00797"></a>00797    shName = <span class="stringliteral">&quot;hPolarRatioVsFill_HJOnly_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00798"></a>00798    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0.5, 1.5);
<a name="l00799"></a>00799    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization Ratio;&quot;</span>);
<a name="l00800"></a>00800    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00801"></a>00801    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00802"></a>00802 
<a name="l00803"></a>00803    shName = <span class="stringliteral">&quot;hPolarUDRatioVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00804"></a>00804    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0.5, 1.5);
<a name="l00805"></a>00805    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Polarization Rel. Diff., %;&quot;</span>);
<a name="l00806"></a>00806    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00807"></a>00807    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00808"></a>00808 
<a name="l00809"></a>00809    shName = <span class="stringliteral">&quot;hPolarRelDiff_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00810"></a>00810    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 140, 0, 70);
<a name="l00811"></a>00811    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Polarization Rel. Diff., %; ;&quot;</span>);
<a name="l00812"></a>00812    hist-&gt;SetLineWidth(2);
<a name="l00813"></a>00813    hist-&gt;SetLineColor(color);
<a name="l00814"></a>00814    hist-&gt;SetOption(<span class="stringliteral">&quot;hist&quot;</span>);
<a name="l00815"></a>00815    <a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00816"></a>00816 
<a name="l00817"></a>00817    shName = <span class="stringliteral">&quot;hPolarRelDiffCumul_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00818"></a>00818    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 140, 0, 70);
<a name="l00819"></a>00819    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Cumulative Pol. Rel. Diff., %; ;&quot;</span>);
<a name="l00820"></a>00820    hist-&gt;SetLineWidth(2);
<a name="l00821"></a>00821    hist-&gt;SetLineColor(color);
<a name="l00822"></a>00822    hist-&gt;SetOption(<span class="stringliteral">&quot;hist&quot;</span>);
<a name="l00823"></a>00823    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00824"></a>00824 
<a name="l00825"></a>00825    shName = <span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00826"></a>00826    hist = utils::ConstructTH1CWithTGraphErrors(shName.c_str(), <span class="stringliteral">&quot;; Fill Id; Polar. Decay #frac{dP}{dt}, %/hour;&quot;</span>, (TStyle*) &amp;styleMarker);
<a name="l00827"></a>00827    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00828"></a>00828 
<a name="l00829"></a>00829    <span class="comment">// By target orientation</span>
<a name="l00830"></a>00830    shName = <span class="stringliteral">&quot;hProfPMaxVsFill_H_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00831"></a>00831    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00832"></a>00832    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Prof. P_max;&quot;</span>);
<a name="l00833"></a>00833    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00834"></a>00834    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00835"></a>00835 
<a name="l00836"></a>00836    shName = <span class="stringliteral">&quot;hProfPolarVsFill_H_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE;
<a name="l00837"></a>00837    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00838"></a>00838    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Prof. P;&quot;</span>);
<a name="l00839"></a>00839    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00840"></a>00840    styleMarker.Copy(*hist); oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00841"></a>00841 
<a name="l00842"></a>00842    <span class="comment">// decay</span>
<a name="l00843"></a>00843    shName = <span class="stringliteral">&quot;hIntensDecayVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00844"></a>00844    hist = <span class="keyword">new</span> TH1F(shName.c_str(), shName.c_str(), 1, 0, 1);
<a name="l00845"></a>00845    hist-&gt;GetYaxis()-&gt;SetRangeUser(0, 100);
<a name="l00846"></a>00846    hist-&gt;SetTitle(<span class="stringliteral">&quot;; Fill Id; Lifetime, hour;&quot;</span>);
<a name="l00847"></a>00847    hist-&gt;SetOption(<span class="stringliteral">&quot;E1&quot;</span>);
<a name="l00848"></a>00848    styleMarker.Copy(*hist);
<a name="l00849"></a>00849    oc.<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName] = hist;
<a name="l00850"></a>00850 }
<a name="l00851"></a>00851 
<a name="l00852"></a>00852 
<a name="l00854"></a><a class="code" href="classMAsymRunHists.html#ab78cf13a7f81bbca803cd507ed9222bb">00854</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#ab78cf13a7f81bbca803cd507ed9222bb">MAsymRunHists::Fill</a>(<span class="keyword">const</span> <a class="code" href="classEventConfig.html">EventConfig</a> &amp;rc)
<a name="l00855"></a>00855 {
<a name="l00856"></a>00856    <span class="keywordtype">char</span>     hName[256];
<a name="l00857"></a>00857    <span class="keywordtype">string</span>   shName;
<a name="l00858"></a>00858    TH1     *hist;
<a name="l00859"></a>00859 
<a name="l00860"></a>00860    Double_t runId            = rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>;
<a name="l00861"></a>00861    UInt_t   beamEnergy       = rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a41415c151cc2df84cef2407f6e1f5e49">GetBeamEnergy</a>();
<a name="l00862"></a>00862    Short_t  polId            = rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a39f8897fec12136fab2ad6e95937bf1e">fPolId</a>;
<a name="l00863"></a>00863    time_t   measStartTime    = rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#aa7860fd7d752b2f63cf7eec5860ef0c9">fStartTime</a>;
<a name="l00864"></a>00864    <span class="comment">//Float_t  profileRatio     = rc.fAnaMeasResult-&gt;fProfilePolarR.first;</span>
<a name="l00865"></a>00865    <span class="comment">//Float_t  profileRatioErr  = rc.fAnaMeasResult-&gt;fProfilePolarR.second;</span>
<a name="l00866"></a>00866    Float_t  max_rate         = rc.<a class="code" href="classEventConfig.html#ae9a2dd5008bac29f322bc376838b9c91">fAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#af9bf470fc9d53415ffd2211fa26bb967">max_rate</a>;
<a name="l00867"></a>00867 
<a name="l00868"></a>00868    <a class="code" href="classChannelCalib.html" title="A data container to hold a complete set of calibration parameters for each detector...">ChannelCalib</a> chCalib      = rc.<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#abe1220968d92f4dcd26b1faa583d1687">GetMeanChannel</a>();
<a name="l00869"></a>00869 
<a name="l00870"></a>00870    Float_t t0    = chCalib.<a class="code" href="classChannelCalib.html#a5108e031c293c33b684b919103b5297c" title="Average time offset for all triggers.">fT0Coef</a>;
<a name="l00871"></a>00871    Float_t t0Err = chCalib.<a class="code" href="classChannelCalib.html#ac28535c05c6faeee513b7f6969f9f791" title="Error on the average time offset for all triggers.">fT0CoefErr</a>;
<a name="l00872"></a>00872    Float_t dl    = chCalib.<a class="code" href="classChannelCalib.html#a6ad54b011d8327b0b07f91fef6c2a0f0" title="Width of the detector channel&amp;#39;s dead layer.">fDLWidth</a>;
<a name="l00873"></a>00873    Float_t dlErr = chCalib.<a class="code" href="classChannelCalib.html#ab3a95733e3d010ff0ce9e8b2b417539f" title="Error on the width of the detector channel&amp;#39;s dead layer.">fDLWidthErr</a>;
<a name="l00874"></a>00874 
<a name="l00875"></a>00875    <span class="keywordtype">string</span> sPolId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>((<a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683c">EPolarimeterId</a>) polId);
<a name="l00876"></a>00876    <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>((<a class="code" href="AsymCommon_8h.html#a27fa7e1c3dafe1ff85fce6d38d8af11c">EBeamEnergy</a>) beamEnergy);
<a name="l00877"></a>00877 
<a name="l00878"></a>00878    <span class="comment">// Find corresponding sub directory</span>
<a name="l00879"></a>00879    <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_pol = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sPolId)-&gt;second;
<a name="l00880"></a>00880 
<a name="l00881"></a>00881    TGraphErrors *graphErrs = 0;
<a name="l00882"></a>00882    TGraph       *graph = 0;
<a name="l00883"></a>00883 
<a name="l00884"></a>00884    <span class="comment">// Rate</span>
<a name="l00885"></a>00885    sprintf(hName, <span class="stringliteral">&quot;hMaxRateVsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00886"></a>00886    graph = (TGraph*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grMaxRateVsMeas&quot;</span>);
<a name="l00887"></a>00887    graph-&gt;SetPoint(graph-&gt;GetN(), runId, max_rate);
<a name="l00888"></a>00888 
<a name="l00889"></a>00889    <span class="comment">// Targets</span>
<a name="l00890"></a>00890    sprintf(hName, <span class="stringliteral">&quot;hTargetVsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00891"></a>00891 
<a name="l00892"></a>00892    <span class="keywordflow">if</span> (rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#acc529322c110f2a947dd7312d2e51be4">GetTargetOrient</a>() == <a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a5256d33afef655ac4c9ad2f3f85868aa">kTARGET_H</a>) {
<a name="l00893"></a>00893       graph = (TGraph*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grHTargetVsMeas&quot;</span>);
<a name="l00894"></a>00894    }
<a name="l00895"></a>00895 
<a name="l00896"></a>00896    <span class="keywordflow">if</span> (rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#acc529322c110f2a947dd7312d2e51be4">GetTargetOrient</a>() == <a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a812ce600dc09718a778f225d751a10f2">kTARGET_V</a>) {
<a name="l00897"></a>00897       graph = (TGraph*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grVTargetVsMeas&quot;</span>);
<a name="l00898"></a>00898    }
<a name="l00899"></a>00899 
<a name="l00900"></a>00900    graph-&gt;SetPoint(graph-&gt;GetN(), runId, rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a9cd817ca512ec55cbb549336bc7bc8f3">GetTargetId</a>());
<a name="l00901"></a>00901 
<a name="l00902"></a>00902    <span class="comment">// Get sine modulation fit results</span>
<a name="l00903"></a>00903    TFitResultPtr fitResAsymPhi  = rc.<a class="code" href="classEventConfig.html#ae9a2dd5008bac29f322bc376838b9c91">fAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#a31f9eace7ddddb286e562afbae9a5233">fFitResAsymPhi</a>;
<a name="l00904"></a>00904    TFitResultPtr fitResPolarPhi = rc.<a class="code" href="classEventConfig.html#ae9a2dd5008bac29f322bc376838b9c91">fAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#abe5a00bb73d6db1088239f1f3696cf1a">fFitResPolarPhi</a>;
<a name="l00905"></a>00905 
<a name="l00906"></a>00906    <span class="comment">// Expect valid results</span>
<a name="l00907"></a>00907    <span class="comment">//assert(fitResAsymPhi.Get());</span>
<a name="l00908"></a>00908    <span class="comment">//assert(fitResPolarPhi.Get());</span>
<a name="l00909"></a>00909 
<a name="l00910"></a>00910    Float_t spinAngle       = 0;
<a name="l00911"></a>00911    Float_t spinAngleErr    = 0;
<a name="l00912"></a>00912    Float_t polarization    = 0;
<a name="l00913"></a>00913    Float_t polarizationErr = 0;
<a name="l00914"></a>00914 
<a name="l00915"></a>00915    <span class="keywordflow">if</span> ( fitResAsymPhi.Get() &amp;&amp; fitResPolarPhi.Get() ) {
<a name="l00916"></a>00916       spinAngle    = fitResAsymPhi-&gt;Value(1) / TMath::Pi() * 180;
<a name="l00917"></a>00917       spinAngleErr = fitResAsymPhi-&gt;FitResult::Error(1) / TMath::Pi() * 180;
<a name="l00918"></a>00918 
<a name="l00919"></a>00919       polarization    = fitResPolarPhi-&gt;Value(0) * 100.;
<a name="l00920"></a>00920       polarizationErr = fitResPolarPhi-&gt;FitResult::Error(0) * 100.;
<a name="l00921"></a>00921    }
<a name="l00922"></a>00922 
<a name="l00923"></a>00923 
<a name="l00924"></a>00924    UInt_t nPoints = 0;
<a name="l00925"></a>00925 
<a name="l00926"></a>00926    <span class="comment">// Spin Angle</span>
<a name="l00927"></a>00927    shName = <span class="stringliteral">&quot;hSpinAngleVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l00928"></a>00928    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grSpinAngleVsMeas&quot;</span>);
<a name="l00929"></a>00929    nPoints = graphErrs-&gt;GetN();
<a name="l00930"></a>00930    graphErrs-&gt;SetPoint(nPoints, runId,  spinAngle);
<a name="l00931"></a>00931    graphErrs-&gt;SetPointError(nPoints, 0, spinAngleErr);
<a name="l00932"></a>00932 
<a name="l00933"></a>00933    <span class="comment">// Polarization</span>
<a name="l00934"></a>00934    sprintf(hName, <span class="stringliteral">&quot;hPolarVsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00935"></a>00935    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grPolarVsMeas&quot;</span>);
<a name="l00936"></a>00936    nPoints = graphErrs-&gt;GetN();
<a name="l00937"></a>00937    graphErrs-&gt;SetPoint(nPoints, runId, polarization);
<a name="l00938"></a>00938    graphErrs-&gt;SetPointError(nPoints, 0, polarizationErr);
<a name="l00939"></a>00939 
<a name="l00940"></a>00940    <span class="comment">// Polarization vs time</span>
<a name="l00941"></a>00941    sprintf(hName, <span class="stringliteral">&quot;hPolarVsTime_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00942"></a>00942    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grPolarVsTime&quot;</span>);
<a name="l00943"></a>00943    nPoints = graphErrs-&gt;GetN();
<a name="l00944"></a>00944    graphErrs-&gt;SetPoint(nPoints, measStartTime, polarization);
<a name="l00945"></a>00945    graphErrs-&gt;SetPointError(nPoints, 0, polarizationErr);
<a name="l00946"></a>00946 
<a name="l00947"></a>00947    <span class="comment">// t0</span>
<a name="l00948"></a>00948    sprintf(hName, <span class="stringliteral">&quot;hT0VsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00949"></a>00949    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsMeas&quot;</span>);
<a name="l00950"></a>00950    nPoints = graphErrs-&gt;GetN();
<a name="l00951"></a>00951    graphErrs-&gt;SetPoint(nPoints, runId, t0);
<a name="l00952"></a>00952    graphErrs-&gt;SetPointError(nPoints, 0, t0Err);
<a name="l00953"></a>00953 
<a name="l00954"></a>00954    <span class="comment">// t0 vs time</span>
<a name="l00955"></a>00955    sprintf(hName, <span class="stringliteral">&quot;hT0VsTime_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00956"></a>00956    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsTime&quot;</span>);
<a name="l00957"></a>00957    nPoints = graphErrs-&gt;GetN();
<a name="l00958"></a>00958    graphErrs-&gt;SetPoint(nPoints, measStartTime, t0);
<a name="l00959"></a>00959    graphErrs-&gt;SetPointError(nPoints, 0, t0Err);
<a name="l00960"></a>00960 
<a name="l00961"></a>00961    <span class="comment">// Dead layer</span>
<a name="l00962"></a>00962    sprintf(hName, <span class="stringliteral">&quot;hDLVsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00963"></a>00963    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grDLVsMeas&quot;</span>);
<a name="l00964"></a>00964    utils::AppendToGraph(graphErrs, runId, dl, 0, dlErr);
<a name="l00965"></a>00965 
<a name="l00966"></a>00966    <span class="comment">// DL vs time</span>
<a name="l00967"></a>00967    sprintf(hName, <span class="stringliteral">&quot;hDLVsTime_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00968"></a>00968    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grDLVsTime&quot;</span>);
<a name="l00969"></a>00969    utils::AppendToGraph(graphErrs, measStartTime, dl, 0, dlErr);
<a name="l00970"></a>00970 
<a name="l00971"></a>00971    <span class="comment">// Banana fit params</span>
<a name="l00972"></a>00972    Float_t bananaChi2Ndf = chCalib.<a class="code" href="classChannelCalib.html#a3f2f79f9fda41cfff46bad6628540f3c">fBananaChi2Ndf</a>;
<a name="l00973"></a>00973 
<a name="l00974"></a>00974    sprintf(hName, <span class="stringliteral">&quot;hBananaChi2NdfVsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l00975"></a>00975    graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grBananaChi2Ndf&quot;</span>);
<a name="l00976"></a>00976    nPoints = graphErrs-&gt;GetN();
<a name="l00977"></a>00977    graphErrs-&gt;SetPoint(nPoints, runId, bananaChi2Ndf);
<a name="l00978"></a>00978 
<a name="l00979"></a>00979    <span class="comment">// per channel hists</span>
<a name="l00980"></a>00980    <span class="comment">//ChannelSetIter iCh = gMeasInfo-&gt;fSiliconChannels.begin();</span>
<a name="l00981"></a>00981    <span class="comment">//for (; iCh!=gMeasInfo-&gt;fSiliconChannels.end(); ++iCh)</span>
<a name="l00982"></a>00982    <span class="keywordflow">for</span> (UShort_t iCh=1; iCh&lt;=<a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>; iCh++)
<a name="l00983"></a>00983    {
<a name="l00984"></a>00984       <span class="keywordtype">string</span> sChId(<span class="stringliteral">&quot;  &quot;</span>);
<a name="l00985"></a>00985       sprintf(&amp;sChId[0], <span class="stringliteral">&quot;%02d&quot;</span>, iCh);
<a name="l00986"></a>00986 
<a name="l00987"></a>00987       <span class="comment">// Find corresponding sub directory</span>
<a name="l00988"></a>00988       <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_ch = oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(<span class="stringliteral">&quot;channel&quot;</span> + sChId)-&gt;second;
<a name="l00989"></a>00989 
<a name="l00990"></a>00990       <span class="comment">// T0</span>
<a name="l00991"></a>00991       t0    = rc.<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#addcde9cc6da6298f036d92198e3fa1ae">GetChannelCalib</a>(iCh).<a class="code" href="classChannelCalib.html#a5108e031c293c33b684b919103b5297c" title="Average time offset for all triggers.">fT0Coef</a>;
<a name="l00992"></a>00992       t0Err = rc.<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#addcde9cc6da6298f036d92198e3fa1ae">GetChannelCalib</a>(iCh).<a class="code" href="classChannelCalib.html#ac28535c05c6faeee513b7f6969f9f791" title="Error on the average time offset for all triggers.">fT0CoefErr</a>;
<a name="l00993"></a>00993 
<a name="l00994"></a>00994       <span class="comment">// XXX also should be removed when real QA is available</span>
<a name="l00995"></a>00995       <span class="keywordflow">if</span> (isnan(t0) || isinf(t0) || isnan(t0Err) || isinf(t0Err)) <span class="keywordflow">continue</span>;
<a name="l00996"></a>00996 
<a name="l00997"></a>00997       shName = <span class="stringliteral">&quot;hT0VsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId;
<a name="l00998"></a>00998       graphErrs = (TGraphErrors*) ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsMeas&quot;</span>);
<a name="l00999"></a>00999       nPoints = graphErrs-&gt;GetN();
<a name="l01000"></a>01000       graphErrs-&gt;SetPoint(nPoints, runId, t0);
<a name="l01001"></a>01001       graphErrs-&gt;SetPointError(nPoints, 0, t0Err);
<a name="l01002"></a>01002 
<a name="l01003"></a>01003       shName = <span class="stringliteral">&quot;hT0_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId;
<a name="l01004"></a>01004       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName]) -&gt; <a class="code" href="classMAsymRunHists.html#ab78cf13a7f81bbca803cd507ed9222bb">Fill</a>(t0);
<a name="l01005"></a>01005 
<a name="l01006"></a>01006       <span class="comment">// DL</span>
<a name="l01007"></a>01007       dl    = rc.<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#addcde9cc6da6298f036d92198e3fa1ae">GetChannelCalib</a>(iCh).<a class="code" href="classChannelCalib.html#a6ad54b011d8327b0b07f91fef6c2a0f0" title="Width of the detector channel&amp;#39;s dead layer.">fDLWidth</a>;
<a name="l01008"></a>01008       dlErr = rc.<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#addcde9cc6da6298f036d92198e3fa1ae">GetChannelCalib</a>(iCh).<a class="code" href="classChannelCalib.html#ab3a95733e3d010ff0ce9e8b2b417539f" title="Error on the width of the detector channel&amp;#39;s dead layer.">fDLWidthErr</a>;
<a name="l01009"></a>01009 
<a name="l01010"></a>01010       sprintf(hName, <span class="stringliteral">&quot;hDLVsMeas_%s_%s_%02d&quot;</span>, sPolId.c_str(), sBeamE.c_str(), iCh);
<a name="l01011"></a>01011       graphErrs = (TGraphErrors*) ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grDLVsMeas&quot;</span>);
<a name="l01012"></a>01012       nPoints = graphErrs-&gt;GetN();
<a name="l01013"></a>01013       graphErrs-&gt;SetPoint(nPoints, runId, dl);
<a name="l01014"></a>01014       graphErrs-&gt;SetPointError(nPoints, 0, dlErr);
<a name="l01015"></a>01015 
<a name="l01016"></a>01016       sprintf(hName, <span class="stringliteral">&quot;hDL_%s_%s_%02d&quot;</span>, sPolId.c_str(), sBeamE.c_str(), iCh);
<a name="l01017"></a>01017       ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;Fill(dl);
<a name="l01018"></a>01018 
<a name="l01019"></a>01019       <span class="comment">// t0 vs DL</span>
<a name="l01020"></a>01020       sprintf(hName, <span class="stringliteral">&quot;hT0VsDL_%s_%s_%02d&quot;</span>, sPolId.c_str(), sBeamE.c_str(), iCh);
<a name="l01021"></a>01021       graphErrs = (TGraphErrors*) ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsDL&quot;</span>);
<a name="l01022"></a>01022       nPoints = graphErrs-&gt;GetN();
<a name="l01023"></a>01023       graphErrs-&gt;SetPoint(nPoints, dl, t0);
<a name="l01024"></a>01024       graphErrs-&gt;SetPointError(nPoints, dlErr, t0Err);
<a name="l01025"></a>01025    }
<a name="l01026"></a>01026 
<a name="l01027"></a>01027 
<a name="l01028"></a>01028    <span class="comment">// Disabled channels per fill</span>
<a name="l01029"></a>01029    shName = <span class="stringliteral">&quot;hDisabledChVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01030"></a>01030    hist = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[shName];
<a name="l01031"></a>01031 
<a name="l01032"></a>01032    UInt_t fillId = (UInt_t) runId;
<a name="l01033"></a>01033 
<a name="l01034"></a>01034    <a class="code" href="AsymCommon_8h.html#a93d3cd3a3457d7262a2f577005e9b958">ChannelSet</a> &amp;disabledChs = rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a0b8c5418b792a5cbdf6a8477d6ed8f2e">fDisabledChannels</a>;
<a name="l01035"></a>01035    <a class="code" href="AsymCommon_8h.html#a59e00ba1e0bb285b8dc8f933ee8d07f9">ChannelSetConstIter</a> iDisCh = disabledChs.begin();
<a name="l01036"></a>01036 
<a name="l01037"></a>01037    <span class="keywordflow">for</span> ( ; iDisCh != disabledChs.end(); ++iDisCh)
<a name="l01038"></a>01038    {
<a name="l01039"></a>01039       hist-&gt;SetBinContent(fillId - <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a> + 1, *iDisCh, 1);
<a name="l01040"></a>01040    }
<a name="l01041"></a>01041 }
<a name="l01042"></a>01042 
<a name="l01043"></a>01043 
<a name="l01045"></a><a class="code" href="classMAsymRunHists.html#ae51f70da43ee002146c906b73f7503cd">01045</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#ab78cf13a7f81bbca803cd507ed9222bb">MAsymRunHists::Fill</a>(<a class="code" href="classEventConfig.html">EventConfig</a> &amp;rc, <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> &amp;oc)
<a name="l01046"></a>01046 {
<a name="l01047"></a>01047    Short_t  polId            = rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a39f8897fec12136fab2ad6e95937bf1e">fPolId</a>;
<a name="l01048"></a>01048    UInt_t   beamEnergy       = rc.<a class="code" href="classEventConfig.html#a7bf834061486f136edebaed1346a192d">fMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a41415c151cc2df84cef2407f6e1f5e49">GetBeamEnergy</a>();
<a name="l01049"></a>01049 
<a name="l01050"></a>01050    <span class="keywordtype">string</span> sPolId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>((<a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683c">EPolarimeterId</a>) polId);
<a name="l01051"></a>01051    <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>((<a class="code" href="AsymCommon_8h.html#a27fa7e1c3dafe1ff85fce6d38d8af11c">EBeamEnergy</a>) beamEnergy);
<a name="l01052"></a>01052 
<a name="l01053"></a>01053    <a class="code" href="classCnipolAsymHists.html">CnipolAsymHists</a> *ah = (<a class="code" href="classCnipolAsymHists.html">CnipolAsymHists</a>*) oc.<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(<span class="stringliteral">&quot;asym&quot;</span>)-&gt;second;
<a name="l01054"></a>01054 
<a name="l01055"></a>01055    <span class="keywordflow">if</span> (!ah) {
<a name="l01056"></a>01056       Error(<span class="stringliteral">&quot;Fill(DrawObjContainer &amp;oc)&quot;</span>, <span class="stringliteral">&quot;Asym container required&quot;</span>);
<a name="l01057"></a>01057       <span class="keywordflow">return</span>;
<a name="l01058"></a>01058    }
<a name="l01059"></a>01059 
<a name="l01060"></a>01060    <span class="comment">// Find corresponding sub directory</span>
<a name="l01061"></a>01061    <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_pol = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sPolId)-&gt;second;
<a name="l01062"></a>01062 
<a name="l01063"></a>01063    TH1 *hAsym_meas;
<a name="l01064"></a>01064    TH1 *hAsym;
<a name="l01065"></a>01065 
<a name="l01066"></a>01066    hAsym_meas = (TH1*) ah-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>.find(<span class="stringliteral">&quot;hKinEnergyAChAsym&quot;</span>)-&gt;second;
<a name="l01067"></a>01067 
<a name="l01068"></a>01068    hAsym = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hKinEnergyAChAsym_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01069"></a>01069 
<a name="l01070"></a>01070    hAsym_meas-&gt;SetBit(TH1::kIsAverage);
<a name="l01071"></a>01071    hAsym-&gt;Add(hAsym_meas);
<a name="l01072"></a>01072 
<a name="l01073"></a>01073    hAsym_meas = (TH1*) ah-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>.find(<span class="stringliteral">&quot;hLongiChAsym&quot;</span>)-&gt;second;
<a name="l01074"></a>01074 
<a name="l01075"></a>01075    hAsym = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hLongiChAsym_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01076"></a>01076    hAsym_meas-&gt;SetBit(TH1::kIsAverage);
<a name="l01077"></a>01077    hAsym-&gt;Add(hAsym_meas);
<a name="l01078"></a>01078 
<a name="l01079"></a>01079    <span class="comment">//printf(&quot;Found asym hist %s %d\n&quot;, hAsym-&gt;GetName(), hAsym-&gt;GetIntegral());</span>
<a name="l01080"></a>01080    <span class="comment">//printf(&quot;Found asym hist %f\n&quot;, hAsym-&gt;Integral());</span>
<a name="l01081"></a>01081    <span class="comment">//printf(&quot;Found asym hist \n&quot;);</span>
<a name="l01082"></a>01082 
<a name="l01083"></a>01083 }
<a name="l01084"></a>01084 
<a name="l01085"></a>01085 
<a name="l01087"></a><a class="code" href="classMAsymRunHists.html#a9e7b419c2e38f25b4944571b8e594d83">01087</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a9e7b419c2e38f25b4944571b8e594d83">MAsymRunHists::Print</a>(<span class="keyword">const</span> Option_t* opt)<span class="keyword"> const</span>
<a name="l01088"></a>01088 <span class="keyword"></span>{
<a name="l01089"></a>01089    <a class="code" href="classMAsymRunHists.html#a9e7b419c2e38f25b4944571b8e594d83">DrawObjContainer::Print</a>();
<a name="l01090"></a>01090 }
<a name="l01091"></a>01091 
<a name="l01092"></a>01092 
<a name="l01094"></a><a class="code" href="classMAsymRunHists.html#a12095b185faa5a1be6be87a1f346dd12">01094</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a707617dfc400db16ffa4dbf298eb3825">MAsymRunHists::PostFill</a>(<a class="code" href="classAnaGlobResult.html">AnaGlobResult</a> &amp;agr)
<a name="l01095"></a>01095 {
<a name="l01096"></a>01096    <span class="comment">// Loop over all fill results</span>
<a name="l01097"></a>01097    <a class="code" href="AnaFillResult_8h.html#a8eae77de9adeedcf14a8802ec2040567">AnaFillResultMapIter</a> iafr = agr.<a class="code" href="classAnaGlobResult.html#a522fd4d0e650068423257985118b4598">fAnaFillResults</a>.begin();
<a name="l01098"></a>01098    <span class="keywordflow">for</span> ( ; iafr != agr.<a class="code" href="classAnaGlobResult.html#a522fd4d0e650068423257985118b4598">fAnaFillResults</a>.end(); ++iafr)
<a name="l01099"></a>01099    {
<a name="l01100"></a>01100       <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l01101"></a>01101       <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l01102"></a>01102       {
<a name="l01103"></a>01103          <a class="code" href="AsymCommon_8h.html#a42226acde2fbb79137d009606b8abfba">PolarimeterIdSetIter</a> iPolId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.begin();
<a name="l01104"></a>01104          <span class="keywordflow">for</span> (; iPolId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.end(); ++iPolId)
<a name="l01105"></a>01105          {
<a name="l01106"></a>01106             PostFillByPolarimeter(agr, iafr, *iPolId, *iBE);
<a name="l01107"></a>01107          }
<a name="l01108"></a>01108 
<a name="l01109"></a>01109          <a class="code" href="AsymCommon_8h.html#a98aec11a4c2226bca69b7e48bdc9ad48">RingIdSetIter</a> iRingId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.begin();
<a name="l01110"></a>01110          <span class="keywordflow">for</span> ( ; iRingId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.end(); ++iRingId)
<a name="l01111"></a>01111          {
<a name="l01112"></a>01112             PostFillByRing(agr, iafr, *iRingId, *iBE);
<a name="l01113"></a>01113          }
<a name="l01114"></a>01114       }
<a name="l01115"></a>01115    }
<a name="l01116"></a>01116 
<a name="l01117"></a>01117    TGraph *graph;
<a name="l01118"></a>01118    TH1    *hist;
<a name="l01119"></a>01119 
<a name="l01120"></a>01120    <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l01121"></a>01121    <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l01122"></a>01122    {
<a name="l01123"></a>01123       <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iBE);
<a name="l01124"></a>01124 
<a name="l01125"></a>01125       <a class="code" href="AsymCommon_8h.html#a42226acde2fbb79137d009606b8abfba">PolarimeterIdSetIter</a> iPolId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.begin();
<a name="l01126"></a>01126       <span class="keywordflow">for</span> ( ; iPolId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.end(); ++iPolId)
<a name="l01127"></a>01127       {
<a name="l01128"></a>01128          <a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683c">EPolarimeterId</a> polId     = *iPolId;
<a name="l01129"></a>01129          <span class="keywordtype">string</span> sPolId            = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(polId);
<a name="l01130"></a>01130          <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_pol = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sPolId)-&gt;second;
<a name="l01131"></a>01131 
<a name="l01132"></a>01132          TH1F* hPolarHJVsFill_  = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarHJVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01133"></a>01133          hPolarHJVsFill_-&gt;Print();
<a name="l01134"></a>01134          hPolarHJVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01135"></a>01135 
<a name="l01136"></a>01136          TH1F* hPolarPCVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01137"></a>01137          hPolarPCVsFill_-&gt;Print();
<a name="l01138"></a>01138          hPolarPCVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01139"></a>01139 
<a name="l01140"></a>01140          TH1F* hPolarPCScaledVsFill_HJOnly_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01141"></a>01141          hPolarPCScaledVsFill_HJOnly_-&gt;Print();
<a name="l01142"></a>01142          hPolarPCScaledVsFill_HJOnly_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01143"></a>01143 
<a name="l01144"></a>01144          <span class="comment">// Ratio of Hjet over pC</span>
<a name="l01145"></a>01145          TH1F* hNormJCVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hNormJCVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01146"></a>01146          hNormJCVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01147"></a>01147          hNormJCVsFill_-&gt;Divide(hPolarHJVsFill_, hPolarPCVsFill_);
<a name="l01148"></a>01148          hNormJCVsFill_-&gt;Print();
<a name="l01149"></a>01149          hNormJCVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01150"></a>01150 
<a name="l01151"></a>01151          <span class="comment">//TH1F* hPolarHJPCRelDiff_      = (TH1F*) oc_pol-&gt;o[&quot;hPolarHJPCRelDiff_&quot; + sPolId + &quot;_&quot; + sBeamE];</span>
<a name="l01152"></a>01152          <span class="comment">//TH1F* hPolarHJPCRelDiffCumul_ = (TH1F*) oc_pol-&gt;o[&quot;hPolarHJPCRelDiffCumul_&quot; + sPolId + &quot;_&quot; + sBeamE];</span>
<a name="l01153"></a>01153          <span class="comment">//TH1F* hProfPolarRelDiff_      = (TH1F*) oc_pol-&gt;o[&quot;hProfPolarRelDiff_&quot; + sPolId + &quot;_&quot; + sBeamE];</span>
<a name="l01154"></a>01154          <span class="comment">//TH1F* hProfPolarRelDiffCumul_ = (TH1F*) oc_pol-&gt;o[&quot;hProfPolarRelDiffCumul_&quot; + sPolId + &quot;_&quot; + sBeamE];</span>
<a name="l01155"></a>01155          <span class="comment">//utils::ConvertToProfile(hPolarHJPCRatioSystVsFill_, hPolarHJPCRelDiff_, kFALSE);</span>
<a name="l01156"></a>01156          <span class="comment">//utils::ConvertToProfile(hPolarHJPCRatioSystVsFill_, hPolarHJPCRelDiffCumul_, kFALSE);</span>
<a name="l01157"></a>01157          <span class="comment">//utils::ConvertToCumulative(hPolarHJPCRelDiffCumul_);</span>
<a name="l01158"></a>01158          <span class="comment">//utils::ConvertToProfile(hProfPolarRatioSystVsFill_, hProfPolarRelDiff_, kFALSE);</span>
<a name="l01159"></a>01159          <span class="comment">//utils::ConvertToProfile(hProfPolarRatioSystVsFill_, hProfPolarRelDiffCumul_, kFALSE);</span>
<a name="l01160"></a>01160          <span class="comment">//utils::ConvertToCumulative(hProfPolarRelDiffCumul_);</span>
<a name="l01161"></a>01161 
<a name="l01162"></a>01162          TH1F* hPolarHJPCRatioVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarHJPCRatioVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01163"></a>01163          hPolarHJPCRatioVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01164"></a>01164          hPolarHJPCRatioVsFill_-&gt;Divide(hPolarHJVsFill_, hPolarPCScaledVsFill_HJOnly_); <span class="comment">// same as hPolarHJPCRatioSystVsFill_</span>
<a name="l01165"></a>01165          hPolarHJPCRatioVsFill_-&gt;Print();
<a name="l01166"></a>01166          hPolarHJPCRatioVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01167"></a>01167 
<a name="l01168"></a>01168          TH1F* hPolarHJPCRatioSystVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarHJPCRatioSystVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01169"></a>01169          hPolarHJPCRatioSystVsFill_-&gt;Print();
<a name="l01170"></a>01170          hPolarHJPCRatioSystVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01171"></a>01171 
<a name="l01172"></a>01172          TH1F* hPolarPCScaledVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01173"></a>01173          hPolarPCScaledVsFill_-&gt;Print();
<a name="l01174"></a>01174          hPolarPCScaledVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01175"></a>01175 
<a name="l01176"></a>01176          TH1F* hProfPolarVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hProfPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01177"></a>01177          hProfPolarVsFill_-&gt;Print();
<a name="l01178"></a>01178          hProfPolarVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01179"></a>01179 
<a name="l01180"></a>01180          TH1F* hProfPolarRatioSystVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hProfPolarRatioSystVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01181"></a>01181          hProfPolarRatioSystVsFill_-&gt;Print();
<a name="l01182"></a>01182          hProfPolarRatioSystVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01183"></a>01183 
<a name="l01184"></a>01184          TH1* hProfPolarRatioVsFill_ = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hProfPolarRatioVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01185"></a>01185          utils::Divide(hProfPolarVsFill_, hPolarPCScaledVsFill_, 1, hProfPolarRatioVsFill_);
<a name="l01186"></a>01186          hProfPolarRatioVsFill_-&gt;Print();
<a name="l01187"></a>01187          hProfPolarRatioVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01188"></a>01188          <span class="comment">//hProfPolarRatioVsFill_-&gt;GetYaxis()-&gt;UnZoom();</span>
<a name="l01189"></a>01189 
<a name="l01190"></a>01190          hist = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01191"></a>01191          utils::SetXAxisIntBinsLabels(hist, agr.<a class="code" href="classAnaGlobResult.html#ad21d971b386ddc9cbae5d4c496194c85">GetMinFill</a>(), agr.<a class="code" href="classAnaGlobResult.html#ad4366255aa59070ff11516b9b0866135">GetMaxFill</a>());
<a name="l01192"></a>01192          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01193"></a>01193          graph = utils::ExtractTGraph(*hist);
<a name="l01194"></a>01194          graph-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01195"></a>01195 
<a name="l01196"></a>01196          <a class="code" href="AsymCommon_8h.html#a36f5097aa057912ce1fd10ae3c8970f2">ERingId</a> ringId  = <a class="code" href="classRunConfig.html#a0602da2d5b3818688501e98147a3e8ee">RunConfig::GetRingId</a>(polId);
<a name="l01197"></a>01197          <span class="keywordtype">string</span>  sRingId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(ringId);
<a name="l01198"></a>01198          <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_ring = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sRingId)-&gt;second;
<a name="l01199"></a>01199 
<a name="l01200"></a>01200          hist = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01201"></a>01201          utils::SetXAxisIntBinsLabels(hist, agr.<a class="code" href="classAnaGlobResult.html#ad21d971b386ddc9cbae5d4c496194c85">GetMinFill</a>(), agr.<a class="code" href="classAnaGlobResult.html#ad4366255aa59070ff11516b9b0866135">GetMaxFill</a>());
<a name="l01202"></a>01202          TGraph* graphMerged = utils::ExtractTGraph(*hist);
<a name="l01203"></a>01203          utils::MergeGraphs(graphMerged, graph);
<a name="l01204"></a>01204          graphMerged-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01205"></a>01205          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01206"></a>01206 
<a name="l01207"></a>01207          TH1* hRSlopeVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRSlopeVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01208"></a>01208          hRSlopeVsFill_-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01209"></a>01209 
<a name="l01210"></a>01210          TGraph* grRSlopeVsFill_H_ = (TGraph*) hRSlopeVsFill_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRSlopeVsFill_H_&quot;</span>);
<a name="l01211"></a>01211          grRSlopeVsFill_H_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01212"></a>01212          TGraph* grRSlopeVsFill_V_ = (TGraph*) hRSlopeVsFill_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRSlopeVsFill_V_&quot;</span>);
<a name="l01213"></a>01213          grRSlopeVsFill_V_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01214"></a>01214 
<a name="l01215"></a>01215          TH1* hRSlopeVsPolarSlope_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRSlopeVsPolarSlope_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01216"></a>01216          utils::UpdateLimitsFromGraphs(hRSlopeVsPolarSlope_, 1);
<a name="l01217"></a>01217          utils::UpdateLimitsFromGraphs(hRSlopeVsPolarSlope_, 2);
<a name="l01218"></a>01218 
<a name="l01219"></a>01219          TGraphErrors* grRSlopeVsPolarSlope_H_ = (TGraphErrors*) hRSlopeVsPolarSlope_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRSlopeVsPolarSlope_H_&quot;</span>);
<a name="l01220"></a>01220          grRSlopeVsPolarSlope_H_-&gt;Fit(<span class="stringliteral">&quot;pol1&quot;</span>, <span class="stringliteral">&quot;EX0&quot;</span>);
<a name="l01221"></a>01221          TGraphErrors* grRSlopeVsPolarSlope_V_ = (TGraphErrors*) hRSlopeVsPolarSlope_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRSlopeVsPolarSlope_V_&quot;</span>);
<a name="l01222"></a>01222          grRSlopeVsPolarSlope_V_-&gt;Fit(<span class="stringliteral">&quot;pol1&quot;</span>, <span class="stringliteral">&quot;EX0&quot;</span>);
<a name="l01223"></a>01223 
<a name="l01224"></a>01224          <a class="code" href="AsymCommon_8h.html#a4000798fbd11dc1624c4472552ff7ad7">TargetOrientSetIter</a> iTgtOrient = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a1c080057217084746157e2aea6bc32d8">fTargetOrients</a>.begin();
<a name="l01225"></a>01225          <span class="keywordflow">for</span> ( ; iTgtOrient != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a1c080057217084746157e2aea6bc32d8">fTargetOrients</a>.end(); ++iTgtOrient)
<a name="l01226"></a>01226          {
<a name="l01227"></a>01227             <a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8">ETargetOrient</a> tgtOrient  = *iTgtOrient;
<a name="l01228"></a>01228             <span class="keywordtype">string</span>        sTgtOrient = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(tgtOrient);
<a name="l01229"></a>01229 
<a name="l01230"></a>01230             <span class="keywordflow">for</span> ( UShort_t iTgtId=1; iTgtId&lt;=6; iTgtId++)
<a name="l01231"></a>01231             {
<a name="l01232"></a>01232                <a class="code" href="classTargetUId.html">TargetUId</a> targetUId(polId, tgtOrient, iTgtId);
<a name="l01233"></a>01233                ValErrPair norm = agr.<a class="code" href="classAnaGlobResult.html#a82af387289401d9b8245ab27352602b3">fNormJetCarbonByTarget2</a>.find(targetUId)-&gt;second;
<a name="l01234"></a>01234 
<a name="l01235"></a>01235                <span class="keywordflow">if</span> ( norm.second &lt; 0) <span class="keywordflow">continue</span>;
<a name="l01236"></a>01236 
<a name="l01237"></a>01237                Float_t tinyOffset = tgtOrient == <a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a5256d33afef655ac4c9ad2f3f85868aa">kTARGET_H</a> ? -0.1 : +0.1;
<a name="l01238"></a>01238 
<a name="l01239"></a>01239                TH1* hist = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hNormHJ2PCVsTargetId_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01240"></a>01240                utils::AppendToTGraph(*hist, iTgtId+tinyOffset, norm.first, 0, norm.second, <span class="stringliteral">&quot;_&quot;</span> + sTgtOrient);
<a name="l01241"></a>01241                utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01242"></a>01242             }
<a name="l01243"></a>01243 
<a name="l01244"></a>01244             TH1* hist = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hNormHJ2PCVsTargetId_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01245"></a>01245             utils::ExtractTGraph(*hist, <span class="keywordtype">string</span>(<span class="stringliteral">&quot;_&quot;</span> + sTgtOrient).c_str())-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01246"></a>01246          }
<a name="l01247"></a>01247       }
<a name="l01248"></a>01248 
<a name="l01249"></a>01249 
<a name="l01250"></a>01250       <a class="code" href="AsymCommon_8h.html#a98aec11a4c2226bca69b7e48bdc9ad48">RingIdSetIter</a> iRingId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.begin();
<a name="l01251"></a>01251       <span class="keywordflow">for</span> ( ; iRingId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.end(); ++iRingId)
<a name="l01252"></a>01252       {
<a name="l01253"></a>01253          <span class="keywordtype">string</span> sRingId  = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iRingId);
<a name="l01254"></a>01254          <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_ring = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sRingId)-&gt;second;
<a name="l01255"></a>01255 
<a name="l01256"></a>01256          hist = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarHJVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01257"></a>01257          utils::SetXAxisIntBinsLabels(hist, agr.<a class="code" href="classAnaGlobResult.html#ad21d971b386ddc9cbae5d4c496194c85">GetMinFill</a>(), agr.<a class="code" href="classAnaGlobResult.html#ad4366255aa59070ff11516b9b0866135">GetMaxFill</a>());
<a name="l01258"></a>01258          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01259"></a>01259          utils::ExtractTGraph(*hist)-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01260"></a>01260 
<a name="l01261"></a>01261          hist = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hAsymHJVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01262"></a>01262          utils::SetXAxisIntBinsLabels(hist, agr.<a class="code" href="classAnaGlobResult.html#ad21d971b386ddc9cbae5d4c496194c85">GetMinFill</a>(), agr.<a class="code" href="classAnaGlobResult.html#ad4366255aa59070ff11516b9b0866135">GetMaxFill</a>());
<a name="l01263"></a>01263          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01264"></a>01264          utils::ExtractTGraph(*hist)-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01265"></a>01265 
<a name="l01266"></a>01266          TH1F* hPolarRelDiff_       = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarRelDiff_&quot;</span>       + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01267"></a>01267          TH1F* hPolarRelDiffCumul_  = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarRelDiffCumul_&quot;</span>  + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01268"></a>01268          TH1F* hPolarUDRatioVsFill_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarUDRatioVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01269"></a>01269 
<a name="l01270"></a>01270          utils::ConvertToProfile(hPolarUDRatioVsFill_, hPolarRelDiff_, kFALSE);
<a name="l01271"></a>01271          utils::ConvertToProfile(hPolarUDRatioVsFill_, hPolarRelDiffCumul_, kFALSE);
<a name="l01272"></a>01272          utils::ConvertToCumulative(hPolarRelDiffCumul_);
<a name="l01273"></a>01273 
<a name="l01274"></a>01274          hPolarUDRatioVsFill_-&gt;Print();
<a name="l01275"></a>01275          hPolarUDRatioVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01276"></a>01276 
<a name="l01277"></a>01277          TH1F* hPolarU = 0, *hPolarU_HJOnly = 0;
<a name="l01278"></a>01278          TH1F* hPolarD = 0, *hPolarD_HJOnly = 0;
<a name="l01279"></a>01279 
<a name="l01280"></a>01280          <span class="keywordflow">if</span> (*iRingId == <a class="code" href="AsymCommon_8h.html#a36f5097aa057912ce1fd10ae3c8970f2a1003265f59e2dc43c5dce89f4f1fd894">kBLUE_RING</a>) {
<a name="l01281"></a>01281             hPolarU        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;B1U&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_B1U_&quot;</span> + sBeamE];
<a name="l01282"></a>01282             hPolarD        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;B2D&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_B2D_&quot;</span> + sBeamE];
<a name="l01283"></a>01283             hPolarU_HJOnly = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;B1U&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_B1U_&quot;</span> + sBeamE];
<a name="l01284"></a>01284             hPolarD_HJOnly = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;B2D&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_B2D_&quot;</span> + sBeamE];
<a name="l01285"></a>01285          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*iRingId == <a class="code" href="AsymCommon_8h.html#a36f5097aa057912ce1fd10ae3c8970f2a11bdad3279f24a6935702f1f6d0eaf3b">kYELLOW_RING</a>) {
<a name="l01286"></a>01286             hPolarU        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;Y2U&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_Y2U_&quot;</span> + sBeamE];
<a name="l01287"></a>01287             hPolarD        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;Y1D&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_Y1D_&quot;</span> + sBeamE];
<a name="l01288"></a>01288             hPolarU_HJOnly = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;Y2U&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_Y2U_&quot;</span> + sBeamE];
<a name="l01289"></a>01289             hPolarD_HJOnly = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;Y1D&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_Y1D_&quot;</span> + sBeamE];
<a name="l01290"></a>01290          }
<a name="l01291"></a>01291 
<a name="l01292"></a>01292          TH1F* hPolarRatioVsFill_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarRatioVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE];
<a name="l01293"></a>01293          hPolarRatioVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01294"></a>01294 
<a name="l01295"></a>01295          <span class="comment">// 100% correlation between U and D is a more conservative assumption ...ah, not really a good idea</span>
<a name="l01296"></a>01296          <span class="comment">//utils::Divide(hPolarU, hPolarD, 1, hPolarRatioVsFill_);</span>
<a name="l01297"></a>01297          utils::Divide(hPolarU, hPolarD, 0, hPolarRatioVsFill_);
<a name="l01298"></a>01298 
<a name="l01299"></a>01299          hPolarRatioVsFill_-&gt;Print();
<a name="l01300"></a>01300          <a class="code" href="classMAsymRunHists.html#a8dd315a7eef16e7fbeb111df13531130">utils::UpdateLimits</a>((TH1*) hPolarRatioVsFill_);
<a name="l01301"></a>01301          hPolarRatioVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01302"></a>01302 
<a name="l01303"></a>01303          TH1F* hPolarRatioVsFill_HJOnly_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarRatioVsFill_HJOnly_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span>  + sBeamE];
<a name="l01304"></a>01304          hPolarRatioVsFill_HJOnly_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01305"></a>01305 
<a name="l01306"></a>01306          <span class="comment">// 100% correlation between U and D is a more conservative assumption</span>
<a name="l01307"></a>01307          <span class="comment">//utils::Divide(hPolarU_HJOnly, hPolarD_HJOnly, 1, hPolarRatioVsFill_HJOnly_);</span>
<a name="l01308"></a>01308          utils::Divide(hPolarU_HJOnly, hPolarD_HJOnly, 0, hPolarRatioVsFill_HJOnly_);
<a name="l01309"></a>01309 
<a name="l01310"></a>01310          hPolarRatioVsFill_HJOnly_-&gt;Print();
<a name="l01311"></a>01311          hPolarRatioVsFill_HJOnly_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01312"></a>01312 
<a name="l01313"></a>01313          TH1* hIntensDecayVsFill_ = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hIntensDecayVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01314"></a>01314          hIntensDecayVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01315"></a>01315 
<a name="l01316"></a>01316          hist = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01317"></a>01317          graph = utils::ExtractTGraph(*hist);
<a name="l01318"></a>01318 
<a name="l01319"></a>01319          hist = (TH1*) <a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sBeamE];
<a name="l01320"></a>01320          utils::SetXAxisIntBinsLabels(hist, agr.<a class="code" href="classAnaGlobResult.html#ad21d971b386ddc9cbae5d4c496194c85">GetMinFill</a>(), agr.<a class="code" href="classAnaGlobResult.html#ad4366255aa59070ff11516b9b0866135">GetMaxFill</a>());
<a name="l01321"></a>01321          hist-&gt;GetListOfFunctions()-&gt;Add(graph, <span class="stringliteral">&quot;p&quot;</span>);
<a name="l01322"></a>01322          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01323"></a>01323       }
<a name="l01324"></a>01324    }
<a name="l01325"></a>01325 
<a name="l01326"></a>01326    <span class="comment">//TF1 *systRatioFitFunc = new TF1(&quot;systRatioFitFunc&quot;, new SystRatioFitFunctor(), fMinFill, fMaxFill, 1, &quot;SystRatioFitFunctor&quot;);</span>
<a name="l01327"></a>01327    <span class="comment">//utils::SystRatioFitFunctor *srff = new utils::SystRatioFitFunctor(*hRatio);</span>
<a name="l01328"></a>01328    <span class="comment">//TF1 *systRatioFitFunc = new TF1(&quot;systRatioFitFunc&quot;, srff, -10, 10, 0, &quot;SystRatioFitFunctor&quot;);</span>
<a name="l01329"></a>01329 }
<a name="l01330"></a>01330 
<a name="l01331"></a>01331 
<a name="l01333"></a><a class="code" href="classMAsymRunHists.html#a707617dfc400db16ffa4dbf298eb3825">01333</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a707617dfc400db16ffa4dbf298eb3825">MAsymRunHists::PostFill</a>()
<a name="l01334"></a>01334 {
<a name="l01335"></a>01335    <span class="keywordtype">string</span>  shName;
<a name="l01336"></a>01336    TH1    *hist;
<a name="l01337"></a>01337 
<a name="l01338"></a>01338    <a class="code" href="AsymCommon_8h.html#a42226acde2fbb79137d009606b8abfba">PolarimeterIdSetIter</a> iPolId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.begin();
<a name="l01339"></a>01339 
<a name="l01340"></a>01340    <span class="keywordflow">for</span> ( ; iPolId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.end(); ++iPolId)
<a name="l01341"></a>01341    {
<a name="l01342"></a>01342       <span class="keywordtype">string</span> sPolId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iPolId);
<a name="l01343"></a>01343 
<a name="l01344"></a>01344       <span class="comment">// Find corresponding sub directory</span>
<a name="l01345"></a>01345       <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_pol = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sPolId)-&gt;second;
<a name="l01346"></a>01346 
<a name="l01347"></a>01347       <span class="comment">// Adjust axis range</span>
<a name="l01348"></a>01348       Double_t xmin,   ymin,   xmax,   ymax,   xdelta, ydelta;
<a name="l01349"></a>01349       Double_t xminDL, yminDL, xmaxDL, ymaxDL;
<a name="l01350"></a>01350 
<a name="l01351"></a>01351       <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l01352"></a>01352 
<a name="l01353"></a>01353       <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE) {
<a name="l01354"></a>01354 
<a name="l01355"></a>01355          <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iBE);
<a name="l01356"></a>01356 
<a name="l01357"></a>01357          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01358"></a>01358          TGraphErrors *graphErrs = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsMeas&quot;</span>);
<a name="l01359"></a>01359          graphErrs-&gt;ComputeRange(xmin, ymin, xmax, ymax);
<a name="l01360"></a>01360          ydelta = (ymax - ymin) &lt;= 0 ? 0.1 : (ymax - ymin)*0.1;
<a name="l01361"></a>01361          hist-&gt;GetYaxis()-&gt;SetLimits(ymin-ydelta, ymax+ydelta);
<a name="l01362"></a>01362 
<a name="l01363"></a>01363          <span class="comment">//sprintf(hName, &quot;hT0VsFill_%s_%s&quot;, sPolId.c_str(), sBeamE.c_str());</span>
<a name="l01364"></a>01364          <span class="comment">//graphErrs = (TGraphErrors*) ((TH1*) oc_pol-&gt;o[hName])-&gt;GetListOfFunctions()-&gt;FindObject(&quot;grT0VsMeas&quot;);</span>
<a name="l01365"></a>01365          <span class="comment">//((TH1*) oc_pol-&gt;o[hName])-&gt;GetYaxis()-&gt;SetLimits(ymin-ydelta, ymax+ydelta);</span>
<a name="l01366"></a>01366          <span class="comment">//((TH1*) oc_pol-&gt;o[hName])-&gt;GetYaxis()-&gt;SetRangeUser(ymin-ydelta, ymax+ydelta);</span>
<a name="l01367"></a>01367 
<a name="l01368"></a>01368          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsTime_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01369"></a>01369          graphErrs = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsTime&quot;</span>);
<a name="l01370"></a>01370          graphErrs-&gt;ComputeRange(xmin, ymin, xmax, ymax);
<a name="l01371"></a>01371          Double_t ymean = graphErrs-&gt;GetMean(2);
<a name="l01372"></a>01372          <span class="comment">//xdelta = fabs(xmax - xmin)*0.1;</span>
<a name="l01373"></a>01373          <span class="comment">//ydelta = fabs(ymax - ymin)*0.1;</span>
<a name="l01374"></a>01374          hist-&gt;GetXaxis()-&gt;SetLimits(xmin, xmax);
<a name="l01375"></a>01375          <span class="comment">//hist-&gt;GetYaxis()-&gt;SetLimits(ymin - ydelta, ymax + ydelta);</span>
<a name="l01376"></a>01376          hist-&gt;GetYaxis()-&gt;SetLimits(ymean - 5, ymean + 5);
<a name="l01377"></a>01377 
<a name="l01378"></a>01378          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDLVsTime_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01379"></a>01379          graphErrs = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grDLVsTime&quot;</span>);
<a name="l01380"></a>01380          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01381"></a>01381          <span class="comment">//graphErrs-&gt;ComputeRange(xmin, ymin, xmax, ymax);</span>
<a name="l01382"></a>01382          <span class="comment">//ymean = graphErrs-&gt;GetMean(2);</span>
<a name="l01384"></a>01384 <span class="comment"></span>         <span class="comment">//ydelta = (ymax - ymin) &lt;= 0 ? 0.1 : (ymax - ymin)*0.1;</span>
<a name="l01387"></a>01387 <span class="comment"></span>         <span class="comment">//hist-&gt;GetYaxis()-&gt;SetLimits(ymean - 20, ymean + 20);</span>
<a name="l01388"></a>01388 
<a name="l01389"></a>01389          TGraphErrors *graph;
<a name="l01390"></a>01390 
<a name="l01391"></a>01391          <span class="comment">// Spin Angle</span>
<a name="l01392"></a>01392          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hSpinAngleVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01393"></a>01393          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grSpinAngleVsMeas&quot;</span>);
<a name="l01394"></a>01394          graph-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01395"></a>01395 
<a name="l01396"></a>01396          <span class="comment">// Polarization</span>
<a name="l01397"></a>01397          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01398"></a>01398          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grPolarVsMeas&quot;</span>);
<a name="l01399"></a>01399          hist-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01400"></a>01400          utils::BinGraph(graph, hist);
<a name="l01401"></a>01401          hist-&gt;GetListOfFunctions()-&gt;Remove(graph);
<a name="l01402"></a>01402          hist-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01403"></a>01403 
<a name="l01404"></a>01404          <span class="comment">// Polarization: first measurement in fill</span>
<a name="l01405"></a>01405          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarFirstMeasVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01406"></a>01406          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grPolarVsMeas&quot;</span>);
<a name="l01407"></a>01407          hist-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01408"></a>01408          utils::BinGraphByFirstOnly(graph, hist);
<a name="l01409"></a>01409          hist-&gt;GetListOfFunctions()-&gt;Remove(graph);
<a name="l01410"></a>01410 
<a name="l01411"></a>01411          <span class="comment">// Polarization vs time</span>
<a name="l01412"></a>01412          <span class="comment">//sprintf(hName, &quot;hPolarVsTime_%s_%s&quot;, sPolId.c_str(), sBeamE.c_str());</span>
<a name="l01413"></a>01413          <span class="comment">//graph = (TGraphErrors*) ((TH1*) oc_pol-&gt;o[hName])-&gt;GetListOfFunctions()-&gt;FindObject(&quot;grPolarVsTime&quot;);</span>
<a name="l01414"></a>01414 
<a name="l01415"></a>01415          <span class="comment">//TF1 *funcPolarVsTime = new TF1(&quot;funcPolarVsTime&quot;, &quot;[0] + [1]*x&quot;);</span>
<a name="l01417"></a>01417 <span class="comment"></span>         <span class="comment">//funcPolarVsTime-&gt;SetParNames(&quot;offset&quot;, &quot;slope&quot;);</span>
<a name="l01418"></a>01418          <span class="comment">//graph-&gt;Fit(&quot;funcPolarVsTime&quot;);</span>
<a name="l01419"></a>01419          <span class="comment">//delete funcPolarVsTime;</span>
<a name="l01420"></a>01420 
<a name="l01421"></a>01421          <span class="comment">// Profiles R</span>
<a name="l01422"></a>01422          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01423"></a>01423          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRVsMeas&quot;</span>);
<a name="l01424"></a>01424          graph-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01425"></a>01425 
<a name="l01426"></a>01426          <span class="comment">// H target = vert profile</span>
<a name="l01427"></a>01427          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRVsFill_H_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01428"></a>01428          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRVsMeasH&quot;</span>);
<a name="l01429"></a>01429          graph-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01430"></a>01430 
<a name="l01431"></a>01431          <span class="comment">// V target = horiz profile</span>
<a name="l01432"></a>01432          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRVsFill_V_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01433"></a>01433          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRVsMeasV&quot;</span>);
<a name="l01434"></a>01434          graph-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01435"></a>01435 
<a name="l01436"></a>01436          <span class="comment">// t0</span>
<a name="l01437"></a>01437          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01438"></a>01438          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsMeas&quot;</span>);
<a name="l01439"></a>01439          hist-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01440"></a>01440          <span class="comment">//utils::RemoveOutliers(graph, 2, 3);</span>
<a name="l01441"></a>01441          utils::BinGraph(graph, hist);
<a name="l01442"></a>01442          hist-&gt;GetListOfFunctions()-&gt;Remove(graph);
<a name="l01443"></a>01443          hist-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01444"></a>01444 
<a name="l01445"></a>01445          <span class="comment">// DL</span>
<a name="l01446"></a>01446          hist  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDLVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01447"></a>01447          graph = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grDLVsMeas&quot;</span>);
<a name="l01448"></a>01448          hist-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01449"></a>01449          <span class="comment">//utils::RemoveOutliers(graph, 2, 3);</span>
<a name="l01450"></a>01450          utils::BinGraph(graph, hist);
<a name="l01451"></a>01451          hist-&gt;GetListOfFunctions()-&gt;Remove(graph);
<a name="l01452"></a>01452          hist-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01453"></a>01453 
<a name="l01454"></a>01454 
<a name="l01455"></a>01455          TH1* hT0VsChannel_ = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsChannel_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01456"></a>01456          TH1* hDLVsChannel_ = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDLVsChannel_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01457"></a>01457          TH1* hT0VsDLMean_  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsDLMean_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01458"></a>01458 
<a name="l01459"></a>01459          TGraphErrors* grT0VsDLMean = (TGraphErrors*) hT0VsDLMean_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsDLMean&quot;</span>);
<a name="l01460"></a>01460 
<a name="l01461"></a>01461          <span class="comment">//ChannelSetIter iCh = gMeasInfo-&gt;fSiliconChannels.begin();</span>
<a name="l01462"></a>01462 
<a name="l01463"></a>01463          <span class="comment">//for (; iCh!=gMeasInfo-&gt;fSiliconChannels.end(); ++iCh)</span>
<a name="l01464"></a>01464          <span class="keywordflow">for</span> (UShort_t iCh=1; iCh&lt;=<a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>; iCh++)
<a name="l01465"></a>01465          {
<a name="l01466"></a>01466             <span class="keywordtype">string</span> sChId(<span class="stringliteral">&quot;  &quot;</span>);
<a name="l01467"></a>01467             sprintf(&amp;sChId[0], <span class="stringliteral">&quot;%02d&quot;</span>, iCh);
<a name="l01468"></a>01468 
<a name="l01469"></a>01469             <span class="comment">// Find corresponding sub directory</span>
<a name="l01470"></a>01470             <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_ch = oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(<span class="stringliteral">&quot;channel&quot;</span> + sChId)-&gt;second;
<a name="l01471"></a>01471 
<a name="l01472"></a>01472             hist      = (TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId];
<a name="l01473"></a>01473             graphErrs = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsMeas&quot;</span>);
<a name="l01474"></a>01474             graphErrs-&gt;ComputeRange(xmin, ymin, xmax, ymax);
<a name="l01475"></a>01475             ydelta    = (ymax - ymin) &lt;= 0 ? 0.1 : (ymax - ymin)*0.1;
<a name="l01476"></a>01476             hist-&gt;GetYaxis()-&gt;SetLimits(ymin-ydelta, ymax+ydelta);
<a name="l01477"></a>01477 
<a name="l01478"></a>01478             hist      = (TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDLVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId];
<a name="l01479"></a>01479             graphErrs = (TGraphErrors*) hist-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grDLVsMeas&quot;</span>);
<a name="l01480"></a>01480             graphErrs-&gt;ComputeRange(xminDL, yminDL, xmaxDL, ymaxDL);
<a name="l01481"></a>01481             Double_t ydeltaDL  = (ymaxDL - yminDL)*0.1;
<a name="l01482"></a>01482 
<a name="l01483"></a>01483             <span class="comment">// T0</span>
<a name="l01484"></a>01484             TH1* hT0 = (TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId];
<a name="l01485"></a>01485             <span class="comment">//utils::RemoveOutliers(hT0);</span>
<a name="l01486"></a>01486 
<a name="l01487"></a>01487             hT0VsChannel_-&gt;SetBinContent(iCh, hT0-&gt;GetMean());
<a name="l01488"></a>01488             hT0VsChannel_-&gt;SetBinError(iCh,   hT0-&gt;GetRMS());
<a name="l01489"></a>01489             <span class="comment">//hT0VsChannel_-&gt;SetBinError(*iCh, fitres-&gt;Parameter(2));</span>
<a name="l01490"></a>01490 
<a name="l01491"></a>01491             <span class="comment">// Dead layer</span>
<a name="l01492"></a>01492             TH1* hDL = (TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDL_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId];
<a name="l01493"></a>01493             <span class="comment">//utils::RemoveOutliers(hDL);</span>
<a name="l01494"></a>01494 
<a name="l01495"></a>01495             hDLVsChannel_-&gt;SetBinContent(iCh, hDL-&gt;GetMean());
<a name="l01496"></a>01496             hDLVsChannel_-&gt;SetBinError(iCh, hDL-&gt;GetRMS());
<a name="l01497"></a>01497 
<a name="l01498"></a>01498             <span class="comment">// t0 vs DL</span>
<a name="l01499"></a>01499             TH1* hT0VsDL_ = (TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsDL_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE + <span class="stringliteral">&quot;_&quot;</span> + sChId];
<a name="l01500"></a>01500             <span class="comment">//graphErrs = (TGraphErrors*) hT0VsDL_-&gt;GetListOfFunctions()-&gt;FindObject(&quot;grT0VsDL&quot;);</span>
<a name="l01501"></a>01501             hT0VsDL_-&gt;GetYaxis()-&gt;SetLimits(yminDL-ydeltaDL, ymaxDL+ydeltaDL);
<a name="l01502"></a>01502             hT0VsDL_-&gt;GetYaxis()-&gt;SetLimits(ymin-ydelta, ymax+ydelta);
<a name="l01503"></a>01503 
<a name="l01504"></a>01504             UInt_t nPoints = grT0VsDLMean-&gt;GetN();
<a name="l01505"></a>01505             grT0VsDLMean-&gt;SetPoint(nPoints, hDL-&gt;GetMean(), hT0-&gt;GetMean());
<a name="l01506"></a>01506             <span class="comment">//grT0VsDLMean-&gt;SetPointError(nPoints, hDL-&gt;GetRMS(), hT0-&gt;GetRMS());</span>
<a name="l01507"></a>01507          }
<a name="l01508"></a>01508 
<a name="l01509"></a>01509          grT0VsDLMean = (TGraphErrors*) hT0VsDLMean_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsDLMean&quot;</span>);
<a name="l01510"></a>01510          grT0VsDLMean-&gt;ComputeRange(xmin, ymin, xmax, ymax);
<a name="l01511"></a>01511          ydelta = (ymax - ymin) &lt;= 0 ? 0.1 : (ymax - ymin)*0.1;
<a name="l01512"></a>01512          hT0VsDLMean_-&gt;GetYaxis()-&gt;SetLimits(ymin-ydelta, ymax+ydelta);
<a name="l01513"></a>01513       }
<a name="l01514"></a>01514 
<a name="l01515"></a>01515       TH1* hT0VsChannelDiff_  = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsChannelDiff_&quot;</span>+sPolId];
<a name="l01516"></a>01516       TH1* hT0VsChannelInj_   = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsChannel_&quot;</span>+sPolId+<span class="stringliteral">&quot;_024&quot;</span>];
<a name="l01517"></a>01517       TH1* hT0VsChannelFlt_   = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsChannel_&quot;</span>+sPolId+<span class="stringliteral">&quot;_250&quot;</span>];
<a name="l01518"></a>01518 
<a name="l01519"></a>01519       hT0VsChannelDiff_-&gt;Add(hT0VsChannelInj_, hT0VsChannelFlt_, 1, -1);
<a name="l01520"></a>01520 
<a name="l01521"></a>01521       TH1* hDLVsChannelDiff_ = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDLVsChannelDiff_&quot;</span>+sPolId];
<a name="l01522"></a>01522       TH1* hDLVsChannelInj   = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDLVsChannel_&quot;</span>+sPolId+<span class="stringliteral">&quot;_024&quot;</span>];
<a name="l01523"></a>01523       TH1* hDLVsChannelFlt   = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDLVsChannel_&quot;</span>+sPolId+<span class="stringliteral">&quot;_250&quot;</span>];
<a name="l01524"></a>01524 
<a name="l01525"></a>01525       hDLVsChannelDiff_-&gt;Add(hDLVsChannelInj, hDLVsChannelFlt, 1, -1);
<a name="l01526"></a>01526 
<a name="l01527"></a>01527       TH1*           hT0VsDLDiff_ = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hT0VsDLDiff_&quot;</span>+sPolId];
<a name="l01528"></a>01528       TGraphErrors* grT0VsDLDiff  = (TGraphErrors*) hT0VsDLDiff_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grT0VsDLDiff&quot;</span>);
<a name="l01529"></a>01529 
<a name="l01530"></a>01530       <span class="keywordflow">for</span> (UShort_t iCh=1; iCh&lt;=<a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>; iCh++)
<a name="l01531"></a>01531       {
<a name="l01532"></a>01532          UInt_t nPoints = grT0VsDLDiff-&gt;GetN();
<a name="l01533"></a>01533          grT0VsDLDiff-&gt;SetPoint(nPoints, hDLVsChannelDiff_-&gt;GetBinContent(iCh), hT0VsChannelDiff_-&gt;GetBinContent(iCh));
<a name="l01534"></a>01534       }
<a name="l01535"></a>01535 
<a name="l01536"></a>01536       grT0VsDLDiff-&gt;ComputeRange(xmin, ymin, xmax, ymax);
<a name="l01537"></a>01537       xdelta = (xmax - xmin) &lt;= 0 ? 0.1 : (xmax - xmin)*0.1;
<a name="l01538"></a>01538       ydelta = (ymax - ymin) &lt;= 0 ? 0.1 : (ymax - ymin)*0.1;
<a name="l01539"></a>01539       hT0VsDLDiff_-&gt;GetXaxis()-&gt;SetLimits(xmin-xdelta, xmax+xdelta);
<a name="l01540"></a>01540       hT0VsDLDiff_-&gt;GetYaxis()-&gt;SetLimits(ymin-ydelta, ymax+ydelta);
<a name="l01541"></a>01541 
<a name="l01542"></a>01542       <span class="comment">// Ratio of inj to first meas</span>
<a name="l01543"></a>01543       TH1F* hPolarFirstMeasRatioVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarFirstMeasRatioVsFill_&quot;</span> + sPolId];
<a name="l01544"></a>01544       TH1F* hPolarInj                   = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_024&quot;</span>];
<a name="l01545"></a>01545       <span class="comment">//TH1F* hPolarFst                   = (TH1F*) oc_pol-&gt;o[&quot;hPolarFirstMeasVsFill_&quot; + sPolId + &quot;_100&quot;];</span>
<a name="l01546"></a>01546       <span class="comment">//TH1F* hPolarFst                   = (TH1F*) oc_pol-&gt;o[&quot;hPolarFirstMeasVsFill_&quot; + sPolId + &quot;_250&quot;];</span>
<a name="l01547"></a>01547       TH1F* hPolarFst                   = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarFirstMeasVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_255&quot;</span>];
<a name="l01548"></a>01548 
<a name="l01549"></a>01549       hPolarFirstMeasRatioVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01550"></a>01550       hPolarFirstMeasRatioVsFill_-&gt;Divide(hPolarFst, hPolarInj);
<a name="l01551"></a>01551       hPolarFirstMeasRatioVsFill_-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01552"></a>01552    }
<a name="l01553"></a>01553 
<a name="l01554"></a>01554    TH1F* hPolarVsFill_B1U_024        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;B1U&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarVsFill_B1U_024&quot;</span>];
<a name="l01555"></a>01555    TH1F* hPolarVsFill_B2D_024        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;B2D&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarVsFill_B2D_024&quot;</span>];
<a name="l01556"></a>01556    TH1F* hPolarUDRatioVsFill_BLU_024 = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;BLU&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarUDRatioVsFill_BLU_024&quot;</span>];
<a name="l01557"></a>01557    hPolarUDRatioVsFill_BLU_024-&gt;Divide(hPolarVsFill_B1U_024, hPolarVsFill_B2D_024);
<a name="l01558"></a>01558    hPolarUDRatioVsFill_BLU_024-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01559"></a>01559 
<a name="l01560"></a>01560    TH1F* hPolarVsFill_Y2U_024        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;Y2U&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarVsFill_Y2U_024&quot;</span>];
<a name="l01561"></a>01561    TH1F* hPolarVsFill_Y1D_024        = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;Y1D&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarVsFill_Y1D_024&quot;</span>];
<a name="l01562"></a>01562    TH1F* hPolarUDRatioVsFill_YEL_024 = (TH1F*) <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;YEL&quot;</span>]-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarUDRatioVsFill_YEL_024&quot;</span>];
<a name="l01563"></a>01563    hPolarUDRatioVsFill_YEL_024-&gt;Divide(hPolarVsFill_Y2U_024, hPolarVsFill_Y1D_024);
<a name="l01564"></a>01564    hPolarUDRatioVsFill_YEL_024-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>);
<a name="l01565"></a>01565 }
<a name="l01566"></a>01566 
<a name="l01567"></a>01567 
<a name="l01569"></a>01569 <span class="keywordtype">void</span> MAsymRunHists::PostFillByPolarimeter(<a class="code" href="classAnaGlobResult.html">AnaGlobResult</a> &amp;agr, <a class="code" href="AnaFillResult_8h.html#a8eae77de9adeedcf14a8802ec2040567">AnaFillResultMapIter</a> iafr, <a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683c">EPolarimeterId</a> polId, <a class="code" href="AsymCommon_8h.html#a27fa7e1c3dafe1ff85fce6d38d8af11c">EBeamEnergy</a> beamE)
<a name="l01570"></a>01570 {
<a name="l01571"></a>01571    UInt_t fillId     = iafr-&gt;first;
<a name="l01572"></a>01572    <a class="code" href="classAnaFillResult.html">AnaFillResult</a> afr = iafr-&gt;second;
<a name="l01573"></a>01573 
<a name="l01574"></a>01574    <span class="keywordflow">if</span> (afr.<a class="code" href="classAnaFillResult.html#af91b158b17bdbbf3ec47eaa297fd0057">fPCPolars</a>.find(polId) == afr.<a class="code" href="classAnaFillResult.html#af91b158b17bdbbf3ec47eaa297fd0057">fPCPolars</a>.end()) <span class="keywordflow">return</span>;
<a name="l01575"></a>01575    <span class="comment">//if (afr.fProfPCPolars.find(polId) == afr.fProfPCPolars.end()) continue;</span>
<a name="l01576"></a>01576 
<a name="l01577"></a>01577    <span class="keywordtype">string</span> sPolId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(polId);
<a name="l01578"></a>01578    <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(beamE);
<a name="l01579"></a>01579 
<a name="l01580"></a>01580    <span class="comment">// Find corresponding sub directory</span>
<a name="l01581"></a>01581    <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_pol = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sPolId)-&gt;second;
<a name="l01582"></a>01582 
<a name="l01583"></a>01583    TH1F* hPolarHJVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarHJVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01584"></a>01584    hPolarHJVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01585"></a>01585 
<a name="l01586"></a>01586    TH1F* hPolarPCVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01587"></a>01587    hPolarPCVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01588"></a>01588 
<a name="l01589"></a>01589    TH1F* hPolarPCScaledVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01590"></a>01590    hPolarPCScaledVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01591"></a>01591 
<a name="l01592"></a>01592    TH1F* hPolarPCScaledVsFill_HJOnly_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01593"></a>01593    hPolarPCScaledVsFill_HJOnly_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01594"></a>01594 
<a name="l01595"></a>01595    TH1F* hProfPolarVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hProfPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01596"></a>01596    hProfPolarVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01597"></a>01597 
<a name="l01598"></a>01598    TH1F* hPolarHJPCRatioSystVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarHJPCRatioSystVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01599"></a>01599    hPolarHJPCRatioSystVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01600"></a>01600 
<a name="l01601"></a>01601    TH1F* hProfPolarRatioSystVsFill_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hProfPolarRatioSystVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01602"></a>01602    hProfPolarRatioSystVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01603"></a>01603 
<a name="l01604"></a>01604    Int_t ib = hPolarPCScaledVsFill_-&gt;FindBin(fillId);
<a name="l01605"></a>01605 
<a name="l01606"></a>01606    <span class="comment">// Consider P and P_prof by polarimeter</span>
<a name="l01607"></a>01607    ValErrPair polarHJ         = afr.<a class="code" href="classAnaFillResult.html#a389e2ced847230e7ccfc2a7ee46c6042">GetHJPolar</a>(polId);
<a name="l01608"></a>01608    ValErrPair polarPC         = afr.<a class="code" href="classAnaFillResult.html#a2881e11c0bac70d752daac581ed4e80a">GetPCPolar</a>(polId);                       <span class="comment">// unnormalized value</span>
<a name="l01609"></a>01609    <span class="comment">//ValErrPair polarPCNorm     = afr.GetPCPolar(polId, &amp;agr.fNormJetCarbon);  // ratio of average</span>
<a name="l01610"></a>01610    <span class="comment">//ValErrPair polarProfNorm   = afr.GetPCPolar(polId, &amp;agr.fNormProfPolar);</span>
<a name="l01611"></a>01611    ValErrPair polarPCNorm     = afr.<a class="code" href="classAnaFillResult.html#a2881e11c0bac70d752daac581ed4e80a">GetPCPolar</a>(polId, &amp;agr.<a class="code" href="classAnaGlobResult.html#a8b874722a925e8521d239a1ee0cb3a78">fNormJetCarbon2</a>); <span class="comment">// average of ratio</span>
<a name="l01612"></a>01612    <span class="comment">//ValErrPair polarProfNorm   = afr.GetPCPolar(polId, &amp;agr.fNormProfPolar2);</span>
<a name="l01613"></a>01613 
<a name="l01614"></a>01614    <span class="comment">//ValErrPair normJC2 = agr.GetNormJetCarbon(polId);</span>
<a name="l01615"></a>01615    <span class="comment">//cout &lt;&lt; endl;</span>
<a name="l01616"></a>01616    <span class="comment">//cout &lt;&lt; MapAsPhpArray&lt;ERingId, ValErrPair&gt;(afr.fHjetPolars) &lt;&lt; endl;</span>
<a name="l01617"></a>01617    <span class="comment">//printf(&quot;%s, %s: %f, %f\n&quot;, sPolId.c_str(), sBeamE.c_str(), normJC2.first, normJC2.second);</span>
<a name="l01618"></a>01618    <span class="comment">//printf(&quot;%s, %s: %f, %f, %f, %f, %f, %f\n&quot;, sPolId.c_str(), sBeamE.c_str(),</span>
<a name="l01619"></a>01619    <span class="comment">//       polarHJ.first, polarHJ.second, polarPC.first, polarPC.second,</span>
<a name="l01620"></a>01620    <span class="comment">//       polarPCNorm.first, polarPCNorm.second);</span>
<a name="l01621"></a>01621 
<a name="l01622"></a>01622    <span class="keywordflow">if</span> (polarPCNorm.second &gt;= 0) <span class="comment">//if (polarPC.second &gt;= 0)</span>
<a name="l01623"></a>01623    {
<a name="l01624"></a>01624       <span class="comment">// Save HJ only if corresponding pC is available</span>
<a name="l01625"></a>01625       <span class="keywordflow">if</span> (polarHJ.second &gt;= 0) {
<a name="l01626"></a>01626          hPolarHJVsFill_-&gt;SetBinContent(ib, polarHJ.first*100);
<a name="l01627"></a>01627          hPolarHJVsFill_-&gt;SetBinError(  ib, polarHJ.second*100);
<a name="l01628"></a>01628 
<a name="l01629"></a>01629          hPolarPCScaledVsFill_HJOnly_-&gt;SetBinContent(ib, polarPCNorm.first*100);
<a name="l01630"></a>01630          hPolarPCScaledVsFill_HJOnly_-&gt;SetBinError(  ib, polarPCNorm.second*100);
<a name="l01631"></a>01631       }
<a name="l01632"></a>01632 
<a name="l01633"></a>01633       hPolarPCVsFill_-&gt;SetBinContent(ib, polarPC.first*100);
<a name="l01634"></a>01634       hPolarPCVsFill_-&gt;SetBinError(  ib, polarPC.second*100);
<a name="l01635"></a>01635 
<a name="l01636"></a>01636       hPolarPCScaledVsFill_-&gt;SetBinContent(ib, polarPCNorm.first*100);
<a name="l01637"></a>01637       hPolarPCScaledVsFill_-&gt;SetBinError(  ib, polarPCNorm.second*100);
<a name="l01638"></a>01638    }
<a name="l01639"></a>01639 
<a name="l01640"></a>01640    ValErrPair profPolar = afr.<a class="code" href="classAnaFillResult.html#ad82986754f3ae589d42e8ae419d45f3d">fPCProfPolars</a>[polId];
<a name="l01641"></a>01641 
<a name="l01642"></a>01642    <span class="keywordflow">if</span> (profPolar.second &gt;= 0) {
<a name="l01643"></a>01643      hProfPolarVsFill_-&gt;SetBinContent(ib, profPolar.first*100);
<a name="l01644"></a>01644      hProfPolarVsFill_-&gt;SetBinError(  ib, profPolar.second*100);
<a name="l01645"></a>01645    }
<a name="l01646"></a>01646 
<a name="l01647"></a>01647    ValErrPair systRatio = afr.<a class="code" href="classAnaFillResult.html#a5f17981cc8a433ad98213ab250bda77a">GetSystJvsCPolar</a>(polId);
<a name="l01648"></a>01648 
<a name="l01649"></a>01649    <span class="keywordflow">if</span> (systRatio.second &gt;= 0) { <span class="comment">// some reasonable number</span>
<a name="l01650"></a>01650       hPolarHJPCRatioSystVsFill_-&gt;SetBinContent(ib, systRatio.first);
<a name="l01651"></a>01651       hPolarHJPCRatioSystVsFill_-&gt;SetBinError(  ib, systRatio.second);
<a name="l01652"></a>01652    }
<a name="l01653"></a>01653 
<a name="l01654"></a>01654    systRatio = afr.<a class="code" href="classAnaFillResult.html#aaa242eb13193665be03711a5577a8f90">GetSystProfPolar</a>(polId);
<a name="l01655"></a>01655 
<a name="l01656"></a>01656    <span class="keywordflow">if</span> (systRatio.second &gt;= 0) { <span class="comment">// some reasonable number</span>
<a name="l01657"></a>01657       hProfPolarRatioSystVsFill_-&gt;SetBinContent(ib, systRatio.first);
<a name="l01658"></a>01658       hProfPolarRatioSystVsFill_-&gt;SetBinError(  ib, systRatio.second);
<a name="l01659"></a>01659    }
<a name="l01660"></a>01660 
<a name="l01661"></a>01661    <span class="comment">// Decay plots</span>
<a name="l01662"></a>01662    ValErrPair pcPolarSlope = afr.<a class="code" href="classAnaFillResult.html#a1202446a1e77f0dc881c9ed3afb08676">GetPCPolarSlope</a>(polId);
<a name="l01663"></a>01663 
<a name="l01664"></a>01664    <span class="keywordflow">if</span> (pcPolarSlope.second &gt; 0) { <span class="comment">// reasonable results only</span>
<a name="l01665"></a>01665       TGraph* graph = utils::ExtractTGraph( (TH1&amp;) *oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarSlopeVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE] );
<a name="l01666"></a>01666       utils::AppendToGraph(graph, fillId, pcPolarSlope.first*100., 0, pcPolarSlope.second*100.);
<a name="l01667"></a>01667    }
<a name="l01668"></a>01668 
<a name="l01669"></a>01669    <span class="comment">// Polarization profiles and decays</span>
<a name="l01670"></a>01670    TH1*    hRVsFill_            = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01671"></a>01671    TGraph* grRVsMeas            = (TGraph*) hRVsFill_-&gt;GetListOfFunctions()-&gt;FindObject(<span class="stringliteral">&quot;grRVsMeas&quot;</span>);
<a name="l01672"></a>01672    TH1*    hRSlopeVsFill_       = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRSlopeVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01673"></a>01673    TH1*    hRSlopeVsPolarSlope_ = (TH1F*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRSlopeVsPolarSlope_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01674"></a>01674 
<a name="l01675"></a>01675    <a class="code" href="AsymCommon_8h.html#a4000798fbd11dc1624c4472552ff7ad7">TargetOrientSetIter</a> iTgtOrient = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a1c080057217084746157e2aea6bc32d8">fTargetOrients</a>.begin();
<a name="l01676"></a>01676    <span class="keywordflow">for</span> ( ; iTgtOrient != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a1c080057217084746157e2aea6bc32d8">fTargetOrients</a>.end(); ++iTgtOrient)
<a name="l01677"></a>01677    {
<a name="l01678"></a>01678       <a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8">ETargetOrient</a> tgtOrient  = *iTgtOrient;
<a name="l01679"></a>01679       <span class="keywordtype">string</span>        sTgtOrient = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(tgtOrient);
<a name="l01680"></a>01680 
<a name="l01681"></a>01681       TH1*    hRVsFill_O_      = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hRVsFill_&quot;</span> +sTgtOrient + <span class="stringliteral">&quot;_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01682"></a>01682       TGraph* grRVsMeas_O_     = (TGraph*) hRVsFill_O_-&gt;GetListOfFunctions()-&gt;FindObject((<span class="stringliteral">&quot;grRVsMeas&quot;</span> + sTgtOrient).c_str());
<a name="l01683"></a>01683 
<a name="l01684"></a>01684       ValErrPair pcProfR = beamE == <a class="code" href="AsymCommon_8h.html#a27fa7e1c3dafe1ff85fce6d38d8af11ca4103a22544dbf81b29558b16da96fb66">kINJECTION</a> ? afr.<a class="code" href="classAnaFillResult.html#acb4f01edf0b37d3144a829e1edc0bf3f">GetPCProfRInj</a>(polId, tgtOrient) : afr.<a class="code" href="classAnaFillResult.html#a64f3dc33a63f05daa8d3df8afa731f9f">GetPCProfR</a>(polId, tgtOrient);
<a name="l01685"></a>01685 
<a name="l01686"></a>01686       <span class="keywordflow">if</span> (pcProfR.second &gt;= 0) {
<a name="l01687"></a>01687          utils::AppendToGraph(grRVsMeas, fillId, pcProfR.first, 0, pcProfR.second);
<a name="l01688"></a>01688          utils::AppendToGraph(grRVsMeas_O_, fillId, pcProfR.first, 0, pcProfR.second);
<a name="l01689"></a>01689       }
<a name="l01690"></a>01690 
<a name="l01691"></a>01691       <span class="comment">// decays...</span>
<a name="l01692"></a>01692       ValErrPair pcProfRSlope = afr.<a class="code" href="classAnaFillResult.html#a4c00ff107f6b1a4a7162f8368a8ef2a0">GetPCProfRSlope</a>(polId, tgtOrient);
<a name="l01693"></a>01693 
<a name="l01694"></a>01694       <span class="keywordflow">if</span> (pcProfRSlope.second &gt; 0 &amp;&amp; fabs(pcProfRSlope.first) &lt; 1)
<a name="l01695"></a>01695       { <span class="comment">// require some reasonable number</span>
<a name="l01696"></a>01696          <span class="keywordtype">string</span>  ssRSlopeVsFill_ = <span class="stringliteral">&quot;grRSlopeVsFill_&quot;</span> + sTgtOrient + <span class="stringliteral">&quot;_&quot;</span>;
<a name="l01697"></a>01697          TGraph* grRSlopeVsFill_ = (TGraph*) hRSlopeVsFill_-&gt;GetListOfFunctions()-&gt;FindObject(ssRSlopeVsFill_.c_str());
<a name="l01698"></a>01698          utils::AppendToGraph(grRSlopeVsFill_, fillId, pcProfRSlope.first, 0, pcProfRSlope.second);
<a name="l01699"></a>01699 
<a name="l01700"></a>01700          <span class="keywordflow">if</span> (pcPolarSlope.second &gt; 0)
<a name="l01701"></a>01701          { <span class="comment">// require some reasonable number</span>
<a name="l01702"></a>01702             <span class="keywordtype">string</span>  ssRSlopeVsPolarSlope_ = <span class="stringliteral">&quot;grRSlopeVsPolarSlope_&quot;</span> + sTgtOrient + <span class="stringliteral">&quot;_&quot;</span>;
<a name="l01703"></a>01703             TGraph* grRSlopeVsPolarSlope_ = (TGraph*) hRSlopeVsPolarSlope_-&gt;GetListOfFunctions()-&gt;FindObject(ssRSlopeVsPolarSlope_.c_str());
<a name="l01704"></a>01704             utils::AppendToGraph(grRSlopeVsPolarSlope_, pcPolarSlope.first*100., pcProfRSlope.first, pcPolarSlope.second*100., pcProfRSlope.second);
<a name="l01705"></a>01705          }
<a name="l01706"></a>01706       }
<a name="l01707"></a>01707    }
<a name="l01708"></a>01708 }
<a name="l01709"></a>01709 
<a name="l01710"></a>01710 
<a name="l01712"></a>01712 <span class="keywordtype">void</span> MAsymRunHists::PostFillByRing(<a class="code" href="classAnaGlobResult.html">AnaGlobResult</a> &amp;agr, <a class="code" href="AnaFillResult_8h.html#a8eae77de9adeedcf14a8802ec2040567">AnaFillResultMapIter</a> iafr, <a class="code" href="AsymCommon_8h.html#a36f5097aa057912ce1fd10ae3c8970f2">ERingId</a> ringId, <a class="code" href="AsymCommon_8h.html#a27fa7e1c3dafe1ff85fce6d38d8af11c">EBeamEnergy</a> beamE)
<a name="l01713"></a>01713 {
<a name="l01714"></a>01714    UInt_t fillId     = iafr-&gt;first;
<a name="l01715"></a>01715    <a class="code" href="classAnaFillResult.html">AnaFillResult</a> afr = iafr-&gt;second;
<a name="l01716"></a>01716 
<a name="l01717"></a>01717    <span class="keywordtype">string</span> sRingId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(ringId);
<a name="l01718"></a>01718    <span class="keywordtype">string</span> sBeamE  = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(beamE);
<a name="l01719"></a>01719 
<a name="l01720"></a>01720    <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_ring = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sRingId)-&gt;second;
<a name="l01721"></a>01721 
<a name="l01722"></a>01722    TH1F* hPolarVsFill_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01723"></a>01723    hPolarVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01724"></a>01724 
<a name="l01725"></a>01725    TH1F* hPolarUDRatioVsFill_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarUDRatioVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01726"></a>01726    hPolarUDRatioVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01727"></a>01727 
<a name="l01728"></a>01728    TH1F* hProfPMaxVsFill_H_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hProfPMaxVsFill_H_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01729"></a>01729    hProfPMaxVsFill_H_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01730"></a>01730 
<a name="l01731"></a>01731    TH1F* hProfPolarVsFill_H_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hProfPolarVsFill_H_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01732"></a>01732    hProfPolarVsFill_H_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01733"></a>01733 
<a name="l01734"></a>01734    <span class="comment">// Fill graphs in histograms by ring</span>
<a name="l01735"></a>01735    TH1* hist;
<a name="l01736"></a>01736 
<a name="l01737"></a>01737    ValErrPair polarHJ = afr.<a class="code" href="classAnaFillResult.html#a389e2ced847230e7ccfc2a7ee46c6042">GetHJPolar</a>(ringId);
<a name="l01738"></a>01738    <span class="keywordflow">if</span> (polarHJ.second &gt;= 0) {
<a name="l01739"></a>01739       hist = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hPolarHJVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01740"></a>01740       utils::AppendToTGraph(*hist, fillId, polarHJ.first*100, 0, polarHJ.second*100);
<a name="l01741"></a>01741    }
<a name="l01742"></a>01742 
<a name="l01743"></a>01743    ValErrPair asymHJ = afr.<a class="code" href="classAnaFillResult.html#a4585abeaa98baafd074cc1205c1ed2f9">GetHJAsym</a>(ringId);
<a name="l01744"></a>01744    <span class="keywordflow">if</span> (asymHJ.second &gt;= 0) {
<a name="l01745"></a>01745       hist = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hAsymHJVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01746"></a>01746       utils::AppendToTGraph(*hist, fillId, asymHJ.first, 0, asymHJ.second);
<a name="l01747"></a>01747    }
<a name="l01748"></a>01748 
<a name="l01749"></a>01749    Int_t ib = hPolarVsFill_-&gt;FindBin(fillId);
<a name="l01750"></a>01750 
<a name="l01751"></a>01751    ValErrPair beamPolar = afr.<a class="code" href="classAnaFillResult.html#a4eef548da23ba7789d21b88af6d27f3e">GetBeamPolar</a>(ringId);
<a name="l01752"></a>01752    <span class="keywordflow">if</span> (beamPolar.second &gt;= 0) {
<a name="l01753"></a>01753       hPolarVsFill_-&gt;SetBinContent(ib, beamPolar.first);
<a name="l01754"></a>01754       hPolarVsFill_-&gt;SetBinError(  ib, beamPolar.second);
<a name="l01755"></a>01755    }
<a name="l01756"></a>01756 
<a name="l01757"></a>01757    ValErrPair polarUDRatio = afr.<a class="code" href="classAnaFillResult.html#a4f8e58dcfef420c61f171b49103049c3">GetPolarUDRatio</a>(ringId);
<a name="l01758"></a>01758    <span class="keywordflow">if</span> (polarUDRatio.second &gt;= 0) { <span class="comment">// expect some reasonable number</span>
<a name="l01759"></a>01759       hPolarUDRatioVsFill_-&gt;SetBinContent(ib, polarUDRatio.first);
<a name="l01760"></a>01760       hPolarUDRatioVsFill_-&gt;SetBinError(  ib, polarUDRatio.second);
<a name="l01761"></a>01761    }
<a name="l01762"></a>01762 
<a name="l01763"></a>01763    <span class="comment">// Get polarization from profile meas</span>
<a name="l01764"></a>01764    ValErrPair vePMax = afr.<a class="code" href="classAnaFillResult.html#a0417d99312ca3cd8dd8e4191eb9e4dec">GetPCProfPMax</a>(ringId, <a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a5256d33afef655ac4c9ad2f3f85868aa">kTARGET_H</a>);
<a name="l01765"></a>01765    <span class="keywordflow">if</span> (vePMax.second &gt;= 0) {
<a name="l01766"></a>01766       hProfPMaxVsFill_H_-&gt;SetBinContent(ib, vePMax.first);
<a name="l01767"></a>01767       hProfPMaxVsFill_H_-&gt;SetBinError(  ib, vePMax.second);
<a name="l01768"></a>01768    }
<a name="l01769"></a>01769 
<a name="l01770"></a>01770    ValErrPair veP = afr.<a class="code" href="classAnaFillResult.html#ae43003931fd5410a90308c4b246e8ed8">GetPCProfP</a>(ringId, <a class="code" href="AsymCommon_8h.html#a2dc404747f883870f9e62759f861d7a8a5256d33afef655ac4c9ad2f3f85868aa">kTARGET_H</a>);
<a name="l01771"></a>01771 
<a name="l01772"></a>01772    <span class="keywordflow">if</span> (veP.second &gt;= 0) {
<a name="l01773"></a>01773       hProfPolarVsFill_H_-&gt;SetBinContent(ib, veP.first);
<a name="l01774"></a>01774       hProfPolarVsFill_H_-&gt;SetBinError(  ib, veP.second);
<a name="l01775"></a>01775    }
<a name="l01776"></a>01776 
<a name="l01777"></a>01777    <span class="comment">// Slope plots</span>
<a name="l01778"></a>01778    ValErrPair intensDecay = afr.<a class="code" href="classAnaFillResult.html#adb0f87d8b0d8bb9a23191f87cd71ae50">GetIntensDecay</a>(ringId);
<a name="l01779"></a>01779 
<a name="l01780"></a>01780    <span class="keywordflow">if</span> (intensDecay.second &gt;= 0) {
<a name="l01781"></a>01781       TH1* hIntensDecayVsFill_ = (TH1F*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hIntensDecayVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01782"></a>01782       hIntensDecayVsFill_-&gt;SetBinContent(ib, intensDecay.first);
<a name="l01783"></a>01783       hIntensDecayVsFill_-&gt;SetBinError(ib, intensDecay.second);
<a name="l01784"></a>01784    }
<a name="l01785"></a>01785 }
<a name="l01786"></a>01786 
<a name="l01787"></a>01787 
<a name="l01789"></a><a class="code" href="classMAsymRunHists.html#a8dd315a7eef16e7fbeb111df13531130">01789</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a8dd315a7eef16e7fbeb111df13531130">MAsymRunHists::UpdateLimits</a>()
<a name="l01790"></a>01790 {
<a name="l01791"></a>01791    Info(<span class="stringliteral">&quot;UpdateLimits&quot;</span>, <span class="stringliteral">&quot;fMinFill: %f, fMaxFill: %f&quot;</span>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01792"></a>01792    Info(<span class="stringliteral">&quot;UpdateLimits&quot;</span>, <span class="stringliteral">&quot;fMinTime: %ld, fMaxTime: %ld&quot;</span>, <a class="code" href="classMAsymRunHists.html#aba6b17828dfb32b2114d198fe4e52652">fMinTime</a>, <a class="code" href="classMAsymRunHists.html#a472818cfbfac63b580bb267f33f9f12b">fMaxTime</a>);
<a name="l01793"></a>01793 
<a name="l01794"></a>01794    <span class="keywordtype">char</span>    hName[256];
<a name="l01795"></a>01795    <span class="keywordtype">string</span>  shName;
<a name="l01796"></a>01796    TH1    *hist;
<a name="l01797"></a>01797 
<a name="l01798"></a>01798    <a class="code" href="AsymCommon_8h.html#a42226acde2fbb79137d009606b8abfba">PolarimeterIdSetIter</a> iPolId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.begin();
<a name="l01799"></a>01799 
<a name="l01800"></a>01800    <span class="keywordflow">for</span> ( ; iPolId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.end(); ++iPolId)
<a name="l01801"></a>01801    {
<a name="l01802"></a>01802       <span class="keywordtype">string</span> sPolId = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iPolId);
<a name="l01803"></a>01803 
<a name="l01804"></a>01804       Info(<span class="stringliteral">&quot;UpdateLimits&quot;</span>, <span class="stringliteral">&quot;sPolId = %s&quot;</span>, sPolId.c_str());
<a name="l01805"></a>01805 
<a name="l01806"></a>01806       <span class="comment">// Find corresponding sub directory</span>
<a name="l01807"></a>01807       <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_pol = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sPolId)-&gt;second;
<a name="l01808"></a>01808 
<a name="l01809"></a>01809       Double_t minFill, maxFill, marginFill;
<a name="l01810"></a>01810       Double_t minMeas, maxMeas, marginMeas;
<a name="l01811"></a>01811 
<a name="l01812"></a>01812       <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l01813"></a>01813 
<a name="l01814"></a>01814       <span class="keywordflow">for</span> (; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l01815"></a>01815       {
<a name="l01816"></a>01816          <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iBE);
<a name="l01817"></a>01817          Info(<span class="stringliteral">&quot;UpdateLimits&quot;</span>, <span class="stringliteral">&quot;sBeamE = %s&quot;</span>, sBeamE.c_str());
<a name="l01818"></a>01818 
<a name="l01819"></a>01819          minFill    = utils::GetNonEmptyMinimum(fHStacks[<span class="stringliteral">&quot;hsPolarVsFill_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01820"></a>01820          maxFill    = utils::GetNonEmptyMaximum(fHStacks[<span class="stringliteral">&quot;hsPolarVsFill_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01821"></a>01821          <span class="comment">//shName = &quot;hPolarVsFill_&quot; + sPolId + &quot;_&quot; + sBeamE;</span>
<a name="l01822"></a>01822          <span class="comment">//minFill    = utils::GetNonEmptyMinimum((TH1*) oc_pol-&gt;o[shName]);</span>
<a name="l01823"></a>01823          <span class="comment">//maxFill    = utils::GetNonEmptyMaximum((TH1*) oc_pol-&gt;o[shName]);</span>
<a name="l01824"></a>01824          marginFill = (maxFill - minFill) * 0.0;
<a name="l01825"></a>01825 
<a name="l01826"></a>01826          minMeas    = utils::GetNonEmptyMinimum(fHStacks[<span class="stringliteral">&quot;hsPolarVsMeas_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01827"></a>01827          maxMeas    = utils::GetNonEmptyMaximum(fHStacks[<span class="stringliteral">&quot;hsPolarVsMeas_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01828"></a>01828          marginMeas = (maxMeas - minMeas) &lt;= 0 ? 0.1 : (maxMeas - minMeas) * 0.1;
<a name="l01829"></a>01829 
<a name="l01830"></a>01830          <span class="comment">//if (fabs(maxMeas - minMeas) &lt; 0.01*maxMeas) { maxMeas = 1.01*maxMeas; minMeas = 0.99*minMeas; }</span>
<a name="l01831"></a>01831 
<a name="l01832"></a>01832          shName = <span class="stringliteral">&quot;hMaxRateVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01833"></a>01833          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01834"></a>01834 
<a name="l01835"></a>01835          shName = <span class="stringliteral">&quot;hTargetVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01836"></a>01836          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01837"></a>01837 
<a name="l01838"></a>01838          shName = <span class="stringliteral">&quot;hPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01839"></a>01839          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01840"></a>01840          <a class="code" href="classMAsymRunHists.html#a8dd315a7eef16e7fbeb111df13531130">utils::UpdateLimits</a>((TH1*) oc_pol-&gt;o[shName]);
<a name="l01841"></a>01841 
<a name="l01842"></a>01842          shName = <span class="stringliteral">&quot;hPolarFirstMeasVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01843"></a>01843          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01844"></a>01844          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetYaxis()-&gt;SetRangeUser(minFill-marginFill, maxFill+marginFill);
<a name="l01845"></a>01845 
<a name="l01846"></a>01846          hist = (TH1*) oc_pol-&gt;o[<span class="stringliteral">&quot;hPolarHJVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01847"></a>01847          <span class="comment">//hist-&gt;GetXaxis()-&gt;SetLimits(fMinFill, fMaxFill);</span>
<a name="l01848"></a>01848          <span class="comment">//hist-&gt;GetYaxis()-&gt;SetRangeUser(minFill-marginFill, maxFill+marginFill);</span>
<a name="l01849"></a>01849          utils::UpdateLimits((TH1*) hist);
<a name="l01850"></a>01850 
<a name="l01851"></a>01851          hist = (TH1*) oc_pol-&gt;o[<span class="stringliteral">&quot;hPolarPCVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01852"></a>01852          <span class="comment">//hist-&gt;GetXaxis()-&gt;SetLimits(fMinFill, fMaxFill);</span>
<a name="l01853"></a>01853          <span class="comment">//hist-&gt;GetYaxis()-&gt;SetRangeUser(minFill-marginFill, maxFill+marginFill);</span>
<a name="l01854"></a>01854          utils::UpdateLimits((TH1*) hist);
<a name="l01855"></a>01855 
<a name="l01856"></a>01856          hist = (TH1*) oc_pol-&gt;o[<span class="stringliteral">&quot;hPolarPCScaledVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01857"></a>01857          <span class="comment">//hist-&gt;GetXaxis()-&gt;SetLimits(fMinFill, fMaxFill);</span>
<a name="l01858"></a>01858          <span class="comment">//hist-&gt;GetYaxis()-&gt;SetRangeUser(minFill-marginFill, maxFill+marginFill);</span>
<a name="l01859"></a>01859          utils::UpdateLimits((TH1*) hist);
<a name="l01860"></a>01860 
<a name="l01861"></a>01861          shName = <span class="stringliteral">&quot;hPolarPCScaledVsFill_HJOnly_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01862"></a>01862          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01863"></a>01863          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetYaxis()-&gt;SetRangeUser(minFill-marginFill, maxFill+marginFill);
<a name="l01864"></a>01864 
<a name="l01865"></a>01865          shName = <span class="stringliteral">&quot;hProfPolarVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01866"></a>01866          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01867"></a>01867          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetYaxis()-&gt;SetRangeUser(minFill-marginFill, maxFill+marginFill);
<a name="l01868"></a>01868 
<a name="l01869"></a>01869          shName = <span class="stringliteral">&quot;hSpinAngleVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01870"></a>01870          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01871"></a>01871          <span class="comment">//((TH1*) oc_pol-&gt;o[shName])-&gt;GetYaxis()-&gt;SetLimits(minMeas-marginMeas, maxMeas+marginMeas);</span>
<a name="l01872"></a>01872 
<a name="l01873"></a>01873          shName = <span class="stringliteral">&quot;hPolarVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01874"></a>01874          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01875"></a>01875          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetYaxis()-&gt;SetLimits(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01876"></a>01876          <span class="comment">//utils::UpdateLimitsFromGraphs((TH1*) oc_pol-&gt;o[shName], 2);</span>
<a name="l01877"></a>01877 
<a name="l01878"></a>01878          shName = <span class="stringliteral">&quot;hPolarVsTime_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01879"></a>01879          <span class="comment">//utils::UpdateLimitsFromGraphs((TH1*) oc_pol-&gt;o[shName], 1);</span>
<a name="l01880"></a>01880          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#aba6b17828dfb32b2114d198fe4e52652">fMinTime</a>, <a class="code" href="classMAsymRunHists.html#a472818cfbfac63b580bb267f33f9f12b">fMaxTime</a>);
<a name="l01881"></a>01881          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetYaxis()-&gt;SetLimits(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01882"></a>01882 
<a name="l01883"></a>01883          hist = (TH1*) oc_pol-&gt;o[<span class="stringliteral">&quot;hRVsMeas_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01884"></a>01884          hist-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01885"></a>01885          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01886"></a>01886 
<a name="l01887"></a>01887          hist = (TH1F*) oc_pol-&gt;o[<span class="stringliteral">&quot;hRVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01888"></a>01888          hist-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01889"></a>01889          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01890"></a>01890 
<a name="l01891"></a>01891          hist = (TH1F*) oc_pol-&gt;o[<span class="stringliteral">&quot;hRVsFill_H_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01892"></a>01892          hist-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01893"></a>01893          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01894"></a>01894 
<a name="l01895"></a>01895          hist = (TH1F*) oc_pol-&gt;o[<span class="stringliteral">&quot;hRVsFill_V_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l01896"></a>01896          hist-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01897"></a>01897          utils::UpdateLimitsFromGraphs(hist, 2);
<a name="l01898"></a>01898 
<a name="l01899"></a>01899 
<a name="l01900"></a>01900          shName = <span class="stringliteral">&quot;hT0VsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE;
<a name="l01901"></a>01901          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01902"></a>01902 
<a name="l01903"></a>01903          <span class="keywordflow">if</span> (*iPolId == <a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683caae1cb5a422a6e92774a16b30438e3d61">kB1U</a> || *iPolId == <a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683ca46cbb0aacbfaf86e8ac89187d6041da4">kY2U</a>) {
<a name="l01904"></a>01904             minMeas  = utils::GetNonEmptyMinimum(fHStacks[<span class="stringliteral">&quot;hsT0VsFill_U_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01905"></a>01905             maxMeas  = utils::GetNonEmptyMaximum(fHStacks[<span class="stringliteral">&quot;hsT0VsFill_U_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01906"></a>01906          } <span class="keywordflow">else</span> {
<a name="l01907"></a>01907             minMeas  = utils::GetNonEmptyMinimum(fHStacks[<span class="stringliteral">&quot;hsT0VsFill_D_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01908"></a>01908             maxMeas  = utils::GetNonEmptyMaximum(fHStacks[<span class="stringliteral">&quot;hsT0VsFill_D_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01909"></a>01909          }
<a name="l01910"></a>01910 
<a name="l01911"></a>01911          <span class="comment">//marginMeas = (maxMeas - minMeas) * 0.1;</span>
<a name="l01912"></a>01912          marginMeas = (maxMeas - minMeas) &lt;= 0 ? 0.1 : (maxMeas - minMeas) * 0.1;
<a name="l01913"></a>01913          ((TH1*) oc_pol-&gt;o[shName])-&gt;GetYaxis()-&gt;SetRangeUser(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01914"></a>01914 
<a name="l01915"></a>01915          sprintf(hName, <span class="stringliteral">&quot;hT0VsTime_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l01916"></a>01916          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#aba6b17828dfb32b2114d198fe4e52652">fMinTime</a>, <a class="code" href="classMAsymRunHists.html#a472818cfbfac63b580bb267f33f9f12b">fMaxTime</a>);
<a name="l01917"></a>01917          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetYaxis()-&gt;SetLimits(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01918"></a>01918 
<a name="l01919"></a>01919          sprintf(hName, <span class="stringliteral">&quot;hT0VsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l01920"></a>01920          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01921"></a>01921          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetYaxis()-&gt;SetLimits(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01922"></a>01922 
<a name="l01923"></a>01923 
<a name="l01924"></a>01924          sprintf(hName, <span class="stringliteral">&quot;hDLVsFill_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l01925"></a>01925          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01926"></a>01926 
<a name="l01927"></a>01927          <span class="keywordflow">if</span> (*iPolId == <a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683caae1cb5a422a6e92774a16b30438e3d61">kB1U</a> || *iPolId == <a class="code" href="AsymCommon_8h.html#ad8de1322331b8e5692418ef9a97f683ca46cbb0aacbfaf86e8ac89187d6041da4">kY2U</a>) {
<a name="l01928"></a>01928             minMeas  = utils::GetNonEmptyMinimum(fHStacks[<span class="stringliteral">&quot;hsDLVsFill_U_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01929"></a>01929             maxMeas  = utils::GetNonEmptyMaximum(fHStacks[<span class="stringliteral">&quot;hsDLVsFill_U_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01930"></a>01930          } <span class="keywordflow">else</span> {
<a name="l01931"></a>01931             minMeas  = utils::GetNonEmptyMinimum(fHStacks[<span class="stringliteral">&quot;hsDLVsFill_D_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01932"></a>01932             maxMeas  = utils::GetNonEmptyMaximum(fHStacks[<span class="stringliteral">&quot;hsDLVsFill_D_&quot;</span> + sBeamE], <span class="stringliteral">&quot;nostack&quot;</span>);
<a name="l01933"></a>01933          }
<a name="l01934"></a>01934 
<a name="l01935"></a>01935          <span class="comment">//marginMeas = (maxMeas - minMeas) * 0.1;</span>
<a name="l01936"></a>01936          marginMeas = (maxMeas - minMeas) &lt;= 0 ? 0.1 : (maxMeas - minMeas) * 0.1;
<a name="l01937"></a>01937          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetYaxis()-&gt;SetRangeUser(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01938"></a>01938 
<a name="l01939"></a>01939          sprintf(hName, <span class="stringliteral">&quot;hDLVsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l01940"></a>01940          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01941"></a>01941          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetYaxis()-&gt;SetLimits(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01942"></a>01942 
<a name="l01943"></a>01943          sprintf(hName, <span class="stringliteral">&quot;hDLVsTime_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l01944"></a>01944          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#aba6b17828dfb32b2114d198fe4e52652">fMinTime</a>, <a class="code" href="classMAsymRunHists.html#a472818cfbfac63b580bb267f33f9f12b">fMaxTime</a>);
<a name="l01945"></a>01945          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetYaxis()-&gt;SetLimits(minMeas-marginMeas, maxMeas+marginMeas);
<a name="l01946"></a>01946 
<a name="l01947"></a>01947 
<a name="l01948"></a>01948          sprintf(hName, <span class="stringliteral">&quot;hBananaChi2NdfVsMeas_%s_%s&quot;</span>, sPolId.c_str(), sBeamE.c_str());
<a name="l01949"></a>01949          ((TH1*) oc_pol-&gt;o[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01950"></a>01950 
<a name="l01951"></a>01951 
<a name="l01952"></a>01952          <a class="code" href="AsymCommon_8h.html#a54f2d4199f80ef54d0ec9c501e2bf70f">ChannelSetIter</a> iCh = <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a0d2f475da9f0396f138e2e23018f6913">fSiliconChannels</a>.begin();
<a name="l01953"></a>01953 
<a name="l01954"></a>01954          <span class="keywordflow">for</span> (; iCh!=<a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a0d2f475da9f0396f138e2e23018f6913">fSiliconChannels</a>.end(); ++iCh) {
<a name="l01955"></a>01955 
<a name="l01956"></a>01956             <span class="keywordtype">string</span> sChId(<span class="stringliteral">&quot;  &quot;</span>);
<a name="l01957"></a>01957             sprintf(&amp;sChId[0], <span class="stringliteral">&quot;%02d&quot;</span>, *iCh);
<a name="l01958"></a>01958 
<a name="l01959"></a>01959             <span class="comment">// Find corresponding sub directory</span>
<a name="l01960"></a>01960             <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_ch = oc_pol-&gt;d.find(<span class="stringliteral">&quot;channel&quot;</span> + sChId)-&gt;second;
<a name="l01961"></a>01961 
<a name="l01962"></a>01962             sprintf(hName, <span class="stringliteral">&quot;hT0VsMeas_%s_%s_%02d&quot;</span>, sPolId.c_str(), sBeamE.c_str(), *iCh);
<a name="l01963"></a>01963             ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01964"></a>01964 
<a name="l01965"></a>01965             sprintf(hName, <span class="stringliteral">&quot;hDLVsMeas_%s_%s_%02d&quot;</span>, sPolId.c_str(), sBeamE.c_str(), *iCh);
<a name="l01966"></a>01966             ((TH1*) oc_ch-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[hName])-&gt;GetXaxis()-&gt;SetLimits(<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l01967"></a>01967          }
<a name="l01968"></a>01968 
<a name="l01969"></a>01969          <span class="comment">// Asymmetry histograms</span>
<a name="l01970"></a>01970          ((TH1*) oc_pol-&gt;o[<span class="stringliteral">&quot;hKinEnergyAChAsym_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE])-&gt;GetYaxis()-&gt;SetRangeUser(1e-5, 0.015);
<a name="l01971"></a>01971          <span class="comment">//((TH1*) oc_pol-&gt;o[&quot;hLongiChAsym_&quot;      + sPolId + &quot;_&quot; + sBeamE])-&gt;GetYaxis()-&gt;SetRangeUser(1e-5, 0.015);</span>
<a name="l01972"></a>01972       }
<a name="l01973"></a>01973    }
<a name="l01974"></a>01974 
<a name="l01975"></a>01975    <span class="comment">//BeamEnergySetIter iBE=gRunConfig.fBeamEnergies.begin();</span>
<a name="l01976"></a>01976 
<a name="l01977"></a>01977    <span class="comment">//for (; iBE!=gRunConfig.fBeamEnergies.end(); ++iBE)</span>
<a name="l01978"></a>01978    <span class="comment">//{</span>
<a name="l01979"></a>01979    <span class="comment">//   string sBeamE = RunConfig::AsString(*iBE);</span>
<a name="l01980"></a>01980 
<a name="l01981"></a>01981    <span class="comment">//   shName = &quot;hPolarRatioVsFill_&quot; + sBeamE;</span>
<a name="l01982"></a>01982    <span class="comment">//   ((TH1*) o[shName])-&gt;GetXaxis()-&gt;SetLimits(fMinFill, fMaxFill);</span>
<a name="l01983"></a>01983 
<a name="l01984"></a>01984    <span class="comment">//   shName = &quot;hPolarRatioVsFill_HJOnly_&quot; + sBeamE;</span>
<a name="l01985"></a>01985    <span class="comment">//   ((TH1*) o[shName])-&gt;GetXaxis()-&gt;SetLimits(fMinFill, fMaxFill);</span>
<a name="l01986"></a>01986 
<a name="l01987"></a>01987    <span class="comment">//   shName = &quot;hPolarRatioVsFill_&quot; + sBeamE;</span>
<a name="l01988"></a>01988    <span class="comment">//   ((TH1*) o[shName])-&gt;GetXaxis()-&gt;SetLimits(fMinFill, fMaxFill);</span>
<a name="l01989"></a>01989    <span class="comment">//}</span>
<a name="l01990"></a>01990 
<a name="l01991"></a>01991 }
<a name="l01992"></a>01992 
<a name="l01993"></a>01993 
<a name="l01995"></a><a class="code" href="classMAsymRunHists.html#ae81ee3b6ead1f04b81e1806cb610ef12">01995</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#ae81ee3b6ead1f04b81e1806cb610ef12">MAsymRunHists::UpdMinMaxFill</a>(UInt_t fillId)
<a name="l01996"></a>01996 {
<a name="l01997"></a>01997    <span class="keywordflow">if</span> (fillId &lt; <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a> ) <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a> = fillId;
<a name="l01998"></a>01998    <span class="keywordflow">if</span> (fillId &gt; <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a> ) <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a> = fillId;
<a name="l01999"></a>01999 }
<a name="l02000"></a>02000 
<a name="l02001"></a>02001 
<a name="l02003"></a><a class="code" href="classMAsymRunHists.html#aad123940b88958112b9b33d2b76d8e3c">02003</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#aad123940b88958112b9b33d2b76d8e3c">MAsymRunHists::SetMinMaxFill</a>(UInt_t minFillId, UInt_t maxFillId)
<a name="l02004"></a>02004 {
<a name="l02005"></a>02005    <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a> = minFillId;
<a name="l02006"></a>02006    <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a> = maxFillId;
<a name="l02007"></a>02007 }
<a name="l02008"></a>02008 
<a name="l02010"></a><a class="code" href="classMAsymRunHists.html#a3fcc4d635abceb65e59f07697306c6a6">02010</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a3fcc4d635abceb65e59f07697306c6a6">MAsymRunHists::AdjustMinMaxFill</a>()
<a name="l02011"></a>02011 {
<a name="l02012"></a>02012    <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a> -= 0.5;
<a name="l02013"></a>02013    <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a> += 0.5;
<a name="l02014"></a>02014 
<a name="l02015"></a>02015    <span class="comment">// Set bin</span>
<a name="l02016"></a>02016    <a class="code" href="AsymCommon_8h.html#afb1eab28ad967681391f512fcd203d0e">BeamEnergySetIter</a> iBE = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.begin();
<a name="l02017"></a>02017 
<a name="l02018"></a>02018    <span class="keywordflow">for</span> ( ; iBE != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a18869899b490de85f84277c3b4def02b">fBeamEnergies</a>.end(); ++iBE)
<a name="l02019"></a>02019    {
<a name="l02020"></a>02020       <span class="keywordtype">string</span> sBeamE = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iBE);
<a name="l02021"></a>02021 
<a name="l02022"></a>02022       <a class="code" href="AsymCommon_8h.html#a42226acde2fbb79137d009606b8abfba">PolarimeterIdSetIter</a> iPolId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.begin();
<a name="l02023"></a>02023       <span class="keywordflow">for</span> (; iPolId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#aa9056de0f9dd9d62006ed7e1388a0b90">fPolarimeters</a>.end(); ++iPolId)
<a name="l02024"></a>02024       {
<a name="l02025"></a>02025          <span class="keywordtype">string</span> sPolId   = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iPolId);
<a name="l02026"></a>02026          <span class="keywordtype">string</span> sDirName = sPolId;
<a name="l02027"></a>02027 
<a name="l02028"></a>02028          <span class="comment">// Find corresponding sub directory</span>
<a name="l02029"></a>02029          <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_pol = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sDirName)-&gt;second;
<a name="l02030"></a>02030 
<a name="l02031"></a>02031          TH1* hDisabledChVsFill_ = (TH1*) oc_pol-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hDisabledChVsFill_&quot;</span> + sPolId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l02032"></a>02032          hDisabledChVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>, 0.5, <a class="code" href="AsymHeader_8h.html#a27fcccc28ad1d4198d29f49f7e99cdf1">N_SILICON_CHANNELS</a>+0.5);
<a name="l02033"></a>02033       }
<a name="l02034"></a>02034 
<a name="l02035"></a>02035       <a class="code" href="AsymCommon_8h.html#a98aec11a4c2226bca69b7e48bdc9ad48">RingIdSetIter</a> iRingId = <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.begin();
<a name="l02036"></a>02036       <span class="keywordflow">for</span> ( ; iRingId != <a class="code" href="AsymCommon_8cxx.html#a1f6d9a5740e1ea08450a3639a1683ab9">gRunConfig</a>.<a class="code" href="classRunConfig.html#a96b920a13109475b311eb8e3cffdeccb">fRings</a>.end(); ++iRingId)
<a name="l02037"></a>02037       {
<a name="l02038"></a>02038          <span class="keywordtype">string</span> sRingId  = <a class="code" href="classRunConfig.html#addc30f5997de7f4267c442a285434fb2">RunConfig::AsString</a>(*iRingId);
<a name="l02039"></a>02039          <span class="keywordtype">string</span> sDirName = sRingId;
<a name="l02040"></a>02040 
<a name="l02041"></a>02041          <span class="comment">// Find corresponding sub directory</span>
<a name="l02042"></a>02042          <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc_ring = <a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(sDirName)-&gt;second;
<a name="l02043"></a>02043 
<a name="l02044"></a>02044          TH1* hIntensDecayVsFill_ = (TH1*) oc_ring-&gt;<a class="code" href="classDrawObjContainer.html#ae288a17ad6e0151b408beaf77f3e69d9">o</a>[<span class="stringliteral">&quot;hIntensDecayVsFill_&quot;</span> + sRingId + <span class="stringliteral">&quot;_&quot;</span> + sBeamE];
<a name="l02045"></a>02045          hIntensDecayVsFill_-&gt;SetBins(<a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>-<a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#a8c8ec9c6b24677744404cf881b3d9f39">fMinFill</a>, <a class="code" href="classMAsymRunHists.html#abceb93314b63b504855771f377de24c6">fMaxFill</a>);
<a name="l02046"></a>02046       }
<a name="l02047"></a>02047    }
<a name="l02048"></a>02048 
<a name="l02049"></a>02049 }
<a name="l02050"></a>02050 
<a name="l02051"></a>02051 
<a name="l02053"></a><a class="code" href="classMAsymRunHists.html#ad3f145eca96028258e87bad7f67ffc92">02053</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#ad3f145eca96028258e87bad7f67ffc92">MAsymRunHists::UpdMinMaxTime</a>(time_t time)
<a name="l02054"></a>02054 {
<a name="l02055"></a>02055    <span class="keywordflow">if</span> (time &lt; <a class="code" href="classMAsymRunHists.html#aba6b17828dfb32b2114d198fe4e52652">fMinTime</a> ) <a class="code" href="classMAsymRunHists.html#aba6b17828dfb32b2114d198fe4e52652">fMinTime</a> = time;
<a name="l02056"></a>02056    <span class="keywordflow">if</span> (time &gt; <a class="code" href="classMAsymRunHists.html#a472818cfbfac63b580bb267f33f9f12b">fMaxTime</a> ) <a class="code" href="classMAsymRunHists.html#a472818cfbfac63b580bb267f33f9f12b">fMaxTime</a> = time;
<a name="l02057"></a>02057 }
<a name="l02058"></a>02058 
<a name="l02059"></a>02059 
<a name="l02061"></a><a class="code" href="classMAsymRunHists.html#a466a9445b9c62eb74d1ea4f094518cdb">02061</a> <span class="keywordtype">void</span> <a class="code" href="classMAsymRunHists.html#a466a9445b9c62eb74d1ea4f094518cdb">MAsymRunHists::SetMinMaxTime</a>(time_t minTime, time_t maxTime)
<a name="l02062"></a>02062 {
<a name="l02063"></a>02063    <a class="code" href="classMAsymRunHists.html#aba6b17828dfb32b2114d198fe4e52652">fMinTime</a> = minTime;
<a name="l02064"></a>02064    <a class="code" href="classMAsymRunHists.html#a472818cfbfac63b580bb267f33f9f12b">fMaxTime</a> = maxTime;
<a name="l02065"></a>02065 }
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 3 Dec 2014 for cnipol by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
