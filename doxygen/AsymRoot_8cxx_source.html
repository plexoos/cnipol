<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cnipol: /direct/eic+u/dsmirnov/cnipol/src/AsymRoot.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_e1dca166ec6abb4ef5a7ad269392aef6.html">src</a>
  </div>
</div>
<div class="contents">
<h1>AsymRoot.cxx</h1><a href="AsymRoot_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="AsymRoot_8h.html">AsymRoot.h</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#include &quot;TClassTable.h&quot;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;TH1F.h&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;TH2F.h&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;TF1.h&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;TLine.h&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;TROOT.h&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;TStyle.h&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;TStreamerInfo.h&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="AlphaCalibrator_8h.html">AlphaCalibrator.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="CnipolAsymHists_8h.html">CnipolAsymHists.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="CnipolAlphaHists_8h.html">CnipolAlphaHists.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="CnipolCalibHists_8h.html">CnipolCalibHists.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="CnipolHists_8h.html">CnipolHists.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="CnipolKinematHists_8h.html">CnipolKinematHists.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="CnipolKinemaCleanHists_8h.html">CnipolKinemaCleanHists.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="CnipolPmtHists_8h.html">CnipolPmtHists.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="CnipolPulserHists_8h.html">CnipolPulserHists.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="CnipolPreprocHists_8h.html">CnipolPreprocHists.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="CnipolProfileHists_8h.html">CnipolProfileHists.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="CnipolRawHists_8h.html">CnipolRawHists.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="CnipolRawExtendedHists_8h.html">CnipolRawExtendedHists.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="CnipolRunHists_8h.html">CnipolRunHists.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="CnipolScalerHists_8h.html">CnipolScalerHists.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="CnipolSpinStudyHists_8h.html">CnipolSpinStudyHists.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="CnipolTargetHists_8h.html">CnipolTargetHists.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="DeadLayerCalibrator_8h.html">DeadLayerCalibrator.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="DeadLayerCalibratorEDepend_8h.html">DeadLayerCalibratorEDepend.h</a>&quot;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="AsymAnaInfo_8h.html">AsymAnaInfo.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="MeasInfo_8h.html">MeasInfo.h</a>&quot;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">// ROOT Histograms</span>
<a name="l00037"></a><a class="code" href="AsymGlobals_8h.html#afe50f16ebc9ce07f1a5aec8096545b9b">00037</a> TDirectory *<a class="code" href="AsymRoot_8cxx.html#afe50f16ebc9ce07f1a5aec8096545b9b">FeedBack</a>;
<a name="l00038"></a><a class="code" href="AsymGlobals_8h.html#ab1907147f3579c2c49808c8a37b71294">00038</a> TDirectory *<a class="code" href="AsymRoot_8cxx.html#ab1907147f3579c2c49808c8a37b71294">Kinema</a>;
<a name="l00039"></a><a class="code" href="AsymGlobals_8h.html#a521efbcc89cfbf058a6f053a64b14244">00039</a> TDirectory *<a class="code" href="AsymRoot_8cxx.html#a521efbcc89cfbf058a6f053a64b14244">ErrDet</a>;
<a name="l00040"></a><a class="code" href="AsymGlobals_8h.html#aa849077c9e477aeb6f72b8d42a022e2f">00040</a> TDirectory *<a class="code" href="AsymRoot_8cxx.html#aa849077c9e477aeb6f72b8d42a022e2f">Asymmetry</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment">// FeedBack Dir</span>
<a name="l00043"></a><a class="code" href="AsymGlobals_8h.html#a2eef62b450084fbbcddb93c1658de07a">00043</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#a2eef62b450084fbbcddb93c1658de07a">mdev_feedback</a>;
<a name="l00044"></a><a class="code" href="AsymGlobals_8h.html#a7df3ff0f04566a18230249969110773d">00044</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#a7df3ff0f04566a18230249969110773d">mass_feedback_all</a>;
<a name="l00045"></a><a class="code" href="AsymGlobals_8h.html#aa7d0bb266fc0a16d5832b73d7b601f68">00045</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#aa7d0bb266fc0a16d5832b73d7b601f68">mass_feedback</a>[<a class="code" href="AsymHeader_8h.html#ad881511e312d7557e3831c4947dd7a26">TOT_WFD_CH</a>];  <span class="comment">// invariant mass for feedback</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="comment">// Kinema Direcotry</span>
<a name="l00048"></a><a class="code" href="AsymGlobals_8h.html#acad5ae1402c392affdcd3d966ab5f295">00048</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#acad5ae1402c392affdcd3d966ab5f295">t_vs_e</a>[<a class="code" href="AsymHeader_8h.html#ad881511e312d7557e3831c4947dd7a26">TOT_WFD_CH</a>];
<a name="l00049"></a><a class="code" href="AsymGlobals_8h.html#abd8dd3a66f5655b8add105de460b715d">00049</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#abd8dd3a66f5655b8add105de460b715d">t_vs_e_yescut</a>[<a class="code" href="AsymHeader_8h.html#ad881511e312d7557e3831c4947dd7a26">TOT_WFD_CH</a>];
<a name="l00050"></a><a class="code" href="AsymGlobals_8h.html#a87fc827453b15b2535b4426c63e51545">00050</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#a87fc827453b15b2535b4426c63e51545">mass_vs_e_ecut</a>[<a class="code" href="AsymHeader_8h.html#ad881511e312d7557e3831c4947dd7a26">TOT_WFD_CH</a>];  <span class="comment">// Mass vs. 12C Kinetic Energy</span>
<a name="l00051"></a><a class="code" href="AsymGlobals_8h.html#a2eeb0f7d62493e79b4f6365ca07cfc18">00051</a> TF1   *<a class="code" href="AsymRoot_8cxx.html#ab958e3adafe9912a7692da4ee17561a3">banana_cut_l</a>[<a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>][2];     <span class="comment">// banana cut low</span>
<a name="l00052"></a><a class="code" href="AsymGlobals_8h.html#ac654ec5ab3a7ba2eec6dcecdf743cf67">00052</a> TF1   *<a class="code" href="AsymRoot_8cxx.html#a087ce4a23846e88f8dd06f9c038ec8d2">banana_cut_h</a>[<a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>][2];     <span class="comment">// banana cut high</span>
<a name="l00053"></a><a class="code" href="AsymGlobals_8h.html#a113b858e0705c9617ae5db54c1df5898">00053</a> TLine *<a class="code" href="AsymRoot_8cxx.html#a66c02b7d5162f847815a834a17f83b8f">energy_cut_l</a>[<a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>];        <span class="comment">// energy cut low</span>
<a name="l00054"></a><a class="code" href="AsymGlobals_8h.html#a75746a1214d23a686515bf6d728b78dd">00054</a> TLine *<a class="code" href="AsymRoot_8cxx.html#a4e7f5f72ddd9879df52f551b79987959">energy_cut_h</a>[<a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>];        <span class="comment">// energy cut high</span>
<a name="l00055"></a><a class="code" href="AsymGlobals_8h.html#a987ef2480444d251cb3141e8cae0ba46">00055</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#a987ef2480444d251cb3141e8cae0ba46">energy_spectrum</a>[<a class="code" href="AsymHeader_8h.html#a4141e3782935f973100a9c0a9efd03b7">N_DETECTORS</a>];  <span class="comment">// energy spectrum per detector</span>
<a name="l00056"></a><a class="code" href="AsymGlobals_8h.html#a9fa693ad9666b95338d18e353e560fd5">00056</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#a9fa693ad9666b95338d18e353e560fd5">energy_spectrum_all</a>;         <span class="comment">// energy spectrum for all detector sum</span>
<a name="l00057"></a><a class="code" href="AsymGlobals_8h.html#a0ef62f63d8880b69a3cd1175bb9236c9">00057</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#a0ef62f63d8880b69a3cd1175bb9236c9">mass_nocut_all</a>;              <span class="comment">// invariant mass without banana cut</span>
<a name="l00058"></a><a class="code" href="AsymGlobals_8h.html#ae78f05137a6e7f1ea9dcaab94e4e398c">00058</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#ae78f05137a6e7f1ea9dcaab94e4e398c">mass_nocut</a>[<a class="code" href="AsymHeader_8h.html#ad881511e312d7557e3831c4947dd7a26">TOT_WFD_CH</a>];      <span class="comment">// invariant mass without banana cut</span>
<a name="l00059"></a><a class="code" href="AsymGlobals_8h.html#aa001d7e6c868977bc440bdbf3180bc7a">00059</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#aa001d7e6c868977bc440bdbf3180bc7a">mass_yescut_all</a>;
<a name="l00060"></a><a class="code" href="AsymGlobals_8h.html#ac42e3c4f6175b698639eb9331aea6b6b">00060</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#ac42e3c4f6175b698639eb9331aea6b6b">mass_yescut</a>[<a class="code" href="AsymHeader_8h.html#ad881511e312d7557e3831c4947dd7a26">TOT_WFD_CH</a>];     <span class="comment">// invariant mass with banana cut</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">// ErrDet Direcotry</span>
<a name="l00063"></a><a class="code" href="AsymGlobals_8h.html#a3d51d3b0fe1bf602c11120e464e29bff">00063</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#a3d51d3b0fe1bf602c11120e464e29bff">mass_chi2_vs_strip</a>;          <span class="comment">// Chi2 of Gaussian Fit on Mass peak</span>
<a name="l00064"></a><a class="code" href="AsymGlobals_8h.html#aa031b2eb29e97916a8761495cb69fea6">00064</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#aa031b2eb29e97916a8761495cb69fea6">mass_sigma_vs_strip</a>;         <span class="comment">// Mass sigma width vs. strip</span>
<a name="l00065"></a><a class="code" href="AsymGlobals_8h.html#a3cf8e7b2a482be2ebcbe051c641d1936">00065</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#a3cf8e7b2a482be2ebcbe051c641d1936">mass_e_correlation_strip</a>;    <span class="comment">// Mass-energy correlation vs. strip</span>
<a name="l00066"></a><a class="code" href="AsymGlobals_8h.html#ad6b7b84e10b24167f0de5d937c18a0c0">00066</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#ad6b7b84e10b24167f0de5d937c18a0c0">mass_pos_dev_vs_strip</a>;       <span class="comment">// Mass position deviation vs. strip</span>
<a name="l00067"></a><a class="code" href="AsymGlobals_8h.html#aae74faa41d16abfffd7963d1c1a46e6b">00067</a> TH1I  *<a class="code" href="AsymRoot_8cxx.html#aae74faa41d16abfffd7963d1c1a46e6b">good_carbon_events_strip</a>;    <span class="comment">// number of good carbon events per strip</span>
<a name="l00068"></a><a class="code" href="AsymGlobals_8h.html#a7eaf4e2a1e8ae8da75dc24218ec65a20">00068</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#a7eaf4e2a1e8ae8da75dc24218ec65a20">spelumi_vs_bunch</a>;            <span class="comment">// Counting rate vs. bunch</span>
<a name="l00069"></a><a class="code" href="AsymGlobals_8h.html#ac99478388094ee15ed989f1fdec57a98">00069</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#ac99478388094ee15ed989f1fdec57a98">bunch_spelumi</a>;               <span class="comment">// Counting rate per bunch hisogram</span>
<a name="l00070"></a><a class="code" href="AsymGlobals_8h.html#a0c4cc5d5e4cf98a18ebea0afc8aedcce">00070</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#a0c4cc5d5e4cf98a18ebea0afc8aedcce">asym_bunch_x45</a>;              <span class="comment">// Bunch asymmetry histogram for x45</span>
<a name="l00071"></a><a class="code" href="AsymGlobals_8h.html#a23faf951e7eb0b721d62fcdb112f8ccd">00071</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#a23faf951e7eb0b721d62fcdb112f8ccd">asym_bunch_x90</a>;              <span class="comment">// Bunch asymmetry histogram for x90</span>
<a name="l00072"></a><a class="code" href="AsymGlobals_8h.html#afd3a3d654f58bd0d925b8b226c3e0c3a">00072</a> TH1F  *<a class="code" href="AsymRoot_8cxx.html#afd3a3d654f58bd0d925b8b226c3e0c3a">asym_bunch_y45</a>;              <span class="comment">// Bunch asymmetry histogram for y45</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="comment">// Asymmetry Directory</span>
<a name="l00075"></a><a class="code" href="AsymGlobals_8h.html#aac7361bda057e41ac5f5389aa6e83329">00075</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#aac7361bda057e41ac5f5389aa6e83329">asym_vs_bunch_x45</a>;      <span class="comment">// Asymmetry vs. bunch (x45)</span>
<a name="l00076"></a><a class="code" href="AsymGlobals_8h.html#a314cd99e29a7be769c491b83c0926b89">00076</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#a314cd99e29a7be769c491b83c0926b89">asym_vs_bunch_x90</a>;      <span class="comment">// Asymmetry vs. bunch (x90)</span>
<a name="l00077"></a><a class="code" href="AsymGlobals_8h.html#adfa399072798bdc929b7e17c9d7584fe">00077</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#adfa399072798bdc929b7e17c9d7584fe">asym_vs_bunch_y45</a>;      <span class="comment">// Asymmetry vs. bunch (y45)</span>
<a name="l00078"></a><a class="code" href="AsymGlobals_8h.html#a6a2bcc46eef144bef8907de87fd3bf7e">00078</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#a6a2bcc46eef144bef8907de87fd3bf7e">asym_sinphi_fit</a>;        <span class="comment">// strip asymmetry and sin(phi) fit</span>
<a name="l00079"></a><a class="code" href="AsymGlobals_8h.html#abf4b23c1226444eafb1f696030a44928">00079</a> TH2F  *<a class="code" href="AsymRoot_8cxx.html#abf4b23c1226444eafb1f696030a44928">scan_asym_sinphi_fit</a>;   <span class="comment">// scan asymmetry and sin(phi) fit</span>
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="keyword">using namespace </span>std;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00086"></a><a class="code" href="classAsymRoot.html#aaf277470c52b516c2bcf7dc44f3f17c2">00086</a> <a class="code" href="classAsymRoot.html#aaf277470c52b516c2bcf7dc44f3f17c2">AsymRoot::AsymRoot</a>() :
<a name="l00087"></a>00087    fOutRootFile(), fOutTreeFile(), fTreeFileId(0),
<a name="l00088"></a>00088    fRawEventTree(0), fAnaEventTree(0),
<a name="l00089"></a>00089    fChannelEventTrees(), fAnaEvent(new <a class="code" href="classAnaEvent.html" title="A data container to hold data from a single event delivered by the RHIC polarimeters...">AnaEvent</a>()),
<a name="l00090"></a>00090    fChannelEvent(new <a class="code" href="classChannelEvent.html">ChannelEvent</a>()), fChannelData(new <a class="code" href="classChannelData.html" title="A simple data container to hold the principle observables such as signal amplitude...">ChannelData</a>()),
<a name="l00091"></a>00091    fChannelEvents(), fEventConfig(new <a class="code" href="classEventConfig.html">EventConfig</a>()), fHists(0)
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093    gStyle-&gt;SetPalette(1);
<a name="l00094"></a>00094    gStyle-&gt;SetOptFit(1111);
<a name="l00095"></a>00095    gStyle-&gt;SetOptStat(<span class="stringliteral">&quot;emroui&quot;</span>);
<a name="l00096"></a>00096    gStyle-&gt;SetStatX(0.99);
<a name="l00097"></a>00097    gStyle-&gt;SetStatY(0.90);
<a name="l00098"></a>00098    gStyle-&gt;SetStatW(0.18);
<a name="l00099"></a>00099    gStyle-&gt;SetStatH(0.15);
<a name="l00100"></a>00100    gStyle-&gt;SetPadRightMargin(0.30);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102    gStyle-&gt;SetStatBorderSize(1); <span class="comment">// removes shadow</span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104    <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>-&gt;<a class="code" href="classChannelEvent.html#a4f1231d1352d5e54d34b17bcca71feb8">SetEventConfig</a>(<a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>);
<a name="l00105"></a>00105 }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 
<a name="l00109"></a><a class="code" href="classAsymRoot.html#a8a29e155f2ea46f6aeeebdf0b88732bb">00109</a> <a class="code" href="classAsymRoot.html#a8a29e155f2ea46f6aeeebdf0b88732bb" title="Default destructor.">AsymRoot::~AsymRoot</a>()
<a name="l00110"></a>00110 {
<a name="l00111"></a>00111    <span class="keywordflow">if</span> (!<a class="code" href="classAsymRoot.html#aacb571d84d00c7f3b86e2cd640df82b3">fOutRootFile</a>)  { <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#aacb571d84d00c7f3b86e2cd640df82b3">fOutRootFile</a>;  <a class="code" href="classAsymRoot.html#aacb571d84d00c7f3b86e2cd640df82b3">fOutRootFile</a>  = 0; }
<a name="l00112"></a>00112    <span class="keywordflow">if</span> (!<a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>)  { <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>;  <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>  = 0; }
<a name="l00113"></a>00113    <span class="keywordflow">if</span> (!<a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a>) { <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a>; <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a> = 0; }
<a name="l00114"></a>00114    <span class="keywordflow">if</span> (!<a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a>) { <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a>; <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a> = 0; }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116    <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a87730b0b7569f118cf99e9479e9ecbc0">fAnaEvent</a>;     <a class="code" href="classAsymRoot.html#a87730b0b7569f118cf99e9479e9ecbc0">fAnaEvent</a>     = 0;
<a name="l00117"></a>00117    <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>; <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a> = 0;
<a name="l00118"></a>00118    <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a14c6cee48826b841f4a95bf9b7453312">fChannelData</a>;  <a class="code" href="classAsymRoot.html#a14c6cee48826b841f4a95bf9b7453312">fChannelData</a>  = 0;
<a name="l00119"></a>00119    <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>;  <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>  = 0;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121    <span class="keywordflow">if</span> (!<a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>) { <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>; <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a> = 0; }
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 
<a name="l00128"></a>00128 <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a572e88f6724c3b6a7fd41df9e3e2c590">AsymRoot::CreateRootFile</a>(<span class="keywordtype">string</span> filename)
<a name="l00129"></a>00129 {
<a name="l00130"></a>00130    printf(<span class="stringliteral">&quot;Creating ROOT file: %s\n&quot;</span>, filename.c_str());
<a name="l00131"></a>00131 
<a name="l00132"></a>00132    <a class="code" href="classAsymRoot.html#aacb571d84d00c7f3b86e2cd640df82b3">fOutRootFile</a> = <span class="keyword">new</span> TFile(filename.c_str(), <span class="stringliteral">&quot;RECREATE&quot;</span>, <span class="stringliteral">&quot;AsymRoot Histogram file&quot;</span>);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134    <span class="keywordflow">if</span> (!fOutRootFile) {
<a name="l00135"></a>00135       Fatal(<span class="stringliteral">&quot;CreateRootFile&quot;</span>, <span class="stringliteral">&quot;Cannot open ROOT file %s&quot;</span>, filename.c_str());
<a name="l00136"></a>00136    }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138    gSystem-&gt;Chmod(filename.c_str(), 0775);
<a name="l00139"></a>00139 
<a name="l00140"></a>00140    gROOT-&gt;SetMacroPath(<span class="stringliteral">&quot;./:~/rootmacros/:&quot;</span>);
<a name="l00141"></a>00141    gROOT-&gt;Macro(<span class="stringliteral">&quot;styles/style_asym.C&quot;</span>);
<a name="l00142"></a>00142    gROOT-&gt;ForceStyle(kTRUE);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144    TDirectory       *dir;
<a name="l00145"></a>00145    <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a> *oc;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147    <span class="comment">// Create default empty hist container</span>
<a name="l00148"></a>00148    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a> = <span class="keyword">new</span> <a class="code" href="classDrawObjContainer.html">DrawObjContainer</a>(fOutRootFile);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) {
<a name="l00151"></a>00151       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;alpha&quot;</span>, <span class="stringliteral">&quot;alpha&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00152"></a>00152       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolAlphaHists.html">CnipolAlphaHists</a>(dir);
<a name="l00153"></a>00153       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;alpha&quot;</span>] = oc;
<a name="l00154"></a>00154       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a667c52502c589b0b0854efbe768e667b">kCUT_PASSONE</a>].insert(oc);
<a name="l00155"></a>00155    }
<a name="l00156"></a>00156 
<a name="l00157"></a>00157    dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;calib&quot;</span>, <span class="stringliteral">&quot;calib&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00158"></a>00158    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;calib&quot;</span>] = <span class="keyword">new</span> <a class="code" href="classCnipolCalibHists.html">CnipolCalibHists</a>(dir);
<a name="l00159"></a>00159 
<a name="l00160"></a>00160    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a913d1d1e1f03608a77aeff566366426e">HasNormalBit</a>()) {
<a name="l00161"></a>00161       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;std&quot;</span>, <span class="stringliteral">&quot;std&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00162"></a>00162       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolHists.html">CnipolHists</a>(dir);
<a name="l00163"></a>00163       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;std&quot;</span>] = oc;
<a name="l00164"></a>00164       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a782ab3519049ae887a76abe4e6cc879f">kCUT_CARBON</a>].insert(oc);
<a name="l00165"></a>00165    }
<a name="l00166"></a>00166 
<a name="l00167"></a>00167    <span class="comment">// If requested create scaler histograms and add them to the container</span>
<a name="l00168"></a>00168    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#aeaeafd3d418c6b1adb38f1ee8fcadeb8">HasScalerBit</a>()) {
<a name="l00169"></a>00169       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;scalers&quot;</span>, <span class="stringliteral">&quot;scalers&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00170"></a>00170       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;scalers&quot;</span>] = <span class="keyword">new</span> <a class="code" href="classCnipolScalerHists.html">CnipolScalerHists</a>(dir);
<a name="l00171"></a>00171    }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a90df3f3b31e80ad8a21cc27911257029">HasRawExtendedBit</a>()) {
<a name="l00174"></a>00174       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;raw&quot;</span>, <span class="stringliteral">&quot;raw&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00175"></a>00175       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolRawExtendedHists.html">CnipolRawExtendedHists</a>(dir);
<a name="l00176"></a>00176       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;raw&quot;</span>] = oc;
<a name="l00177"></a>00177       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a667c52502c589b0b0854efbe768e667b">kCUT_PASSONE</a>].insert(oc);
<a name="l00178"></a>00178 
<a name="l00179"></a>00179       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;raw_eb&quot;</span>, <span class="stringliteral">&quot;raw_eb&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00180"></a>00180       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolRawExtendedHists.html">CnipolRawExtendedHists</a>(dir);
<a name="l00181"></a>00181       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;raw_eb&quot;</span>] = oc;
<a name="l00182"></a>00182       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a2da4100339efca237209db8884ef0059">kCUT_PASSONE_RAW_EB</a>].insert(oc);
<a name="l00183"></a>00183 
<a name="l00184"></a>00184       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;raw_neb&quot;</span>, <span class="stringliteral">&quot;raw_neb&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00185"></a>00185       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolRawExtendedHists.html">CnipolRawExtendedHists</a>(dir);
<a name="l00186"></a>00186       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;raw_neb&quot;</span>] = oc;
<a name="l00187"></a>00187    }
<a name="l00188"></a>00188    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#aa8d60f72931049286c4acdadf10660ed">HasRawBit</a>()) {
<a name="l00189"></a>00189       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;raw&quot;</span>, <span class="stringliteral">&quot;raw&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00190"></a>00190       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolRawHists.html">CnipolRawHists</a>(dir);
<a name="l00191"></a>00191       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;raw&quot;</span>] = oc;
<a name="l00192"></a>00192       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a667c52502c589b0b0854efbe768e667b">kCUT_PASSONE</a>].insert(oc);
<a name="l00193"></a>00193 
<a name="l00194"></a>00194       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;raw_eb&quot;</span>, <span class="stringliteral">&quot;raw_eb&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00195"></a>00195       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolRawHists.html">CnipolRawHists</a>(dir);
<a name="l00196"></a>00196       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;raw_eb&quot;</span>] = oc;
<a name="l00197"></a>00197       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a2da4100339efca237209db8884ef0059">kCUT_PASSONE_RAW_EB</a>].insert(oc);
<a name="l00198"></a>00198 
<a name="l00199"></a>00199       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;raw_neb&quot;</span>, <span class="stringliteral">&quot;raw_neb&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00200"></a>00200       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolRawHists.html">CnipolRawHists</a>(dir);
<a name="l00201"></a>00201       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;raw_neb&quot;</span>] = oc;
<a name="l00202"></a>00202    }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#aad68a1018b9590d3cf820b3388cd9c19">HasTargetBit</a>()) {
<a name="l00205"></a>00205       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;targets&quot;</span>, <span class="stringliteral">&quot;targets&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00206"></a>00206       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;targets&quot;</span>] = <span class="keyword">new</span> <a class="code" href="classCnipolTargetHists.html">CnipolTargetHists</a>(dir);
<a name="l00207"></a>00207    }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a9384836819fed53dee90b8ccab40c6ad">HasProfileBit</a>()) {
<a name="l00210"></a>00210       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;profile&quot;</span>, <span class="stringliteral">&quot;profile&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00211"></a>00211       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolProfileHists.html">CnipolProfileHists</a>(dir);
<a name="l00212"></a>00212       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;profile&quot;</span>] = oc;
<a name="l00213"></a>00213       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a782ab3519049ae887a76abe4e6cc879f">kCUT_CARBON</a>].insert(oc);
<a name="l00214"></a>00214    }
<a name="l00215"></a>00215 
<a name="l00216"></a>00216    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#aceb21c5815e41b69d4e76bc565341d76">HasAsymBit</a>()) {
<a name="l00217"></a>00217       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;asym&quot;</span>, <span class="stringliteral">&quot;asym&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00218"></a>00218       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolAsymHists.html">CnipolAsymHists</a>(dir);
<a name="l00219"></a>00219       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;asym&quot;</span>] = oc;
<a name="l00220"></a>00220       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a782ab3519049ae887a76abe4e6cc879f">kCUT_CARBON</a>].insert(oc);
<a name="l00221"></a>00221    }
<a name="l00222"></a>00222 
<a name="l00223"></a>00223    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a8c5b9f2dabad13ab2beffb014e961945">HasKinematBit</a>()) {
<a name="l00224"></a>00224       <span class="comment">// Pre mass cut</span>
<a name="l00225"></a>00225       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;kinema_premass&quot;</span>, <span class="stringliteral">&quot;kinema_premass&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00226"></a>00226       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolKinematHists.html">CnipolKinematHists</a>(dir);
<a name="l00227"></a>00227       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;kinema_premass&quot;</span>] = oc;
<a name="l00228"></a>00228       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a05f8bf7cb92b44ea11d92f96c89c40aa">kCUT_NOISE</a>].insert(oc);
<a name="l00229"></a>00229 
<a name="l00230"></a>00230       <span class="comment">// data after mass cut</span>
<a name="l00231"></a>00231       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;kinema&quot;</span>, <span class="stringliteral">&quot;kinema&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00232"></a>00232       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolKinemaCleanHists.html">CnipolKinemaCleanHists</a>(dir);
<a name="l00233"></a>00233       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;kinema&quot;</span>] = oc;
<a name="l00234"></a>00234       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a782ab3519049ae887a76abe4e6cc879f">kCUT_CARBON</a>].insert(oc);
<a name="l00235"></a>00235    }
<a name="l00236"></a>00236 
<a name="l00237"></a>00237    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a4ad3ea8e383e4ce4a2d49d2d1b424ec6">HasPmtBit</a>()) {
<a name="l00238"></a>00238       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;pmt&quot;</span>, <span class="stringliteral">&quot;pmt&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00239"></a>00239       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolPmtHists.html">CnipolPmtHists</a>(dir);
<a name="l00240"></a>00240       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;pmt&quot;</span>] = oc;
<a name="l00241"></a>00241       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a063e5cfb0ac26251c80cf8c19f1df068">kCUT_PASSONE_PMT</a>].insert(oc);
<a name="l00242"></a>00242    }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#abe9541dc494374023e954bb14a5cf292">HasPulserBit</a>()) {
<a name="l00245"></a>00245       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;pulser&quot;</span>, <span class="stringliteral">&quot;pulser&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00246"></a>00246       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolPulserHists.html">CnipolPulserHists</a>(dir);
<a name="l00247"></a>00247       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;pulser&quot;</span>] = oc;
<a name="l00248"></a>00248       <span class="comment">//fHistCuts[kCUT_PASSONE_PULSER].insert(oc);</span>
<a name="l00249"></a>00249       <span class="comment">//fHistCuts[kCUT_CARBON_EB].insert(oc);</span>
<a name="l00250"></a>00250    }
<a name="l00251"></a>00251 
<a name="l00252"></a>00252    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#ada1a7a4fea531b19a0986376e7c81c24">HasStudiesBit</a>()) {
<a name="l00253"></a>00253       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;studies&quot;</span>, <span class="stringliteral">&quot;studies&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00254"></a>00254       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolSpinStudyHists.html">CnipolSpinStudyHists</a>(dir);
<a name="l00255"></a>00255       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;studies&quot;</span>] = oc;
<a name="l00256"></a>00256       <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540a782ab3519049ae887a76abe4e6cc879f">kCUT_CARBON</a>].insert(oc);
<a name="l00257"></a>00257    }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259    <span class="comment">// Should be reconsidered once preproc is used to fill raw hists for alpha runs</span>
<a name="l00260"></a>00260    <span class="keywordflow">if</span> (!<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) {
<a name="l00261"></a>00261       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;run&quot;</span>, <span class="stringliteral">&quot;run&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00262"></a>00262       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;run&quot;</span>] = <span class="keyword">new</span> <a class="code" href="classCnipolRunHists.html">CnipolRunHists</a>(dir);
<a name="l00263"></a>00263 
<a name="l00264"></a>00264       dir = <span class="keyword">new</span> TDirectoryFile(<span class="stringliteral">&quot;preproc&quot;</span>, <span class="stringliteral">&quot;preproc&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fOutRootFile);
<a name="l00265"></a>00265       oc  = <span class="keyword">new</span> <a class="code" href="classCnipolPreprocHists.html">CnipolPreprocHists</a>(dir);
<a name="l00266"></a>00266       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;preproc&quot;</span>] = oc;
<a name="l00267"></a>00267       <span class="comment">//fHistCuts[kCUT_PASSONE_CALIB].insert(oc);</span>
<a name="l00268"></a>00268    }
<a name="l00269"></a>00269 }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 
<a name="l00273"></a><a class="code" href="classAsymRoot.html#af8bfdcd71d4a960322a46fb1ea0c0bf9">00273</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#af8bfdcd71d4a960322a46fb1ea0c0bf9">AsymRoot::CreateTrees</a>()
<a name="l00274"></a>00274 {
<a name="l00275"></a>00275    <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#a7c096390b9fa728715e98fceb2366d9d">fTreeFileId</a> &gt; 99) {
<a name="l00276"></a>00276       Fatal(<span class="stringliteral">&quot;CreateTrees&quot;</span>, <span class="stringliteral">&quot;fTreeFileId is too big&quot;</span>);
<a name="l00277"></a>00277    }
<a name="l00278"></a>00278 
<a name="l00279"></a>00279    <span class="keywordtype">string</span> filename = <a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a49a106496cf130d3b3608b438e497e1c">GetRootTreeFileName</a>(<a class="code" href="classAsymRoot.html#a7c096390b9fa728715e98fceb2366d9d">fTreeFileId</a>);
<a name="l00280"></a>00280 
<a name="l00281"></a>00281    <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a> = <span class="keyword">new</span> TFile(filename.c_str(), <span class="stringliteral">&quot;RECREATE&quot;</span>, <span class="stringliteral">&quot;AsymRoot Histogram file&quot;</span>);
<a name="l00282"></a>00282 
<a name="l00283"></a>00283    <span class="comment">// Create trees with raw data</span>
<a name="l00284"></a>00284    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(0) ) {
<a name="l00285"></a>00285 
<a name="l00286"></a>00286       <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a> = <span class="keyword">new</span> TTree(<span class="stringliteral">&quot;RawEventTree&quot;</span>, <span class="stringliteral">&quot;Raw Event Tree&quot;</span>);
<a name="l00287"></a>00287       <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a>-&gt;Branch(<span class="stringliteral">&quot;ChannelEvent&quot;</span>, <span class="stringliteral">&quot;ChannelEvent&quot;</span>, &amp;<a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>);
<a name="l00288"></a>00288    }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290    <span class="comment">// Create trees with channel events</span>
<a name="l00291"></a>00291    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(1) ) {
<a name="l00292"></a>00292 
<a name="l00293"></a>00293       <span class="keywordtype">char</span> tmpCharStr[19];
<a name="l00294"></a>00294 
<a name="l00295"></a>00295       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i!=<a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>; i++) {
<a name="l00296"></a>00296          sprintf(tmpCharStr, <span class="stringliteral">&quot;ChannelEventTree%02d&quot;</span>, i);
<a name="l00297"></a>00297          TTree *chEventTree = <span class="keyword">new</span> TTree(tmpCharStr, <span class="stringliteral">&quot;Channel Event Tree&quot;</span>);
<a name="l00298"></a>00298          chEventTree-&gt;Branch(<span class="stringliteral">&quot;ChannelData&quot;</span>, <span class="stringliteral">&quot;ChannelData&quot;</span>, &amp;<a class="code" href="classAsymRoot.html#a14c6cee48826b841f4a95bf9b7453312">fChannelData</a>);
<a name="l00299"></a>00299          <a class="code" href="classAsymRoot.html#a4d1433a83898defe9b56ab3120f75cc4">fChannelEventTrees</a>.push_back(chEventTree);
<a name="l00300"></a>00300       }
<a name="l00301"></a>00301    }
<a name="l00302"></a>00302 
<a name="l00303"></a>00303    <span class="comment">// Create tree with time ordered events</span>
<a name="l00304"></a>00304    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(2) ) {
<a name="l00305"></a>00305 
<a name="l00306"></a>00306       <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a> = <span class="keyword">new</span> TTree(<span class="stringliteral">&quot;AnaEventTree&quot;</span>, <span class="stringliteral">&quot;Ana Event Tree&quot;</span>);
<a name="l00307"></a>00307       <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a>-&gt;Branch(<span class="stringliteral">&quot;AnaEvent&quot;</span>, <span class="stringliteral">&quot;AnaEvent&quot;</span>, &amp;<a class="code" href="classAsymRoot.html#a87730b0b7569f118cf99e9479e9ecbc0">fAnaEvent</a>);
<a name="l00308"></a>00308    }
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 }
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 
<a name="l00316"></a><a class="code" href="classAsymRoot.html#a21b41e8cc022c2618c724f37c31b1e38">00316</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a21b41e8cc022c2618c724f37c31b1e38" title="Sets current event with data from raw file.">AsymRoot::SetChannelEvent</a>(ATStruct &amp;at, <span class="keywordtype">long</span> delim, <span class="keywordtype">unsigned</span> chId)
<a name="l00317"></a>00317 {
<a name="l00318"></a>00318    <a class="code" href="classChannelEventId.html">ChannelEventId</a> chEventId(delim*512 + at.rev*2 + at.rev0, at.b, chId, delim);
<a name="l00319"></a>00319    <a class="code" href="classChannelData.html" title="A simple data container to hold the principle observables such as signal amplitude...">ChannelData</a> chData(at.a, at.s, at.t, at.tmax);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321    <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>-&gt;<a class="code" href="classChannelEvent.html#a48161f07b94e2804eb4a1731eca989b9">SetEventId</a>(chEventId);
<a name="l00322"></a>00322    <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>-&gt;<a class="code" href="classChannelEvent.html#affdd954b3cf16cbe4fe6f6a521c55f76">SetChannelData</a>(chData);
<a name="l00323"></a>00323 }
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 
<a name="l00327"></a><a class="code" href="classAsymRoot.html#a16edbd15c0020213075f27c91c4899ef">00327</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a16edbd15c0020213075f27c91c4899ef">AsymRoot::AddSpinFlipperMarker</a>()
<a name="l00328"></a>00328 {
<a name="l00329"></a>00329    UInt_t revId = <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>-&gt;<a class="code" href="classChannelEvent.html#a3a9fef14ca278137cf2ecb6e0fe12ae6">GetRevolutionId</a>();
<a name="l00330"></a>00330    <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#afb23ed49915a90b5a8924e9843333a95">GetMeasInfo</a>()-&gt;<a class="code" href="classMeasInfo.html#a95ddd70cb9287d6bfb1bc52df40f9ccb">AddSpinFlipperMarker</a>(revId);
<a name="l00331"></a>00331 }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 
<a name="l00335"></a><a class="code" href="classAsymRoot.html#a05c313b6cf9c0e0ebf0aa7706d8e91dc">00335</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a05c313b6cf9c0e0ebf0aa7706d8e91dc">AsymRoot::FillPassOne</a>(<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540">ECut</a> cut)
<a name="l00336"></a>00336 {
<a name="l00337"></a>00337    set&lt;DrawObjContainer*&gt; hists = <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[cut];
<a name="l00338"></a>00338 
<a name="l00339"></a>00339    set&lt;DrawObjContainer*&gt;::iterator hi;
<a name="l00340"></a>00340    set&lt;DrawObjContainer*&gt;::iterator hb = hists.begin();
<a name="l00341"></a>00341    set&lt;DrawObjContainer*&gt;::iterator he = hists.end();
<a name="l00342"></a>00342 
<a name="l00343"></a>00343    <span class="keywordflow">for</span> (hi=hb; hi!=he; hi++) {
<a name="l00344"></a>00344       (*hi)-&gt;FillPassOne(<a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>);
<a name="l00345"></a>00345    }
<a name="l00346"></a>00346 }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00350"></a><a class="code" href="classAsymRoot.html#aefa4a0d442e681f64a5421ca00bc98ef">00350</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#aefa4a0d442e681f64a5421ca00bc98ef">AsymRoot::FillDerivedPassOne</a>()
<a name="l00351"></a>00351 {
<a name="l00352"></a>00352    Info(<span class="stringliteral">&quot;FillDerivedPassOne&quot;</span>, <span class="stringliteral">&quot;Called&quot;</span>);
<a name="l00353"></a>00353    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ad138328d26535379e138ea80fe9ed8ce">FillDerivedPassOne</a>();
<a name="l00354"></a>00354 
<a name="l00355"></a>00355    <span class="comment">// The order is important!</span>
<a name="l00356"></a>00356    <span class="keywordflow">if</span> ( <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(<span class="stringliteral">&quot;raw_neb&quot;</span>) != <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end() )
<a name="l00357"></a>00357       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;raw_neb&quot;</span>]-&gt;FillDerivedPassOne(*<a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>);
<a name="l00358"></a>00358 
<a name="l00359"></a>00359    <span class="keywordflow">if</span> ( <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(<span class="stringliteral">&quot;preproc&quot;</span>) != <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end() )
<a name="l00360"></a>00360       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;preproc&quot;</span>]-&gt;FillDerivedPassOne(*<a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>);
<a name="l00361"></a>00361 }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 
<a name="l00365"></a><a class="code" href="classAsymRoot.html#ab2e134c6b488f1072746390e5e2aed4d">00365</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ab2e134c6b488f1072746390e5e2aed4d">AsymRoot::PostFillPassOne</a>()
<a name="l00366"></a>00366 {
<a name="l00367"></a>00367    Info(<span class="stringliteral">&quot;PostFillPassOne&quot;</span>, <span class="stringliteral">&quot;Called&quot;</span>);
<a name="l00368"></a>00368 
<a name="l00369"></a>00369    <span class="comment">// The order is important!</span>
<a name="l00370"></a>00370    <span class="keywordflow">if</span> ( <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.find(<span class="stringliteral">&quot;alpha&quot;</span>) != <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>.end() )
<a name="l00371"></a>00371       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;alpha&quot;</span>]-&gt;PostFillPassOne(<a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>);
<a name="l00372"></a>00372 }
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 
<a name="l00376"></a><a class="code" href="classAsymRoot.html#a42057da1b0fef2a14b0171a8eb03e369">00376</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a42057da1b0fef2a14b0171a8eb03e369">AsymRoot::PreFill</a>()
<a name="l00377"></a>00377 {
<a name="l00378"></a>00378    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#a1d4699f99801ecb33c077d1335811bb2">PreFill</a>();
<a name="l00379"></a>00379 }
<a name="l00380"></a>00380 
<a name="l00381"></a>00381 
<a name="l00383"></a><a class="code" href="classAsymRoot.html#ac3b09be7513e527875c27541d66e8b61">00383</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ac3b09be7513e527875c27541d66e8b61">AsymRoot::Fill</a>(<a class="code" href="AsymRoot_8h.html#a262fef3e8d06e598e6dbf6ffb6c02540">ECut</a> cut)
<a name="l00384"></a>00384 {
<a name="l00385"></a>00385    set&lt;DrawObjContainer*&gt; hists = <a class="code" href="classAsymRoot.html#a186c234b48900102ee9cd6dc133a4b37" title="A map of histogram containers groupped by type of cut (event selection).">fHistCuts</a>[cut];
<a name="l00386"></a>00386 
<a name="l00387"></a>00387    set&lt;DrawObjContainer*&gt;::iterator hi;
<a name="l00388"></a>00388    set&lt;DrawObjContainer*&gt;::iterator hb = hists.begin();
<a name="l00389"></a>00389    set&lt;DrawObjContainer*&gt;::iterator he = hists.end();
<a name="l00390"></a>00390 
<a name="l00391"></a>00391    <span class="keywordflow">for</span> (hi=hb; hi!=he; hi++) {
<a name="l00392"></a>00392       (*hi)-&gt;Fill(<a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>);
<a name="l00393"></a>00393    }
<a name="l00394"></a>00394 }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 
<a name="l00398"></a><a class="code" href="classAsymRoot.html#abc64fc263a65158fcefac42d3ba33a93">00398</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#abc64fc263a65158fcefac42d3ba33a93">AsymRoot::FillDerived</a>()
<a name="l00399"></a>00399 {
<a name="l00400"></a>00400    Info(<span class="stringliteral">&quot;FillDerived&quot;</span>, <span class="stringliteral">&quot;Called&quot;</span>);
<a name="l00401"></a>00401 
<a name="l00402"></a>00402    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#a598ad1a18df99dc7d990d7137dc684b6">FillDerived</a>();
<a name="l00403"></a>00403 
<a name="l00404"></a>00404    <span class="comment">// Process dependencies</span>
<a name="l00405"></a>00405    <span class="comment">// asym depends on std</span>
<a name="l00406"></a>00406    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#aceb21c5815e41b69d4e76bc565341d76">HasAsymBit</a>() &amp;&amp; <a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a913d1d1e1f03608a77aeff566366426e">HasNormalBit</a>() ) {
<a name="l00407"></a>00407       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;asym&quot;</span>]-&gt;FillDerived( *<a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a> );
<a name="l00408"></a>00408    }
<a name="l00409"></a>00409 
<a name="l00410"></a>00410    <span class="comment">// profile depends on asym</span>
<a name="l00411"></a>00411    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a9384836819fed53dee90b8ccab40c6ad">HasProfileBit</a>() &amp;&amp; <a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a913d1d1e1f03608a77aeff566366426e">HasNormalBit</a>() ) {
<a name="l00412"></a>00412       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;profile&quot;</span>]-&gt;FillDerived( *<a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a> );
<a name="l00413"></a>00413    }
<a name="l00414"></a>00414 }
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 
<a name="l00418"></a><a class="code" href="classAsymRoot.html#a33c896fedfaf29210366adffcf4ef8dd">00418</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a33c896fedfaf29210366adffcf4ef8dd">AsymRoot::PostFill</a>(MseMeasInfoX &amp;run)
<a name="l00419"></a>00419 {
<a name="l00420"></a>00420    Info(<span class="stringliteral">&quot;PostFill&quot;</span>, <span class="stringliteral">&quot;Called&quot;</span>);
<a name="l00421"></a>00421 
<a name="l00422"></a>00422    <span class="comment">// One should be carefull here as the order of post processing is important.</span>
<a name="l00423"></a>00423    <span class="comment">// Some histograms may depend on other histograms in independent containers</span>
<a name="l00424"></a>00424    <span class="comment">// For example, &apos;profile&apos; depends on &apos;asym&apos;</span>
<a name="l00425"></a>00425    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ab5bd1f5427193442d9432c0b5b97eee7">PostFill</a>();
<a name="l00426"></a>00426 
<a name="l00427"></a>00427    <span class="comment">// Add info to database entry</span>
<a name="l00428"></a>00428    run.profile_ratio       = <a class="code" href="AsymCommon_8cxx.html#a3cac8aa10cf34ae7bf0818af15ce3c4a">gAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#afbaa36d85eb91c7fde8fdc207af64659">fProfilePolarR</a>.first;
<a name="l00429"></a>00429    run.profile_ratio_error = <a class="code" href="AsymCommon_8cxx.html#a3cac8aa10cf34ae7bf0818af15ce3c4a">gAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#afbaa36d85eb91c7fde8fdc207af64659">fProfilePolarR</a>.second;
<a name="l00430"></a>00430 
<a name="l00431"></a>00431    run.polarization        = <a class="code" href="AsymCommon_8cxx.html#a3cac8aa10cf34ae7bf0818af15ce3c4a">gAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#abee5fa5274222f8ab61178b05b448de5">GetPCPolar</a>().first;
<a name="l00432"></a>00432    run.polarization_error  = <a class="code" href="AsymCommon_8cxx.html#a3cac8aa10cf34ae7bf0818af15ce3c4a">gAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#abee5fa5274222f8ab61178b05b448de5">GetPCPolar</a>().second;
<a name="l00433"></a>00433    run.phase               = <a class="code" href="AsymCommon_8cxx.html#a3cac8aa10cf34ae7bf0818af15ce3c4a">gAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#ada9f78cc4666ebcf6739c1eea115b55e">GetPCPolarPhase</a>().first;
<a name="l00434"></a>00434    run.phase_error         = <a class="code" href="AsymCommon_8cxx.html#a3cac8aa10cf34ae7bf0818af15ce3c4a">gAnaMeasResult</a>-&gt;<a class="code" href="classAnaMeasResult.html#ada9f78cc4666ebcf6739c1eea115b55e">GetPCPolarPhase</a>().second;
<a name="l00435"></a>00435 }
<a name="l00436"></a>00436 
<a name="l00437"></a>00437 
<a name="l00439"></a>00439 <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ad32c0bc3b7c87726b277848ff3c117c6">AsymRoot::FillScallerHists</a>(int32_t *hData, UShort_t chId)
<a name="l00440"></a>00440 {
<a name="l00441"></a>00441    <span class="keywordflow">if</span> ( !<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#aeaeafd3d418c6b1adb38f1ee8fcadeb8">HasScalerBit</a>() ) <span class="keywordflow">return</span>;
<a name="l00442"></a>00442 
<a name="l00443"></a>00443    ((<a class="code" href="classCnipolScalerHists.html">CnipolScalerHists</a>*) <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;scalers&quot;</span>])-&gt;Fill(hData, chId);
<a name="l00444"></a>00444 }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 
<a name="l00448"></a><a class="code" href="classAsymRoot.html#a8456474a3eeef47e3e9255af0f4c682a">00448</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a8456474a3eeef47e3e9255af0f4c682a">AsymRoot::FillTargetHists</a>(Int_t n, Double_t *hData)
<a name="l00449"></a>00449 {
<a name="l00450"></a>00450    <span class="keywordflow">if</span> (!<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#aad68a1018b9590d3cf820b3388cd9c19">HasTargetBit</a>()) <span class="keywordflow">return</span>;
<a name="l00451"></a>00451 
<a name="l00452"></a>00452    ((<a class="code" href="classCnipolTargetHists.html">CnipolTargetHists</a>*) <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;targets&quot;</span>])-&gt;Fill(n, hData);
<a name="l00453"></a>00453 }
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 
<a name="l00457"></a>00457 <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a6e1c70d15f29fdb2ecbfff679e3107cd">AsymRoot::FillProfileHists</a>(UInt_t n, int32_t *hData)
<a name="l00458"></a>00458 {
<a name="l00459"></a>00459    <span class="keywordflow">if</span> (!<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#a9384836819fed53dee90b8ccab40c6ad">HasProfileBit</a>()) <span class="keywordflow">return</span>;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461    ((<a class="code" href="classCnipolProfileHists.html">CnipolProfileHists</a>*) <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;profile&quot;</span>])-&gt;Fill(n, hData);
<a name="l00462"></a>00462 }
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 
<a name="l00466"></a><a class="code" href="classAsymRoot.html#ad1843596290ce21ac886b59962208cd8">00466</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ad1843596290ce21ac886b59962208cd8">AsymRoot::FillRunHists</a>()
<a name="l00467"></a>00467 {
<a name="l00468"></a>00468    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) <span class="keywordflow">return</span>;
<a name="l00469"></a>00469 
<a name="l00470"></a>00470    ((<a class="code" href="classCnipolRunHists.html">CnipolRunHists</a>*) <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ae762b02a32ea3f1684da098342b93149">d</a>[<span class="stringliteral">&quot;run&quot;</span>])-&gt;Fill(*<a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>);
<a name="l00471"></a>00471 }
<a name="l00472"></a>00472 
<a name="l00473"></a>00473 
<a name="l00477"></a><a class="code" href="classAsymRoot.html#a8e5c81c1325c41d808c78127c40310ba">00477</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a8e5c81c1325c41d808c78127c40310ba">AsymRoot::AddChannelEvent</a>()
<a name="l00478"></a>00478 {
<a name="l00479"></a>00479    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(0))
<a name="l00480"></a>00480       <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a>-&gt;Fill();
<a name="l00481"></a>00481 
<a name="l00482"></a>00482    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(1) || <a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(2))
<a name="l00483"></a>00483    {
<a name="l00484"></a>00484       <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.insert(*<a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>);
<a name="l00485"></a>00485 
<a name="l00486"></a>00486       <span class="keywordtype">int</span> sizen = <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.size();
<a name="l00487"></a>00487 
<a name="l00488"></a>00488       <span class="keywordflow">if</span> (sizen &gt;= 12000000) { <span class="comment">// corresponds to 300Mb if all 3 trees are saved</span>
<a name="l00489"></a>00489 
<a name="l00490"></a>00490          printf(<span class="stringliteral">&quot;sizen: %d\n&quot;</span>, sizen);
<a name="l00491"></a>00491 
<a name="l00492"></a>00492          <a class="code" href="classAsymRoot.html#a439fbadc8be651df4f9800823be4557f">SaveChannelTrees</a>();
<a name="l00493"></a>00493          <a class="code" href="classAsymRoot.html#ab1e82e73e794baa4e3137e8f9a7e251f">SaveEventTree</a>();
<a name="l00494"></a>00494 
<a name="l00495"></a>00495          <a class="code" href="classAsymRoot.html#a7c096390b9fa728715e98fceb2366d9d">fTreeFileId</a>++;
<a name="l00496"></a>00496          <a class="code" href="classAsymRoot.html#a21ea7f0b771aa6db1ab67fae05ba1f83">WriteTreeFile</a>();
<a name="l00497"></a>00497          <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>-&gt;Close();
<a name="l00498"></a>00498          <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>-&gt;Delete();
<a name="l00499"></a>00499 
<a name="l00500"></a>00500          <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a> = 0;
<a name="l00501"></a>00501          <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a> = 0;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503          <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.clear();
<a name="l00504"></a>00504          <a class="code" href="classAsymRoot.html#af8bfdcd71d4a960322a46fb1ea0c0bf9">CreateTrees</a>();
<a name="l00505"></a>00505       }
<a name="l00506"></a>00506    }
<a name="l00507"></a>00507 }
<a name="l00508"></a>00508 
<a name="l00509"></a>00509 
<a name="l00513"></a><a class="code" href="classAsymRoot.html#a21ea7f0b771aa6db1ab67fae05ba1f83">00513</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a21ea7f0b771aa6db1ab67fae05ba1f83">AsymRoot::WriteTreeFile</a>()
<a name="l00514"></a>00514 {
<a name="l00515"></a>00515    <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>-&gt;cd();
<a name="l00516"></a>00516 
<a name="l00517"></a>00517    <span class="comment">// Write run configuration object</span>
<a name="l00518"></a>00518    <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;Write(<span class="stringliteral">&quot;measConfig&quot;</span>);
<a name="l00519"></a>00519 
<a name="l00520"></a>00520    <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a>) {
<a name="l00521"></a>00521       <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a>-&gt;Write();
<a name="l00522"></a>00522       <a class="code" href="classAsymRoot.html#a20a374d5233346b099120bc8b3662f87">fRawEventTree</a>-&gt;Delete();
<a name="l00523"></a>00523    }
<a name="l00524"></a>00524 
<a name="l00525"></a>00525    <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#a4d1433a83898defe9b56ab3120f75cc4">fChannelEventTrees</a>.size()&gt;0) {
<a name="l00526"></a>00526       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i!=<a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>; i++) {
<a name="l00527"></a>00527          <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#a4d1433a83898defe9b56ab3120f75cc4">fChannelEventTrees</a>[i]-&gt;GetEntries() &gt; 0)
<a name="l00528"></a>00528             <a class="code" href="classAsymRoot.html#a4d1433a83898defe9b56ab3120f75cc4">fChannelEventTrees</a>[i]-&gt;Write();
<a name="l00529"></a>00529          <a class="code" href="classAsymRoot.html#a4d1433a83898defe9b56ab3120f75cc4">fChannelEventTrees</a>[i]-&gt;Delete();
<a name="l00530"></a>00530       }
<a name="l00531"></a>00531       <a class="code" href="classAsymRoot.html#a4d1433a83898defe9b56ab3120f75cc4">fChannelEventTrees</a>.clear();
<a name="l00532"></a>00532    }
<a name="l00533"></a>00533 
<a name="l00534"></a>00534    <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a>) {
<a name="l00535"></a>00535       <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a>-&gt;Write();
<a name="l00536"></a>00536       <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a>-&gt;Delete();
<a name="l00537"></a>00537    }
<a name="l00538"></a>00538 }
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 
<a name="l00542"></a><a class="code" href="classAsymRoot.html#ab1204c25b72b59ab03e1981dfba7044a">00542</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ab1204c25b72b59ab03e1981dfba7044a">AsymRoot::PrintEventMap</a>()
<a name="l00543"></a>00543 {
<a name="l00544"></a>00544    ChannelEventSet::const_iterator mi;
<a name="l00545"></a>00545    ChannelEventSet::const_iterator mb = <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.begin();
<a name="l00546"></a>00546    ChannelEventSet::const_iterator me = <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.end();
<a name="l00547"></a>00547 
<a name="l00548"></a>00548    <span class="keywordflow">for</span> (mi=mb; mi!=me; mi++) {
<a name="l00549"></a>00549       mi-&gt;Print();
<a name="l00550"></a>00550    }
<a name="l00551"></a>00551 }
<a name="l00552"></a>00552 
<a name="l00553"></a>00553 
<a name="l00555"></a><a class="code" href="classAsymRoot.html#ae21d94e322eed8ed5647116991414348">00555</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ae21d94e322eed8ed5647116991414348">AsymRoot::PrintChannelEvent</a>()
<a name="l00556"></a>00556 {
<a name="l00557"></a>00557    <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>-&gt;<a class="code" href="classChannelEvent.html#a699f9c02f5d34d98007fe2f8521f015c">Print</a>();
<a name="l00558"></a>00558 }
<a name="l00559"></a>00559 
<a name="l00560"></a>00560 
<a name="l00562"></a><a class="code" href="classAsymRoot.html#a6f1ac9bdd0a32ecb0f3878b2c26117d9">00562</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a6f1ac9bdd0a32ecb0f3878b2c26117d9">AsymRoot::UpdateCalibrator</a>()
<a name="l00563"></a>00563 {
<a name="l00564"></a>00564    <a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a> *anaInfo = <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a234f624192cf23a1ada3eccdd25d2fa8">GetAnaInfo</a>();
<a name="l00565"></a>00565 
<a name="l00566"></a>00566    <span class="keywordflow">if</span> (anaInfo-&gt;<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>())
<a name="l00567"></a>00567    {
<a name="l00568"></a>00568       Info(<span class="stringliteral">&quot;AsymRoot::UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;Setting AlphaCalibrator&quot;</span>);
<a name="l00569"></a>00569 
<a name="l00570"></a>00570       <span class="comment">// Existing calibrator will be replaced so, delete the existing one first</span>
<a name="l00571"></a>00571       <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>;
<a name="l00572"></a>00572       <span class="comment">// and assign a new calibrator</span>
<a name="l00573"></a>00573       <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a> = <span class="keyword">new</span> <a class="code" href="classAlphaCalibrator.html">AlphaCalibrator</a>();
<a name="l00574"></a>00574    }
<a name="l00575"></a>00575    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (anaInfo-&gt;<a class="code" href="classAsymAnaInfo.html#a913d1d1e1f03608a77aeff566366426e">HasNormalBit</a>())
<a name="l00576"></a>00576    {
<a name="l00577"></a>00577       Info(<span class="stringliteral">&quot;AsymRoot::UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;Setting DeadLayerCalibrator&quot;</span>);
<a name="l00578"></a>00578 
<a name="l00579"></a>00579       <span class="comment">// Existing calibrator will be replaced so, delete it first</span>
<a name="l00580"></a>00580       <span class="keyword">delete</span> <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>;
<a name="l00581"></a>00581       <span class="comment">// and finally, assign the new calibrator</span>
<a name="l00582"></a>00582       <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a> =  <span class="keyword">new</span> <a class="code" href="classDeadLayerCalibratorEDepend.html">DeadLayerCalibratorEDepend</a>();
<a name="l00583"></a>00583 
<a name="l00584"></a>00584       <span class="comment">// Now overwrite alpha calibration constants from an alpha calib file</span>
<a name="l00585"></a>00585       <span class="keywordtype">string</span> fnameAlpha = anaInfo-&gt;<a class="code" href="classAsymAnaInfo.html#a7fde3f21f56ee21669f2f32c0248ef06">GetAlphaCalibFile</a>();
<a name="l00586"></a>00586       cout &lt;&lt; <span class="stringliteral">&quot;alpha filename: &quot;</span> &lt;&lt; fnameAlpha &lt;&lt; endl;
<a name="l00587"></a>00587       <span class="keywordtype">string</span> frunNameTest  = anaInfo-&gt;<a class="code" href="classAsymAnaInfo.html#a0ce246186d36de6e759704f7f018618c">GetRunName</a>();
<a name="l00588"></a>00588       cout &lt;&lt; <span class="stringliteral">&quot;run file name: &quot;</span> &lt;&lt; frunNameTest &lt;&lt; endl;
<a name="l00589"></a>00589       Info(<span class="stringliteral">&quot;AsymRoot::UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;Reading MeasConfig object from alpha calib file %s&quot;</span>, fnameAlpha.c_str());
<a name="l00590"></a>00590 
<a name="l00591"></a>00591       TFile *f = TFile::Open(fnameAlpha.c_str());
<a name="l00592"></a>00592 
<a name="l00593"></a>00593       <span class="keywordflow">if</span> (!f) {
<a name="l00594"></a>00594          Fatal(<span class="stringliteral">&quot;UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;File not found: %s&quot;</span>, fnameAlpha.c_str());
<a name="l00595"></a>00595       }
<a name="l00596"></a>00596 
<a name="l00597"></a>00597       TList *streamerList = f-&gt;GetStreamerInfoList();
<a name="l00598"></a>00598 
<a name="l00599"></a>00599       <span class="keywordflow">if</span> (!streamerList) {
<a name="l00600"></a>00600          Fatal(<span class="stringliteral">&quot;UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;No MeasConfig object found in alpha calib file %s&quot;</span>, fnameAlpha.c_str());
<a name="l00601"></a>00601       }
<a name="l00602"></a>00602 
<a name="l00603"></a>00603       TStreamerInfo *streamerInfo = (TStreamerInfo*) streamerList-&gt;FindObject(<span class="stringliteral">&quot;EventConfig&quot;</span>); <span class="comment">// this is actually class name</span>
<a name="l00604"></a>00604       Int_t mcVer = 0;
<a name="l00605"></a>00605 
<a name="l00606"></a>00606       <span class="keywordflow">if</span> (!streamerInfo) {
<a name="l00607"></a>00607          Error(<span class="stringliteral">&quot;UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;No TStreamerInfo for MeasConfig found in alpha calib file %s&quot;</span>, fnameAlpha.c_str());
<a name="l00608"></a>00608       } <span class="keywordflow">else</span> {
<a name="l00609"></a>00609          mcVer = streamerInfo-&gt;GetClassVersion();
<a name="l00610"></a>00610       }
<a name="l00611"></a>00611 
<a name="l00612"></a>00612       <span class="keyword">delete</span> streamerList;
<a name="l00613"></a>00613 
<a name="l00614"></a>00614       Version_t    mcLoadedVer = TClassTable::GetID(<span class="stringliteral">&quot;EventConfig&quot;</span>);
<a name="l00615"></a>00615       <a class="code" href="classEventConfig.html">EventConfig</a> *eventConfig = (<a class="code" href="classEventConfig.html">EventConfig</a>*) f-&gt;FindObjectAny(<span class="stringliteral">&quot;measConfig&quot;</span>);
<a name="l00616"></a>00616 
<a name="l00617"></a>00617       <span class="keywordflow">if</span> (!eventConfig || mcVer != mcLoadedVer) {
<a name="l00618"></a>00618          Fatal(<span class="stringliteral">&quot;UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;No MeasConfig object of known version %d found in alpha calib file %s&quot;</span>, mcLoadedVer, fnameAlpha.c_str());
<a name="l00619"></a>00619       }
<a name="l00620"></a>00620 
<a name="l00621"></a>00621       <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#a7539a63838dc481f26fa145683f2e6c0">CopyAlphaCoefs</a>(*eventConfig-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>);
<a name="l00622"></a>00622 
<a name="l00623"></a>00623       <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a443d996660757980506b5e45a03df4b9">IsRunYear</a>(2013)) {
<a name="l00624"></a>00624          <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#ab524bbe6f1be3f0125170d46db0ad1b8">ApplyRun13BiasCurrentCorrection</a>(<a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>, <span class="keyword">true</span>);
<a name="l00625"></a>00625       } <span class="keywordflow">else</span> {
<a name="l00626"></a>00626          <span class="comment">// For all other years we just use plain alpha gains</span>
<a name="l00627"></a>00627          <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#aaf8cd16c7c88642a4c97082645f2a0d8">UsePlainAlphaGain</a>();
<a name="l00628"></a>00628       }
<a name="l00629"></a>00629 
<a name="l00630"></a>00630       <span class="keyword">delete</span> eventConfig;
<a name="l00631"></a>00631       <span class="keyword">delete</span> f;
<a name="l00632"></a>00632 
<a name="l00633"></a>00633    } <span class="keywordflow">else</span> {
<a name="l00634"></a>00634       Fatal(<span class="stringliteral">&quot;UpdateCalibrator&quot;</span>, <span class="stringliteral">&quot;Cannot select calibrator for this kind of run&quot;</span>);
<a name="l00635"></a>00635    }
<a name="l00636"></a>00636 }
<a name="l00637"></a>00637 
<a name="l00638"></a>00638 
<a name="l00639"></a><a class="code" href="classAsymRoot.html#a3affa9a9a8bff0c71e461503c432f39e">00639</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a3affa9a9a8bff0c71e461503c432f39e">AsymRoot::UpdateFromChannelEvent</a>()
<a name="l00640"></a>00640 {
<a name="l00641"></a>00641    UInt_t revId = <a class="code" href="classAsymRoot.html#ad2c8972e4325a77b435dd22698d8a00d">fChannelEvent</a>-&gt;<a class="code" href="classChannelEvent.html#a3a9fef14ca278137cf2ecb6e0fe12ae6">GetRevolutionId</a>();
<a name="l00642"></a>00642    <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#afb23ed49915a90b5a8924e9843333a95">GetMeasInfo</a>()-&gt;<a class="code" href="classMeasInfo.html#a0a50567523f11a2b8e6f37cdc7f1e83c">UpdateRevolutions</a>( revId );
<a name="l00643"></a>00643 }
<a name="l00644"></a>00644 
<a name="l00645"></a>00645 
<a name="l00647"></a><a class="code" href="classAsymRoot.html#a1a1fac3fd2127d5bc0b01c0e6e712031">00647</a> <span class="keyword">const</span> <a class="code" href="classCalibrator.html">Calibrator</a>* <a class="code" href="classAsymRoot.html#a1a1fac3fd2127d5bc0b01c0e6e712031">AsymRoot::GetCalibrator</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#af202f4dd6fed4cdc550677356d3910bd">GetCalibrator</a>(); }
<a name="l00648"></a>00648 
<a name="l00649"></a>00649 
<a name="l00651"></a><a class="code" href="classAsymRoot.html#ada9f9a7aed23858e9c7411ec504dec5f">00651</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ada9f9a7aed23858e9c7411ec504dec5f">AsymRoot::Calibrate</a>()
<a name="l00652"></a>00652 {
<a name="l00653"></a>00653    <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#ad0730cf719936e9f31bcc0b7e040dd62">Calibrate</a>(<a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>);
<a name="l00654"></a>00654 
<a name="l00655"></a>00655    <a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a> *anaInfo = <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a234f624192cf23a1ada3eccdd25d2fa8">GetAnaInfo</a>();
<a name="l00656"></a>00656    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a443d996660757980506b5e45a03df4b9">IsRunYear</a>(2013) &amp;&amp; anaInfo-&gt;<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) {
<a name="l00657"></a>00657       <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a402e03c3295efc399b19e656f9954453">fCalibrator</a>-&gt;<a class="code" href="classCalibrator.html#ab524bbe6f1be3f0125170d46db0ad1b8">ApplyRun13BiasCurrentCorrection</a>(<a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>, <span class="keyword">false</span>);
<a name="l00658"></a>00658    }
<a name="l00659"></a>00659 }
<a name="l00660"></a>00660 
<a name="l00661"></a>00661 
<a name="l00663"></a><a class="code" href="classAsymRoot.html#a439fbadc8be651df4f9800823be4557f">00663</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a439fbadc8be651df4f9800823be4557f">AsymRoot::SaveChannelTrees</a>()
<a name="l00664"></a>00664 {
<a name="l00665"></a>00665    <span class="keywordflow">if</span> (!<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(1)) <span class="keywordflow">return</span>;
<a name="l00666"></a>00666 
<a name="l00667"></a>00667    <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.size() &lt;= 0) {
<a name="l00668"></a>00668       printf(<span class="stringliteral">&quot;No channels to save in ChannelTree\n&quot;</span>);
<a name="l00669"></a>00669       <span class="keywordflow">return</span>;
<a name="l00670"></a>00670    }
<a name="l00671"></a>00671 
<a name="l00672"></a>00672    ChannelEventSet::iterator mi;
<a name="l00673"></a>00673    ChannelEventSet::iterator mb = <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.begin();
<a name="l00674"></a>00674    ChannelEventSet::iterator me = <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.end();
<a name="l00675"></a>00675 
<a name="l00676"></a>00676    <span class="keywordflow">for</span> (mi=mb; mi!=me; mi++) {
<a name="l00677"></a>00677       *<a class="code" href="classAsymRoot.html#a14c6cee48826b841f4a95bf9b7453312">fChannelData</a> = mi-&gt;GetChannelData();
<a name="l00678"></a>00678       <a class="code" href="classAsymRoot.html#a4d1433a83898defe9b56ab3120f75cc4">fChannelEventTrees</a>[mi-&gt;GetChannelIndex()]-&gt;Fill();
<a name="l00679"></a>00679    }
<a name="l00680"></a>00680 }
<a name="l00681"></a>00681 
<a name="l00682"></a>00682 
<a name="l00684"></a><a class="code" href="classAsymRoot.html#ab1e82e73e794baa4e3137e8f9a7e251f">00684</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ab1e82e73e794baa4e3137e8f9a7e251f">AsymRoot::SaveEventTree</a>()
<a name="l00685"></a>00685 {
<a name="l00686"></a>00686    <span class="keywordflow">if</span> (!<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.test(2)) <span class="keywordflow">return</span>;
<a name="l00687"></a>00687 
<a name="l00688"></a>00688    <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.size() &lt;= 0) {
<a name="l00689"></a>00689       printf(<span class="stringliteral">&quot;No channels to save in EventTree\n&quot;</span>);
<a name="l00690"></a>00690       <span class="keywordflow">return</span>;
<a name="l00691"></a>00691    }
<a name="l00692"></a>00692 
<a name="l00693"></a>00693    ChannelEventSet::iterator mi;
<a name="l00694"></a>00694    ChannelEventSet::iterator mb = <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.begin();
<a name="l00695"></a>00695    ChannelEventSet::iterator me = <a class="code" href="classAsymRoot.html#ae222c12618b65d9df7ade41eb0a07113">fChannelEvents</a>.end();
<a name="l00696"></a>00696    ChannelEventSet::iterator nextmi;
<a name="l00697"></a>00697 
<a name="l00698"></a>00698    <span class="keywordflow">for</span> (mi=mb; mi!=me; mi++) {
<a name="l00699"></a>00699 
<a name="l00700"></a>00700       <a class="code" href="classAsymRoot.html#a87730b0b7569f118cf99e9479e9ecbc0">fAnaEvent</a>-&gt;<a class="code" href="classAnaEvent.html#a659e1c4ca1a90228484f1101f97dd816" title="Unique event number.">fEventId</a> = mi-&gt;GetEventId();
<a name="l00701"></a>00701       <a class="code" href="classAsymRoot.html#a87730b0b7569f118cf99e9479e9ecbc0">fAnaEvent</a>-&gt;<a class="code" href="classAnaEvent.html#a8cef8a5f9228251fa98790aef9beb997" title="An std::map container with data collected from all polarimeter channels.">fChannels</a>[mi-&gt;GetChannelIndex()] = mi-&gt;GetChannelData();
<a name="l00702"></a>00702 
<a name="l00703"></a>00703       <span class="comment">// Pointer to the next element, can be end of map</span>
<a name="l00704"></a>00704       nextmi = mi; nextmi++;
<a name="l00705"></a>00705 
<a name="l00706"></a>00706       <span class="keywordflow">if</span> (<a class="code" href="classAsymRoot.html#a87730b0b7569f118cf99e9479e9ecbc0">fAnaEvent</a>-&gt;<a class="code" href="classAnaEvent.html#a659e1c4ca1a90228484f1101f97dd816" title="Unique event number.">fEventId</a> &lt; nextmi-&gt;GetEventId() || nextmi == me) {
<a name="l00707"></a>00707 
<a name="l00708"></a>00708          <a class="code" href="classAsymRoot.html#a1162b0f02f43f274bd73af1ebc1ecfcc">fAnaEventTree</a>-&gt;Fill();
<a name="l00709"></a>00709          <a class="code" href="classAsymRoot.html#a87730b0b7569f118cf99e9479e9ecbc0">fAnaEvent</a>-&gt;<a class="code" href="classAnaEvent.html#a8cef8a5f9228251fa98790aef9beb997" title="An std::map container with data collected from all polarimeter channels.">fChannels</a>.clear();
<a name="l00710"></a>00710       }
<a name="l00711"></a>00711    }
<a name="l00712"></a>00712 }
<a name="l00713"></a>00713 
<a name="l00714"></a>00714 
<a name="l00718"></a><a class="code" href="classAsymRoot.html#a2a23e60d77743f3f6430eb69baa0d927">00718</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a2a23e60d77743f3f6430eb69baa0d927" title="(Deprecated) Book AsymRoot histograms.">AsymRoot::BookHists</a>()
<a name="l00719"></a>00719 {
<a name="l00720"></a>00720    Char_t hname[100], htitle[100];
<a name="l00721"></a>00721 
<a name="l00722"></a>00722    fOutRootFile-&gt;cd();
<a name="l00723"></a>00723 
<a name="l00724"></a>00724    <span class="comment">// FeedBack Directory</span>
<a name="l00725"></a>00725    <a class="code" href="AsymRoot_8cxx.html#afe50f16ebc9ce07f1a5aec8096545b9b">FeedBack</a>-&gt;cd();
<a name="l00726"></a>00726 
<a name="l00727"></a>00727    sprintf(hname, <span class="stringliteral">&quot;mass_feedback_all&quot;</span>);
<a name="l00728"></a>00728    sprintf(htitle, <span class="stringliteral">&quot;%.3f : Invariant Mass (feedback) for all strips&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00729"></a>00729    <a class="code" href="AsymRoot_8cxx.html#a7df3ff0f04566a18230249969110773d">mass_feedback_all</a> = <span class="keyword">new</span> TH1F(hname, htitle, 100, 0, 20);
<a name="l00730"></a>00730    <a class="code" href="AsymRoot_8cxx.html#a7df3ff0f04566a18230249969110773d">mass_feedback_all</a> -&gt; GetXaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Mass [GeV/c^2]&quot;</span>);
<a name="l00731"></a>00731    <a class="code" href="AsymRoot_8cxx.html#a7df3ff0f04566a18230249969110773d">mass_feedback_all</a> -&gt; SetLineColor(2);
<a name="l00732"></a>00732 
<a name="l00733"></a>00733    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="AsymHeader_8h.html#ad881511e312d7557e3831c4947dd7a26">TOT_WFD_CH</a>; i++) {
<a name="l00734"></a>00734 
<a name="l00735"></a>00735       sprintf(hname, <span class="stringliteral">&quot;mass_feedback_st%d&quot;</span>, i+1);
<a name="l00736"></a>00736       sprintf(htitle, <span class="stringliteral">&quot;%.3f : Invariant Mass (feedback) for Strip-%d &quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>, i+1);
<a name="l00737"></a>00737       <a class="code" href="AsymRoot_8cxx.html#aa7d0bb266fc0a16d5832b73d7b601f68">mass_feedback</a>[i] = <span class="keyword">new</span> TH1F(hname, htitle, 100, 0, 20);
<a name="l00738"></a>00738       <a class="code" href="AsymRoot_8cxx.html#aa7d0bb266fc0a16d5832b73d7b601f68">mass_feedback</a>[i] -&gt; GetXaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Mass [GeV/c^2]&quot;</span>);
<a name="l00739"></a>00739       <a class="code" href="AsymRoot_8cxx.html#aa7d0bb266fc0a16d5832b73d7b601f68">mass_feedback</a>[i] -&gt; SetLineColor(2);
<a name="l00740"></a>00740    }
<a name="l00741"></a>00741 
<a name="l00742"></a>00742    <a class="code" href="AsymRoot_8cxx.html#ab1907147f3579c2c49808c8a37b71294">Kinema</a>-&gt;cd();
<a name="l00743"></a>00743 
<a name="l00744"></a>00744    <span class="comment">// 1-dim Energy Spectrum</span>
<a name="l00745"></a>00745    <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#aa8177b75f1e230f09298b7de1c444b22">nxbin</a>=100; <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#ab343ad8effae0c3554a5f5700cfcb1e0">xmin</a>=0; <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#a1e8416c0e781b04ed5e1064a90a49652">xmax</a>=0.03;
<a name="l00746"></a>00746 
<a name="l00747"></a>00747    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="AsymHeader_8h.html#a4141e3782935f973100a9c0a9efd03b7">N_DETECTORS</a>; i++) {
<a name="l00748"></a>00748       sprintf(hname, <span class="stringliteral">&quot;energy_spectrum_det%d&quot;</span>, i+1);
<a name="l00749"></a>00749       sprintf(htitle,<span class="stringliteral">&quot;%.3f : Energy Spectrum Detector %d &quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>, i+1);
<a name="l00750"></a>00750       <a class="code" href="AsymRoot_8cxx.html#a987ef2480444d251cb3141e8cae0ba46">energy_spectrum</a>[i] = <span class="keyword">new</span> TH1F(hname,htitle, <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#aa8177b75f1e230f09298b7de1c444b22">nxbin</a>, <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#ab343ad8effae0c3554a5f5700cfcb1e0">xmin</a>, <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#a1e8416c0e781b04ed5e1064a90a49652">xmax</a>);
<a name="l00751"></a>00751       <a class="code" href="AsymRoot_8cxx.html#a987ef2480444d251cb3141e8cae0ba46">energy_spectrum</a>[i]-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Momentum Transfer [-GeV/c]^2&quot;</span>);
<a name="l00752"></a>00752    }
<a name="l00753"></a>00753 
<a name="l00754"></a>00754    sprintf(htitle,<span class="stringliteral">&quot;%.3f : Energy Spectrum (All Detectors)&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00755"></a>00755    <a class="code" href="AsymRoot_8cxx.html#a9fa693ad9666b95338d18e353e560fd5">energy_spectrum_all</a> = <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;energy_spectrum_all&quot;</span>, htitle, <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#aa8177b75f1e230f09298b7de1c444b22">nxbin</a>, <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#ab343ad8effae0c3554a5f5700cfcb1e0">xmin</a>, <a class="code" href="AsymCommon_8cxx.html#aa5d0c62ca0084ee370fdf87f9fcc9100">Eslope</a>.<a class="code" href="structStructHist.html#a1e8416c0e781b04ed5e1064a90a49652">xmax</a>);
<a name="l00756"></a>00756    <a class="code" href="AsymRoot_8cxx.html#a9fa693ad9666b95338d18e353e560fd5">energy_spectrum_all</a> -&gt; GetXaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Momentum Transfer [-GeV/c]^2&quot;</span>);
<a name="l00757"></a>00757 
<a name="l00758"></a>00758    sprintf(hname,<span class="stringliteral">&quot;mass_nocut_all&quot;</span>);
<a name="l00759"></a>00759    sprintf(htitle,<span class="stringliteral">&quot;%.3f : Invariant Mass (nocut) for all strips&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00760"></a>00760    <a class="code" href="AsymRoot_8cxx.html#a0ef62f63d8880b69a3cd1175bb9236c9">mass_nocut_all</a> = <span class="keyword">new</span> TH1F(hname, htitle, 100, 0, 20);
<a name="l00761"></a>00761    <a class="code" href="AsymRoot_8cxx.html#a0ef62f63d8880b69a3cd1175bb9236c9">mass_nocut_all</a>-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Mass [GeV/c^2]&quot;</span>);
<a name="l00762"></a>00762 
<a name="l00763"></a>00763    sprintf(hname,<span class="stringliteral">&quot;mass_yescut_all&quot;</span>);
<a name="l00764"></a>00764    sprintf(htitle,<span class="stringliteral">&quot;%.3f : Invariant Mass (w/cut) for all strips&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00765"></a>00765    <a class="code" href="AsymRoot_8cxx.html#aa001d7e6c868977bc440bdbf3180bc7a">mass_yescut_all</a> = <span class="keyword">new</span> TH1F(hname, htitle, 100, 0, 20);
<a name="l00766"></a>00766    <a class="code" href="AsymRoot_8cxx.html#aa001d7e6c868977bc440bdbf3180bc7a">mass_yescut_all</a>-&gt;GetXaxis()-&gt;SetTitle(<span class="stringliteral">&quot;Mass [GeV/c^2]&quot;</span>);
<a name="l00767"></a>00767    <a class="code" href="AsymRoot_8cxx.html#aa001d7e6c868977bc440bdbf3180bc7a">mass_yescut_all</a>-&gt;SetLineColor(2);
<a name="l00768"></a>00768 
<a name="l00769"></a>00769    <span class="comment">// Need to book for TOT_WFD_CH instead of NSTRIP to avoid seg. fault by filling histograms by</span>
<a name="l00770"></a>00770    <span class="comment">// target events strip [73 - 76].</span>
<a name="l00771"></a>00771    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;TOT_WFD_CH; i++) {
<a name="l00772"></a>00772 
<a name="l00773"></a>00773       sprintf(hname,<span class="stringliteral">&quot;t_vs_e_yescut_st%d&quot;</span>,i+1);
<a name="l00774"></a>00774       sprintf(htitle,<span class="stringliteral">&quot;%.3f : t vs. Kin.Energy (with cut) Strip-%d &quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>, i+1);
<a name="l00775"></a>00775       <a class="code" href="AsymRoot_8cxx.html#abd8dd3a66f5655b8add105de460b715d">t_vs_e_yescut</a>[i] = <span class="keyword">new</span> TH2F(hname,htitle, 50, 200, 1500, 100, 20, 90);
<a name="l00776"></a>00776       <a class="code" href="AsymRoot_8cxx.html#abd8dd3a66f5655b8add105de460b715d">t_vs_e_yescut</a>[i] -&gt; GetXaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Kinetic Energy [keV]&quot;</span>);
<a name="l00777"></a>00777       <a class="code" href="AsymRoot_8cxx.html#abd8dd3a66f5655b8add105de460b715d">t_vs_e_yescut</a>[i] -&gt; GetYaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Time of Flight [ns]&quot;</span>);
<a name="l00778"></a>00778 
<a name="l00779"></a>00779       sprintf(hname,<span class="stringliteral">&quot;mass_vs_e_ecut_st%d&quot;</span>,i+1);
<a name="l00780"></a>00780       sprintf(htitle,<span class="stringliteral">&quot;%.3f : Mass vs. Kin.Energy (Energy Cut) Strip-%d &quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>, i+1);
<a name="l00781"></a>00781       <a class="code" href="AsymRoot_8cxx.html#a87fc827453b15b2535b4426c63e51545">mass_vs_e_ecut</a>[i] = <span class="keyword">new</span> TH2F(hname,htitle, 50, 200, 1000, 200, 6, 18);
<a name="l00782"></a>00782       <a class="code" href="AsymRoot_8cxx.html#a87fc827453b15b2535b4426c63e51545">mass_vs_e_ecut</a>[i] -&gt; GetXaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Kinetic Energy [keV]&quot;</span>);
<a name="l00783"></a>00783       <a class="code" href="AsymRoot_8cxx.html#a87fc827453b15b2535b4426c63e51545">mass_vs_e_ecut</a>[i] -&gt; GetYaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Invariant Mass [GeV]&quot;</span>);
<a name="l00784"></a>00784 
<a name="l00785"></a>00785       sprintf(hname, <span class="stringliteral">&quot;mass_nocut_st%d&quot;</span>,i+1);
<a name="l00786"></a>00786       sprintf(htitle,<span class="stringliteral">&quot;%.3f : Invariant Mass (nocut) for Strip-%d &quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>, i+1);
<a name="l00787"></a>00787       <a class="code" href="AsymRoot_8cxx.html#ae78f05137a6e7f1ea9dcaab94e4e398c">mass_nocut</a>[i] = <span class="keyword">new</span> TH1F(hname, htitle, 100, 0, 20);
<a name="l00788"></a>00788       <a class="code" href="AsymRoot_8cxx.html#ae78f05137a6e7f1ea9dcaab94e4e398c">mass_nocut</a>[i] -&gt; GetXaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Mass [GeV/c^2]&quot;</span>);
<a name="l00789"></a>00789 
<a name="l00790"></a>00790       sprintf(hname, <span class="stringliteral">&quot;mass_yescut_st%d&quot;</span>,i+1);
<a name="l00791"></a>00791       sprintf(htitle,<span class="stringliteral">&quot;%.3f : Invariant Mass (w/cut) for Strip-%d &quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>, i+1);
<a name="l00792"></a>00792       <a class="code" href="AsymRoot_8cxx.html#ac42e3c4f6175b698639eb9331aea6b6b">mass_yescut</a>[i] = <span class="keyword">new</span> TH1F(hname, htitle, 100, 0, 20);
<a name="l00793"></a>00793       <a class="code" href="AsymRoot_8cxx.html#ac42e3c4f6175b698639eb9331aea6b6b">mass_yescut</a>[i] -&gt; GetXaxis() -&gt; SetTitle(<span class="stringliteral">&quot;Mass [GeV/c^2]&quot;</span>);
<a name="l00794"></a>00794       <a class="code" href="AsymRoot_8cxx.html#ac42e3c4f6175b698639eb9331aea6b6b">mass_yescut</a>[i] -&gt; SetLineColor(2);
<a name="l00795"></a>00795    }
<a name="l00796"></a>00796 
<a name="l00797"></a>00797    <span class="comment">// Error detectors</span>
<a name="l00798"></a>00798    <a class="code" href="AsymRoot_8cxx.html#a521efbcc89cfbf058a6f053a64b14244">ErrDet</a>-&gt;cd();
<a name="l00799"></a>00799    sprintf(htitle,<span class="stringliteral">&quot;%.3f : Bunch Asymmetry X90&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00800"></a>00800    <a class="code" href="AsymRoot_8cxx.html#a23faf951e7eb0b721d62fcdb112f8ccd">asym_bunch_x90</a> = <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;asym_bunch_x90&quot;</span>, htitle, 100, -0.1, 0.1);
<a name="l00801"></a>00801 
<a name="l00802"></a>00802    sprintf(htitle,<span class="stringliteral">&quot;%.3f : Bunch Asymmetry X45&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00803"></a>00803    <a class="code" href="AsymRoot_8cxx.html#a0c4cc5d5e4cf98a18ebea0afc8aedcce">asym_bunch_x45</a> = <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;asym_bunch_x45&quot;</span>, htitle, 100, -0.1, 0.1);
<a name="l00804"></a>00804 
<a name="l00805"></a>00805    sprintf(htitle,<span class="stringliteral">&quot;%.3f : Bunch Asymmetry Y45&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00806"></a>00806    <a class="code" href="AsymRoot_8cxx.html#afd3a3d654f58bd0d925b8b226c3e0c3a">asym_bunch_y45</a> = <span class="keyword">new</span> TH1F(<span class="stringliteral">&quot;asym_bunch_y45&quot;</span>, htitle, 100, -0.1, 0.1);
<a name="l00807"></a>00807 
<a name="l00808"></a>00808    sprintf(htitle,<span class="stringliteral">&quot;%.3f : # of Events in Banana Cut per strip&quot;</span>, <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a94c293ac6ed17f3a2c76fd30088c1ab6">RUNID</a>);
<a name="l00809"></a>00809    <a class="code" href="AsymRoot_8cxx.html#aae74faa41d16abfffd7963d1c1a46e6b">good_carbon_events_strip</a> = <span class="keyword">new</span> TH1I(<span class="stringliteral">&quot;good_carbon_events_strip&quot;</span>, htitle, <a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>, 0.5, <a class="code" href="AsymHeader_8h.html#ae9fa17313b48e29ce4515451cc7c6e9e">NSTRIP</a>+0.5);
<a name="l00810"></a>00810    <a class="code" href="AsymRoot_8cxx.html#aae74faa41d16abfffd7963d1c1a46e6b">good_carbon_events_strip</a>-&gt;SetFillColor(17);
<a name="l00811"></a>00811 }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813 
<a name="l00814"></a>00814 <span class="comment">// Description : Write out objects in memory and dump in fOutRootFile before closing it</span>
<a name="l00815"></a><a class="code" href="classAsymRoot.html#ad33e23971163763edd2f042422c39f59">00815</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ad33e23971163763edd2f042422c39f59">AsymRoot::Finalize</a>()
<a name="l00816"></a>00816 {
<a name="l00817"></a>00817    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#a5669e588bf5360927953d5ba354fa997">Write</a>(); <span class="comment">// this is NOT equivalent to fOutRootFile-&gt;Write();</span>
<a name="l00818"></a>00818 
<a name="l00819"></a>00819    fOutRootFile-&gt;cd();
<a name="l00820"></a>00820    <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;Write(<span class="stringliteral">&quot;measConfig&quot;</span>);
<a name="l00821"></a>00821 
<a name="l00822"></a>00822    <span class="comment">// close fOutRootFile</span>
<a name="l00823"></a>00823    fOutRootFile-&gt;Close();
<a name="l00824"></a>00824 
<a name="l00825"></a>00825    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.any()) {
<a name="l00826"></a>00826       <a class="code" href="classAsymRoot.html#a439fbadc8be651df4f9800823be4557f">SaveChannelTrees</a>();
<a name="l00827"></a>00827       <a class="code" href="classAsymRoot.html#ab1e82e73e794baa4e3137e8f9a7e251f">SaveEventTree</a>();
<a name="l00828"></a>00828       <a class="code" href="classAsymRoot.html#a21ea7f0b771aa6db1ab67fae05ba1f83">WriteTreeFile</a>();
<a name="l00829"></a>00829       <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>-&gt;Close();
<a name="l00830"></a>00830       <a class="code" href="classAsymRoot.html#ab972f30ae72f534716422d7cd984567f">fOutTreeFile</a>-&gt;Delete();
<a name="l00831"></a>00831    }
<a name="l00832"></a>00832 }
<a name="l00833"></a>00833 
<a name="l00834"></a>00834 
<a name="l00836"></a>00836 <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#ad197efbf32bd30b25d9703d65d924f84">AsymRoot::SaveAs</a>(<span class="keywordtype">string</span> pattern, <span class="keywordtype">string</span> dir)
<a name="l00837"></a>00837 {
<a name="l00838"></a>00838    <span class="keywordflow">if</span> (!<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) {
<a name="l00839"></a>00839       gStyle-&gt;SetMarkerStyle(kFullDotLarge);
<a name="l00840"></a>00840       gStyle-&gt;SetMarkerSize(1);
<a name="l00841"></a>00841       gStyle-&gt;SetMarkerColor(kRed);
<a name="l00842"></a>00842    }
<a name="l00843"></a>00843 
<a name="l00844"></a>00844    TCanvas canvas(<span class="stringliteral">&quot;canvas&quot;</span>, <span class="stringliteral">&quot;canvas&quot;</span>, 1200, 600);
<a name="l00845"></a>00845    canvas.UseCurrentStyle();
<a name="l00846"></a>00846 
<a name="l00847"></a>00847    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#a3691e36834dc4244d82c191025632e14">SetSignature</a>(<a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a8c4896d483d2dabe5c321e0262480ec7">GetSignature</a>());
<a name="l00848"></a>00848 
<a name="l00849"></a>00849    <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ad7436c692997a6232e6f6f7453313c20">SaveAllAs</a>(<a class="code" href="classDrawObjContainer.html#a5748f6732ec6eff4e4d4b408d7b70e77">DrawObjContainer::FORMAT_PNG</a>, canvas, pattern, dir.c_str());
<a name="l00850"></a>00850 
<a name="l00851"></a>00851    <span class="keywordflow">if</span> (<a class="code" href="AsymCommon_8cxx.html#add629a4c1a1b85b8c7b6ab8aa305922e">gAsymAnaInfo</a>-&gt;<a class="code" href="classAnaInfo.html#a4198b2f4f3ce4094a37d84e94d893ee1">fFlagCreateThumbs</a>) {
<a name="l00852"></a>00852       TCanvas canvas(<span class="stringliteral">&quot;canvas&quot;</span>, <span class="stringliteral">&quot;canvas&quot;</span>, 200, 100);
<a name="l00853"></a>00853       <a class="code" href="classAsymRoot.html#a30e2a1071c81fc207e74743e27d4f771">fHists</a>-&gt;<a class="code" href="classDrawObjContainer.html#ad7436c692997a6232e6f6f7453313c20">SaveAllAs</a>(<a class="code" href="classDrawObjContainer.html#a5748f6732ec6eff4e4d4b408d7b70e77">DrawObjContainer::FORMAT_PNG</a>, canvas, pattern, dir.c_str(), kTRUE);
<a name="l00854"></a>00854    }
<a name="l00855"></a>00855 }
<a name="l00856"></a>00856 
<a name="l00857"></a>00857 
<a name="l00859"></a><a class="code" href="classAsymRoot.html#a75ff829120a035d45bf89017c8e01cc2">00859</a> <span class="keyword">const</span> <a class="code" href="classEventConfig.html">EventConfig</a>* <a class="code" href="classAsymRoot.html#a75ff829120a035d45bf89017c8e01cc2">AsymRoot::GetMeasConfig</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>; }
<a name="l00860"></a>00860 
<a name="l00861"></a>00861 
<a name="l00863"></a><a class="code" href="classAsymRoot.html#a20e21ed28232148dbc92556e0115249e">00863</a> <span class="keywordtype">void</span> <a class="code" href="classAsymRoot.html#a20e21ed28232148dbc92556e0115249e">AsymRoot::GetMeasConfigs</a>(<a class="code" href="classMeasInfo.html">MeasInfo</a> *&amp;ri, <a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a> *&amp;ai, <a class="code" href="classAnaMeasResult.html">AnaMeasResult</a> *&amp;ar)
<a name="l00864"></a>00864 {
<a name="l00865"></a>00865    <span class="keywordflow">if</span> ( !<a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a> ) {
<a name="l00866"></a>00866       Error(<span class="stringliteral">&quot;GetMeasConfigs&quot;</span>, <span class="stringliteral">&quot;fEventConfig is not defined&quot;</span>);
<a name="l00867"></a>00867       ri = 0; ai = 0; ar = 0;
<a name="l00868"></a>00868       <span class="keywordflow">return</span>;
<a name="l00869"></a>00869    }
<a name="l00870"></a>00870 
<a name="l00871"></a>00871    ri = <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#afb23ed49915a90b5a8924e9843333a95">GetMeasInfo</a>();
<a name="l00872"></a>00872    ai = <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#a234f624192cf23a1ada3eccdd25d2fa8">GetAnaInfo</a>();
<a name="l00873"></a>00873    ar = <a class="code" href="classAsymRoot.html#a05c2e79721d1aa71bdd9c6bfbcb9b868">fEventConfig</a>-&gt;<a class="code" href="classEventConfig.html#aec9fff263c2d1de2b7dfed31746d7e89">GetAnaMeasResult</a>();
<a name="l00874"></a>00874 }
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 3 Dec 2014 for cnipol by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
