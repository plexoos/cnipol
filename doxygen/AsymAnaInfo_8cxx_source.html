<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cnipol: /direct/eic+u/dsmirnov/cnipol/src/AsymAnaInfo.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_e1dca166ec6abb4ef5a7ad269392aef6.html">src</a>
  </div>
</div>
<div class="contents">
<h1>AsymAnaInfo.cxx</h1><a href="AsymAnaInfo_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &lt;getopt.h&gt;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#include &quot;<a class="code" href="AsymAnaInfo_8h.html">AsymAnaInfo.h</a>&quot;</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;TString.h&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;TSystem.h&quot;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="AsymGlobals_8h.html">AsymGlobals.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="DbEntry_8h.html">DbEntry.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="MseMeasInfo_8h.html">MseMeasInfo.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="MeasInfo_8h.html">MeasInfo.h</a>&quot;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <a class="code" href="AlphaCalibrator_8cxx.html#a2e4eff40c749ecbebe6e9a0ec9ed6c8d">ClassImp</a>(<a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a>)
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 using namespace std;
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 
<a name="l00019"></a><a class="code" href="classAsymAnaInfo.html#aeecb9d1b31f7e25d0c9806279f6976fc">00019</a> <a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a>::<a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a>() : <a class="code" href="classAnaInfo.html">AnaInfo</a>(),
<a name="l00020"></a>00020    fRunName          (&quot;&quot;),
<a name="l00021"></a>00021    fAsymModes        (MODE_NORMAL|MODE_PROFILE|MODE_TARGET|MODE_RAW_EXTENDED|MODE_ASYM|MODE_PMT|MODE_KINEMA),
<a name="l00022"></a>00022    fSaveTrees        (0),
<a name="l00023"></a>00023    fDisabledDetectors(0),
<a name="l00024"></a>00024    MassSigma         (3),
<a name="l00025"></a>00025    MassSigmaAlt      (2),
<a name="l00026"></a>00026    OneSigma          (<a class="code" href="AsymHeader_8h.html#a1f616a5bef1227ef3ff7f32fde578dc5">CARBON_MASS_PEAK_SIGMA</a>),
<a name="l00027"></a>00027    tshift            (0),
<a name="l00028"></a>00028    fThinout          (1),
<a name="l00029"></a>00029    fMaxEventsUser    (0),
<a name="l00030"></a>00030    reference_rate    (1),
<a name="l00031"></a>00031    target_count_mm   (1),   <span class="comment">// Need to get the real value</span>
<a name="l00032"></a>00032    fAlphaCalibRun(&quot;&quot;),
<a name="l00033"></a>00033    fFileRunConf(0),
<a name="l00034"></a>00034    fAcDipolePeriod(0)
<a name="l00035"></a>00035 {
<a name="l00036"></a>00036    Init();
<a name="l00037"></a>00037 }
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 
<a name="l00041"></a><a class="code" href="classAsymAnaInfo.html#a1686b85cf877a1cdf7e15089ba644543">00041</a> <a class="code" href="classAsymAnaInfo.html#a1686b85cf877a1cdf7e15089ba644543">AsymAnaInfo::~AsymAnaInfo</a>()
<a name="l00042"></a>00042 {
<a name="l00043"></a>00043    <span class="keywordflow">if</span> (<a class="code" href="classAsymAnaInfo.html#a3143fcdc97cd59171d07e95e5ccf2de8">fFileRunConf</a>) fclose(<a class="code" href="classAsymAnaInfo.html#a3143fcdc97cd59171d07e95e5ccf2de8">fFileRunConf</a>);
<a name="l00044"></a>00044 }
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="classAsymAnaInfo.html#ab47fcb656be00bc406d750a9ad1daaf0">00047</a> <span class="keywordtype">void</span>   <a class="code" href="classAsymAnaInfo.html#ab47fcb656be00bc406d750a9ad1daaf0">AsymAnaInfo::SetRunName</a>(std::string runName) { <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a> = runName; }
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="classAsymAnaInfo.html#a0ce246186d36de6e759704f7f018618c">00049</a> <span class="keywordtype">string</span> <a class="code" href="classAsymAnaInfo.html#a0ce246186d36de6e759704f7f018618c">AsymAnaInfo::GetRunName</a>()<span class="keyword">          const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>; }
<a name="l00050"></a><a class="code" href="classAsymAnaInfo.html#a50d908110ab87ce3f8a9b520fe586596">00050</a> <span class="keywordtype">string</span> <a class="code" href="classAsymAnaInfo.html#a50d908110ab87ce3f8a9b520fe586596">AsymAnaInfo::GetRawDataFileName</a>()<span class="keyword">  const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAnaInfo.html#a8bdd414a220f4adecb5173a1dd873561">fAsymEnv</a>.find(<span class="stringliteral">&quot;CNIPOL_DATA_DIR&quot;</span>)-&gt;second + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a> + <span class="stringliteral">&quot;.data&quot;</span>; }
<a name="l00051"></a><a class="code" href="classAsymAnaInfo.html#a195d2924812079f880ba17fa87e721e8">00051</a> <span class="keywordtype">string</span> <a class="code" href="classAsymAnaInfo.html#a195d2924812079f880ba17fa87e721e8">AsymAnaInfo::GetAnaInfoFileName</a>()<span class="keyword">  const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAnaInfo.html#aa8bc20e6a1fa871c1cdcf545dac61c12">GetOutDir</a>() + <span class="stringliteral">&quot;/runconfig&quot;</span> + <a class="code" href="classAnaInfo.html#a16f9cc05b44332a215ddd8c23a3fe7cf">GetSuffix</a>() + <span class="stringliteral">&quot;.php&quot;</span>; }
<a name="l00052"></a><a class="code" href="classAsymAnaInfo.html#a142c62051328d59a082beac68fb7173b">00052</a> <span class="keywordtype">string</span> <a class="code" href="classAsymAnaInfo.html#a142c62051328d59a082beac68fb7173b">AsymAnaInfo::GetRunConfFileName</a>()<span class="keyword">  const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAnaInfo.html#aa8bc20e6a1fa871c1cdcf545dac61c12">GetOutDir</a>() + <span class="stringliteral">&quot;/config_calib&quot;</span> + <a class="code" href="classAnaInfo.html#a16f9cc05b44332a215ddd8c23a3fe7cf">GetSuffix</a>() + <span class="stringliteral">&quot;.dat&quot;</span>; }
<a name="l00053"></a><a class="code" href="classAsymAnaInfo.html#a67e8b8ca4b7d60a62dd3761ac98732f5">00053</a> FILE*  <a class="code" href="classAsymAnaInfo.html#a67e8b8ca4b7d60a62dd3761ac98732f5">AsymAnaInfo::GetRunConfFile</a>()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAsymAnaInfo.html#a3143fcdc97cd59171d07e95e5ccf2de8">fFileRunConf</a>; }
<a name="l00054"></a>00054 
<a name="l00055"></a><a class="code" href="classAsymAnaInfo.html#a6b7dccbb6c3ea45dfdb80b916f18bb4f">00055</a> <span class="keywordtype">string</span> <a class="code" href="classAsymAnaInfo.html#a6b7dccbb6c3ea45dfdb80b916f18bb4f">AsymAnaInfo::GetAlphaCalibRun</a>()<span class="keyword">    const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a> + <a class="code" href="classAnaInfo.html#a16f9cc05b44332a215ddd8c23a3fe7cf">GetSuffix</a>(); }
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">00057</a> Bool_t <a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">AsymAnaInfo::HasAlphaBit</a>()<span class="keyword">       const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a93f85eb8be6829d06a330e042fb092bc">AsymAnaInfo::MODE_ALPHA</a>)        == AsymAnaInfo::MODE_ALPHA; }
<a name="l00058"></a><a class="code" href="classAsymAnaInfo.html#a913d1d1e1f03608a77aeff566366426e">00058</a> Bool_t <a class="code" href="classAsymAnaInfo.html#a913d1d1e1f03608a77aeff566366426e">AsymAnaInfo::HasNormalBit</a>()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0d580a1ae405a2bd3159d5aa5d84ecdf">AsymAnaInfo::MODE_NORMAL</a>)       == AsymAnaInfo::MODE_NORMAL; }
<a name="l00059"></a><a class="code" href="classAsymAnaInfo.html#aeaeafd3d418c6b1adb38f1ee8fcadeb8">00059</a> Bool_t <a class="code" href="classAsymAnaInfo.html#aeaeafd3d418c6b1adb38f1ee8fcadeb8">AsymAnaInfo::HasScalerBit</a>()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a794c8750dab630a5d3851d1af250549e">AsymAnaInfo::MODE_SCALER</a>)       == AsymAnaInfo::MODE_SCALER; }
<a name="l00060"></a><a class="code" href="classAsymAnaInfo.html#aa8d60f72931049286c4acdadf10660ed">00060</a> Bool_t <a class="code" href="classAsymAnaInfo.html#aa8d60f72931049286c4acdadf10660ed">AsymAnaInfo::HasRawBit</a>()<span class="keyword">         const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae567aa955c846d06586e9fc4dd02f059">AsymAnaInfo::MODE_RAW</a>)          == AsymAnaInfo::MODE_RAW; }
<a name="l00061"></a><a class="code" href="classAsymAnaInfo.html#a90df3f3b31e80ad8a21cc27911257029">00061</a> Bool_t <a class="code" href="classAsymAnaInfo.html#a90df3f3b31e80ad8a21cc27911257029">AsymAnaInfo::HasRawExtendedBit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a312bb007c1c91d282a9a3971c4bc8c2e">AsymAnaInfo::MODE_RAW_EXTENDED</a>) == AsymAnaInfo::MODE_RAW_EXTENDED; }
<a name="l00062"></a><a class="code" href="classAsymAnaInfo.html#a7c7b60db867a02cd1613cf26e0736640">00062</a> Bool_t <a class="code" href="classAsymAnaInfo.html#a7c7b60db867a02cd1613cf26e0736640">AsymAnaInfo::HasRunBit</a>()<span class="keyword">         const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3acd63798522c1045b7c90667f6ca1162a">AsymAnaInfo::MODE_RUN</a>)          == AsymAnaInfo::MODE_RUN; }
<a name="l00063"></a><a class="code" href="classAsymAnaInfo.html#aad68a1018b9590d3cf820b3388cd9c19">00063</a> Bool_t <a class="code" href="classAsymAnaInfo.html#aad68a1018b9590d3cf820b3388cd9c19">AsymAnaInfo::HasTargetBit</a>()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a41a3f4fe1a478af8a25d0a31d39281e6">AsymAnaInfo::MODE_TARGET</a>)       == AsymAnaInfo::MODE_TARGET; }
<a name="l00064"></a><a class="code" href="classAsymAnaInfo.html#a9384836819fed53dee90b8ccab40c6ad">00064</a> Bool_t <a class="code" href="classAsymAnaInfo.html#a9384836819fed53dee90b8ccab40c6ad">AsymAnaInfo::HasProfileBit</a>()<span class="keyword">     const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a91aa4f6ba5597732835da6ec77646801">AsymAnaInfo::MODE_PROFILE</a>)      == AsymAnaInfo::MODE_PROFILE; }
<a name="l00065"></a><a class="code" href="classAsymAnaInfo.html#aceb21c5815e41b69d4e76bc565341d76">00065</a> Bool_t <a class="code" href="classAsymAnaInfo.html#aceb21c5815e41b69d4e76bc565341d76">AsymAnaInfo::HasAsymBit</a>()<span class="keyword">        const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0069d490905a057bb0d802e99c52110d">AsymAnaInfo::MODE_ASYM</a>)         == AsymAnaInfo::MODE_ASYM; }
<a name="l00066"></a><a class="code" href="classAsymAnaInfo.html#a8c5b9f2dabad13ab2beffb014e961945">00066</a> Bool_t <a class="code" href="classAsymAnaInfo.html#a8c5b9f2dabad13ab2beffb014e961945">AsymAnaInfo::HasKinematBit</a>()<span class="keyword">     const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3af7907e7493220783e7b18e9e9027737e">AsymAnaInfo::MODE_KINEMA</a>)       == AsymAnaInfo::MODE_KINEMA; }
<a name="l00067"></a><a class="code" href="classAsymAnaInfo.html#a4ad3ea8e383e4ce4a2d49d2d1b424ec6">00067</a> Bool_t <a class="code" href="classAsymAnaInfo.html#a4ad3ea8e383e4ce4a2d49d2d1b424ec6">AsymAnaInfo::HasPmtBit</a>()<span class="keyword">         const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a9df1ea0fc0dee311646ab778b344a78e">AsymAnaInfo::MODE_PMT</a>)          == AsymAnaInfo::MODE_PMT; }
<a name="l00068"></a><a class="code" href="classAsymAnaInfo.html#abe9541dc494374023e954bb14a5cf292">00068</a> Bool_t <a class="code" href="classAsymAnaInfo.html#abe9541dc494374023e954bb14a5cf292">AsymAnaInfo::HasPulserBit</a>()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae2bb0e39c449128a0f6f6ab7cb42b612">AsymAnaInfo::MODE_PULSER</a>)       == AsymAnaInfo::MODE_PULSER; }
<a name="l00069"></a><a class="code" href="classAsymAnaInfo.html#ada1a7a4fea531b19a0986376e7c81c24">00069</a> Bool_t <a class="code" href="classAsymAnaInfo.html#ada1a7a4fea531b19a0986376e7c81c24">AsymAnaInfo::HasStudiesBit</a>()<span class="keyword">     const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp; <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a2ff6ec5f1bb41daafd60269df3e9f3e7">AsymAnaInfo::MODE_STUDIES</a>)      == AsymAnaInfo::MODE_STUDIES; }
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00073"></a><a class="code" href="classAsymAnaInfo.html#a7fde3f21f56ee21669f2f32c0248ef06">00073</a> <span class="keywordtype">string</span> <a class="code" href="classAsymAnaInfo.html#a7fde3f21f56ee21669f2f32c0248ef06">AsymAnaInfo::GetAlphaCalibFile</a>()<span class="keyword"> const</span>
<a name="l00074"></a>00074 <span class="keyword"></span>{
<a name="l00075"></a>00075    <span class="keywordflow">if</span> (<a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a>.empty()) {
<a name="l00076"></a>00076       cout &lt;&lt; <span class="stringliteral">&quot;Alpha calibration run not defined&quot;</span> &lt;&lt; endl;
<a name="l00077"></a>00077       <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00078"></a>00078    }
<a name="l00079"></a>00079 
<a name="l00080"></a>00080    <span class="keywordtype">string</span> path = <a class="code" href="classAnaInfo.html#a8bdd414a220f4adecb5173a1dd873561">fAsymEnv</a>.find(<span class="stringliteral">&quot;CNIPOL_RESULTS_DIR&quot;</span>)-&gt;second;
<a name="l00081"></a>00081    path += <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a> + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="classAsymAnaInfo.html#a6b7dccbb6c3ea45dfdb80b916f18bb4f">GetAlphaCalibRun</a>() + <span class="stringliteral">&quot;.root&quot;</span>;
<a name="l00082"></a>00082    <span class="keywordflow">return</span> path;
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 
<a name="l00087"></a><a class="code" href="classAsymAnaInfo.html#a49a106496cf130d3b3608b438e497e1c">00087</a> <span class="keywordtype">string</span> <a class="code" href="classAsymAnaInfo.html#a49a106496cf130d3b3608b438e497e1c">AsymAnaInfo::GetRootTreeFileName</a>(UShort_t trid)<span class="keyword"> const</span>
<a name="l00088"></a>00088 <span class="keyword"></span>{
<a name="l00089"></a>00089    <span class="keywordtype">string</span> filename;
<a name="l00090"></a>00090    filename.reserve(<a class="code" href="classAnaInfo.html#aa8bc20e6a1fa871c1cdcf545dac61c12">GetOutDir</a>().size() + <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>.size() + 20);
<a name="l00091"></a>00091    sprintf(&amp;filename[0], <span class="stringliteral">&quot;%s/%s%s_tree_%02d.root&quot;</span>, <a class="code" href="classAnaInfo.html#aa8bc20e6a1fa871c1cdcf545dac61c12">GetOutDir</a>().c_str(), <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>.c_str(), <a class="code" href="classAnaInfo.html#a16f9cc05b44332a215ddd8c23a3fe7cf">GetSuffix</a>().c_str(), trid);
<a name="l00092"></a>00092    <span class="keywordflow">return</span> filename;
<a name="l00093"></a>00093 }
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 
<a name="l00097"></a><a class="code" href="classAsymAnaInfo.html#aba65e12e8af11150a38d229e764e1820">00097</a> <span class="keywordtype">void</span> <a class="code" href="classAsymAnaInfo.html#aba65e12e8af11150a38d229e764e1820">AsymAnaInfo::ProcessOptions</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
<a name="l00098"></a>00098 {
<a name="l00099"></a>00099    <span class="keywordtype">int</span>          option_index = 0;
<a name="l00100"></a>00100    <span class="keywordtype">char</span>         cfile[32];
<a name="l00101"></a>00101 
<a name="l00102"></a>00102    <span class="keyword">static</span> <span class="keyword">struct </span>option long_options[] = {
<a name="l00103"></a>00103       {<span class="stringliteral">&quot;log&quot;</span>,                 optional_argument,   0,   <span class="charliteral">&apos;l&apos;</span>},
<a name="l00104"></a>00104       {<span class="stringliteral">&quot;sfx&quot;</span>,                 required_argument,   0,   <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917ae0caa32d2e4da2b15e9db44e7dfbc54e">AnaInfo::OPTION_SUFFIX</a>},
<a name="l00105"></a>00105       {<span class="stringliteral">&quot;graph&quot;</span>,               no_argument,         0,   <a class="code" href="classAnaInfo.html#af90d7a71b79adc665fa133d47f7332f5a498daa807f16f2d593784c04eaa7f125">AnaInfo::MODE_GRAPH</a>},
<a name="l00106"></a>00106 
<a name="l00107"></a>00107       {<span class="stringliteral">&quot;copy&quot;</span>,                no_argument,         0,   <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3ae9e777d80e91748caa9d5d1f93772f43">AnaInfo::FLAG_COPY</a>},
<a name="l00108"></a>00108       {<span class="stringliteral">&quot;copy-results&quot;</span>,        no_argument,         0,   <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3ae9e777d80e91748caa9d5d1f93772f43">AnaInfo::FLAG_COPY</a>},
<a name="l00109"></a>00109       {<span class="stringliteral">&quot;update-db&quot;</span>,           no_argument,         0,   <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3af5bd3b68de7563dad0cdfd4acd7d2415">AnaInfo::FLAG_UPDATE_DB</a>},
<a name="l00110"></a>00110       {<span class="stringliteral">&quot;no-update-db&quot;</span>,        no_argument,         0,   <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3a5b2caa71bbec37205fb3bc9a47a065ee">AnaInfo::FLAG_NO_UPDATE_DB</a>},
<a name="l00111"></a>00111       {<span class="stringliteral">&quot;use-db&quot;</span>,              no_argument,         0,   <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3a8eb46482cadf0d604d01ff9899cf1061">AnaInfo::FLAG_USE_DB</a>},
<a name="l00112"></a>00112       {<span class="stringliteral">&quot;thumb&quot;</span>,               no_argument,         0,   <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3a4ad14c16b7116693e73352d88cc7d10e">AnaInfo::FLAG_CREATE_THUMBS</a>},
<a name="l00113"></a>00113 
<a name="l00114"></a>00114       {<span class="stringliteral">&quot;run-name&quot;</span>,            required_argument,   0,   <span class="charliteral">&apos;r&apos;</span>},
<a name="l00115"></a>00115       {<span class="stringliteral">&quot;pol-id&quot;</span>,              required_argument,   0,   <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917a9e8378237e9638bc6a18a141a821e015">AsymAnaInfo::OPTION_POL_ID</a>},
<a name="l00116"></a>00116       {<span class="stringliteral">&quot;alpha&quot;</span>,               no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a93f85eb8be6829d06a330e042fb092bc">AsymAnaInfo::MODE_ALPHA</a>},
<a name="l00117"></a>00117       {<span class="stringliteral">&quot;scaler&quot;</span>,              no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a794c8750dab630a5d3851d1af250549e">AsymAnaInfo::MODE_SCALER</a>},
<a name="l00118"></a>00118       {<span class="stringliteral">&quot;raw&quot;</span>,                 no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae567aa955c846d06586e9fc4dd02f059">AsymAnaInfo::MODE_RAW</a>},
<a name="l00119"></a>00119       {<span class="stringliteral">&quot;raw-ext&quot;</span>,             no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a312bb007c1c91d282a9a3971c4bc8c2e">AsymAnaInfo::MODE_RAW_EXTENDED</a>},
<a name="l00120"></a>00120       {<span class="stringliteral">&quot;target&quot;</span>,              no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a41a3f4fe1a478af8a25d0a31d39281e6">AsymAnaInfo::MODE_TARGET</a>},
<a name="l00121"></a>00121       {<span class="stringliteral">&quot;profile&quot;</span>,             no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a91aa4f6ba5597732835da6ec77646801">AsymAnaInfo::MODE_PROFILE</a>},
<a name="l00122"></a>00122       {<span class="stringliteral">&quot;asym&quot;</span>,                no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0069d490905a057bb0d802e99c52110d">AsymAnaInfo::MODE_ASYM</a>},
<a name="l00123"></a>00123       {<span class="stringliteral">&quot;kinema&quot;</span>,              no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3af7907e7493220783e7b18e9e9027737e">AsymAnaInfo::MODE_KINEMA</a>},
<a name="l00124"></a>00124       {<span class="stringliteral">&quot;pmt&quot;</span>,                 no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a9df1ea0fc0dee311646ab778b344a78e">AsymAnaInfo::MODE_PMT</a>},
<a name="l00125"></a>00125       {<span class="stringliteral">&quot;pulser&quot;</span>,              no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae2bb0e39c449128a0f6f6ab7cb42b612">AsymAnaInfo::MODE_PULSER</a>},
<a name="l00126"></a>00126       {<span class="stringliteral">&quot;studies&quot;</span>,             no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a2ff6ec5f1bb41daafd60269df3e9f3e7">AsymAnaInfo::MODE_STUDIES</a>},
<a name="l00127"></a>00127       {<span class="stringliteral">&quot;mode-alpha&quot;</span>,          no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a93f85eb8be6829d06a330e042fb092bc">AsymAnaInfo::MODE_ALPHA</a>},
<a name="l00128"></a>00128       {<span class="stringliteral">&quot;mode-normal&quot;</span>,         no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0d580a1ae405a2bd3159d5aa5d84ecdf">AsymAnaInfo::MODE_NORMAL</a>},
<a name="l00129"></a>00129       {<span class="stringliteral">&quot;mode-no-normal&quot;</span>,      no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3aa64c73319c5b727af7644edaf5e214d5">AsymAnaInfo::MODE_NO_NORMAL</a>},
<a name="l00130"></a>00130       {<span class="stringliteral">&quot;mode-scaler&quot;</span>,         no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a794c8750dab630a5d3851d1af250549e">AsymAnaInfo::MODE_SCALER</a>},
<a name="l00131"></a>00131       {<span class="stringliteral">&quot;mode-raw&quot;</span>,            no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae567aa955c846d06586e9fc4dd02f059">AsymAnaInfo::MODE_RAW</a>},
<a name="l00132"></a>00132       {<span class="stringliteral">&quot;mode-raw-extended&quot;</span>,   no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a312bb007c1c91d282a9a3971c4bc8c2e">AsymAnaInfo::MODE_RAW_EXTENDED</a>},
<a name="l00133"></a>00133       {<span class="stringliteral">&quot;mode-run&quot;</span>,            no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3acd63798522c1045b7c90667f6ca1162a">AsymAnaInfo::MODE_RUN</a>},
<a name="l00134"></a>00134       {<span class="stringliteral">&quot;mode-target&quot;</span>,         no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a41a3f4fe1a478af8a25d0a31d39281e6">AsymAnaInfo::MODE_TARGET</a>},
<a name="l00135"></a>00135       {<span class="stringliteral">&quot;mode-profile&quot;</span>,        no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a91aa4f6ba5597732835da6ec77646801">AsymAnaInfo::MODE_PROFILE</a>},
<a name="l00136"></a>00136       {<span class="stringliteral">&quot;mode-asym&quot;</span>,           no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0069d490905a057bb0d802e99c52110d">AsymAnaInfo::MODE_ASYM</a>},
<a name="l00137"></a>00137       {<span class="stringliteral">&quot;mode-kinema&quot;</span>,         no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3af7907e7493220783e7b18e9e9027737e">AsymAnaInfo::MODE_KINEMA</a>},
<a name="l00138"></a>00138       {<span class="stringliteral">&quot;mode-pmt&quot;</span>,            no_argument,         0,   <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a9df1ea0fc0dee311646ab778b344a78e">AsymAnaInfo::MODE_PMT</a>},
<a name="l00139"></a>00139       {<span class="stringliteral">&quot;set-calib-alpha&quot;</span>,     required_argument,   0,   <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917a4b8401e247e2b261f1bfce53f991a6d1">AsymAnaInfo::OPTION_SET_CALIB_ALPHA</a>},
<a name="l00140"></a>00140       {<span class="stringliteral">&quot;disable-det&quot;</span>,         required_argument,   0,   <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917a551bfc8f95709a03a3baa999f9c3ae88">AsymAnaInfo::OPTION_DET_DISABLE</a>},
<a name="l00141"></a>00141       {<span class="stringliteral">&quot;alpha-sources&quot;</span>,       required_argument,   0,   <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917ad6abdd6418443e745fd4bb1278c372d7">AsymAnaInfo::OPTION_ALPHA_SOURCES</a>},
<a name="l00142"></a>00142       {<span class="stringliteral">&quot;ac-dipole-period&quot;</span>,    required_argument,   0,   <a class="code" href="classAsymAnaInfo.html#a64d719e5ee03cf59d19c65bcd39cd72fab2a1b8292c308700a1788768830c8b36">AsymAnaInfo::OPTION_AC_DIPOLE_PERIOD</a>},
<a name="l00143"></a>00143       {0, 0, 0, 0}
<a name="l00144"></a>00144    };
<a name="l00145"></a>00145 
<a name="l00146"></a>00146    <span class="keywordtype">int</span> c;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148    <span class="keywordflow">while</span> ((c = getopt_long(argc, argv, <span class="stringliteral">&quot;?hl::gr:f:n:s:o:t:e:m:d:baCDTBZF:MNW:UGR:&quot;</span>,
<a name="l00149"></a>00149                            long_options, &amp;option_index)) != -1)
<a name="l00150"></a>00150    {
<a name="l00151"></a>00151       stringstream sstr;
<a name="l00152"></a>00152       <span class="keywordflow">switch</span> (c) {
<a name="l00153"></a>00153 
<a name="l00154"></a>00154       <span class="keywordflow">case</span> <span class="charliteral">&apos;?&apos;</span>:
<a name="l00155"></a>00155       <span class="keywordflow">case</span> <span class="charliteral">&apos;h&apos;</span>:
<a name="l00156"></a>00156          <a class="code" href="classAsymAnaInfo.html#af934c21500585b0f4445afab35399ba1">PrintUsage</a>();
<a name="l00157"></a>00157          exit(EXIT_SUCCESS);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159       <span class="keywordflow">case</span> <span class="charliteral">&apos;l&apos;</span>:
<a name="l00160"></a>00160          <a class="code" href="classAnaInfo.html#a81ab112ed2a449cb58471f7f0c01dde4">fFileStdLogName</a> = (optarg != 0 ? optarg : <span class="stringliteral">&quot;&quot;</span>);
<a name="l00161"></a>00161          <span class="keywordflow">break</span>;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163       <span class="keywordflow">case</span> <span class="charliteral">&apos;g&apos;</span>:
<a name="l00164"></a>00164       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#af90d7a71b79adc665fa133d47f7332f5a498daa807f16f2d593784c04eaa7f125">AnaInfo::MODE_GRAPH</a>:
<a name="l00165"></a>00165          <a class="code" href="classAnaInfo.html#a43edced906757827f2a6446a323c07f8">fModes</a> |= <a class="code" href="classAnaInfo.html#af90d7a71b79adc665fa133d47f7332f5a498daa807f16f2d593784c04eaa7f125">AnaInfo::MODE_GRAPH</a>;
<a name="l00166"></a>00166          <span class="keywordflow">break</span>;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917ae0caa32d2e4da2b15e9db44e7dfbc54e">AnaInfo::OPTION_SUFFIX</a>:
<a name="l00169"></a>00169          <a class="code" href="classAnaInfo.html#ae9c6d737f08c1d3e41dcfbf275960259" title="Additional unique identifier for analysis job.">fSuffix</a> = optarg;
<a name="l00170"></a>00170          <span class="keywordflow">break</span>;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3a8eb46482cadf0d604d01ff9899cf1061">AnaInfo::FLAG_USE_DB</a>:
<a name="l00173"></a>00173          <a class="code" href="classAnaInfo.html#aa78458e9711e03cb40f804d4dd122ed3">fFlagUseDb</a>    = kTRUE;
<a name="l00174"></a>00174          <a class="code" href="classAnaInfo.html#a1dffa6690e63d2f42240faa3d587c2e9">fFlagUpdateDb</a> = kTRUE;
<a name="l00175"></a>00175          <span class="keywordflow">break</span>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3a4ad14c16b7116693e73352d88cc7d10e">AnaInfo::FLAG_CREATE_THUMBS</a>:
<a name="l00178"></a>00178          <a class="code" href="classAnaInfo.html#a4198b2f4f3ce4094a37d84e94d893ee1">fFlagCreateThumbs</a> = kTRUE;
<a name="l00179"></a>00179          <span class="keywordflow">break</span>;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3ae9e777d80e91748caa9d5d1f93772f43">AnaInfo::FLAG_COPY</a>:
<a name="l00182"></a>00182          <a class="code" href="classAnaInfo.html#a769b2dfe0b7e8861a6295406229e93a8">fFlagCopyResults</a> = kTRUE;
<a name="l00183"></a>00183          <span class="keywordflow">break</span>;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3af5bd3b68de7563dad0cdfd4acd7d2415">AnaInfo::FLAG_UPDATE_DB</a>:
<a name="l00186"></a>00186          <a class="code" href="classAnaInfo.html#a1dffa6690e63d2f42240faa3d587c2e9">fFlagUpdateDb</a> = kTRUE;
<a name="l00187"></a>00187          <span class="keywordflow">break</span>;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a36325b5dcd3cd3ff3edf15dba02a0bd3a5b2caa71bbec37205fb3bc9a47a065ee">AnaInfo::FLAG_NO_UPDATE_DB</a>:
<a name="l00190"></a>00190          <a class="code" href="classAnaInfo.html#a1dffa6690e63d2f42240faa3d587c2e9">fFlagUpdateDb</a> = kFALSE;
<a name="l00191"></a>00191          <span class="keywordflow">break</span>;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193       <span class="keywordflow">case</span> <span class="charliteral">&apos;r&apos;</span>:
<a name="l00194"></a>00194       <span class="keywordflow">case</span> <span class="charliteral">&apos;f&apos;</span>:
<a name="l00195"></a>00195          <a class="code" href="classAsymAnaInfo.html#ab47fcb656be00bc406d750a9ad1daaf0">SetRunName</a>(optarg);
<a name="l00196"></a>00196          <a class="code" href="AsymCommon_8cxx.html#a9cea90222a341fa37cd27947b5d8ab8b">gRunDb</a>.<a class="code" href="classDbEntry.html#a6a30513727eb87ad3a9c6d0c696261a7">fRunName</a> = optarg; <span class="comment">// deprecated, should be removed later</span>
<a name="l00197"></a>00197          <span class="keywordflow">break</span>;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199       <span class="keywordflow">case</span> <span class="charliteral">&apos;n&apos;</span>:
<a name="l00200"></a>00200          <a class="code" href="classAsymAnaInfo.html#afbd371d36fb322376601a4ae6f444285">fMaxEventsUser</a> = atoi(optarg);
<a name="l00201"></a>00201          <span class="keywordflow">break</span>;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203       <span class="keywordflow">case</span> <span class="charliteral">&apos;s&apos;</span>:
<a name="l00204"></a>00204          sstr.str(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00205"></a>00205          sstr &lt;&lt; optarg;
<a name="l00206"></a>00206          sstr &gt;&gt; <a class="code" href="classAsymAnaInfo.html#afc018711f4a2d24482bd211bcdeeabee">fThinout</a>;
<a name="l00207"></a>00207          <span class="keywordflow">break</span>;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209       <span class="keywordflow">case</span> <span class="charliteral">&apos;t&apos;</span>: <span class="comment">// set timing shift in banana cut</span>
<a name="l00210"></a>00210          <a class="code" href="classAsymAnaInfo.html#a7611e3f17afd4491f85c9acd23ebd10c">tshift</a> = atoi(optarg);
<a name="l00211"></a>00211          <a class="code" href="AsymCommon_8cxx.html#a401625340245a0b3215a1ef593a70700">extinput</a>.<a class="code" href="structStructExtInput.html#acce0c658d5eac2aa15493b1fcd27aeff">TSHIFT</a> = 1;
<a name="l00212"></a>00212          <span class="keywordflow">break</span>;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214       <span class="keywordflow">case</span> <span class="charliteral">&apos;F&apos;</span>:
<a name="l00215"></a>00215          strncpy(cfile, optarg, <span class="keyword">sizeof</span>(cfile));
<a name="l00216"></a>00216          strncat(<a class="code" href="AsymCommon_8cxx.html#af46c754d30142d9d5d4710cdf11bd416">reConfFile</a>, cfile, <span class="keyword">sizeof</span>(cfile) - 1 - strlen(cfile));
<a name="l00217"></a>00217          <a class="code" href="AsymCommon_8cxx.html#a401625340245a0b3215a1ef593a70700">extinput</a>.<a class="code" href="structStructExtInput.html#a9de823a6b54b32d20517ef2b3e7a3fbf">CONFIG</a> = 1;
<a name="l00218"></a>00218          <span class="keywordflow">break</span>;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220       <span class="keywordflow">case</span> <span class="charliteral">&apos;m&apos;</span>:
<a name="l00221"></a>00221          <a class="code" href="classAsymAnaInfo.html#af381184830b90a2948451b7b5d5266d4" title="bitmask with disabled detector indeces">MassSigma</a> = atof(optarg);
<a name="l00222"></a>00222          <a class="code" href="AsymCommon_8cxx.html#a401625340245a0b3215a1ef593a70700">extinput</a>.<a class="code" href="structStructExtInput.html#af383afbf401bed34e66686b084b4c391">MASSCUT</a> = 1;
<a name="l00223"></a>00223          <span class="keywordflow">break</span>;
<a name="l00224"></a>00224 
<a name="l00225"></a>00225       <span class="keywordflow">case</span> <span class="charliteral">&apos;R&apos;</span>:
<a name="l00226"></a>00226          sstr.str(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00227"></a>00227          sstr &lt;&lt; optarg;
<a name="l00228"></a>00228          sstr &gt;&gt; <a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>;
<a name="l00229"></a>00229          <span class="keywordflow">break</span>;
<a name="l00230"></a>00230 
<a name="l00231"></a>00231       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917a9e8378237e9638bc6a18a141a821e015">AsymAnaInfo::OPTION_POL_ID</a>:
<a name="l00232"></a>00232          <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a39f8897fec12136fab2ad6e95937bf1e">fPolId</a> = atoi(optarg);
<a name="l00233"></a>00233          <span class="keywordflow">break</span>;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917a4b8401e247e2b261f1bfce53f991a6d1">AsymAnaInfo::OPTION_SET_CALIB_ALPHA</a>:
<a name="l00236"></a>00236          <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a> = optarg;
<a name="l00237"></a>00237          <span class="keywordflow">break</span>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917a551bfc8f95709a03a3baa999f9c3ae88">AsymAnaInfo::OPTION_DET_DISABLE</a>:
<a name="l00240"></a>00240          sstr.str(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00241"></a>00241          sstr &lt;&lt; optarg;
<a name="l00242"></a>00242          sstr &gt;&gt; <a class="code" href="classAsymAnaInfo.html#a47cc303666a2fd6331736adca5548828" title="bitmask telling which ROOT trees to save">fDisabledDetectors</a>;
<a name="l00243"></a>00243          <span class="keywordflow">break</span>;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245       <span class="keywordflow">case</span> <a class="code" href="classAnaInfo.html#a0f6c9706dc850d40cb07d200e8669917ad6abdd6418443e745fd4bb1278c372d7">AsymAnaInfo::OPTION_ALPHA_SOURCES</a>:
<a name="l00246"></a>00246          sstr.str(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00247"></a>00247          sstr &lt;&lt; optarg;
<a name="l00248"></a>00248          sstr &gt;&gt; <a class="code" href="classAnaInfo.html#a740fbc08aa5a178c7d23d3253d58830d">fAlphaSourceCount</a>;
<a name="l00249"></a>00249          <span class="keywordflow">if</span> ((fAlphaSourceCount &gt; 2) || (fAlphaSourceCount &lt; 1))
<a name="l00250"></a>00250          {
<a name="l00251"></a>00251             cerr &lt;&lt; <span class="stringliteral">&quot;Invalid alpha source count setting!&quot;</span> &lt;&lt; endl;
<a name="l00252"></a>00252             exit(EXIT_FAILURE);
<a name="l00253"></a>00253          }
<a name="l00254"></a>00254          <span class="keywordflow">break</span>;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#a64d719e5ee03cf59d19c65bcd39cd72fab2a1b8292c308700a1788768830c8b36">AsymAnaInfo::OPTION_AC_DIPOLE_PERIOD</a>:
<a name="l00257"></a>00257          sstr.clear();
<a name="l00258"></a>00258          sstr.str(<span class="keywordtype">string</span>(optarg));
<a name="l00259"></a>00259          sstr &gt;&gt; <a class="code" href="classAsymAnaInfo.html#a32296818de9361f3452f204600aa9b22">fAcDipolePeriod</a>;
<a name="l00260"></a>00260          <span class="keywordflow">break</span>;
<a name="l00261"></a>00261 
<a name="l00262"></a>00262       <span class="keywordflow">case</span> <span class="charliteral">&apos;C&apos;</span>:
<a name="l00263"></a>00263       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a93f85eb8be6829d06a330e042fb092bc">AsymAnaInfo::MODE_ALPHA</a>:
<a name="l00264"></a>00264          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a93f85eb8be6829d06a330e042fb092bc">AsymAnaInfo::MODE_ALPHA</a>;
<a name="l00265"></a>00265          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp;= ~<a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a><a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0d580a1ae405a2bd3159d5aa5d84ecdf">::MODE_NORMAL</a>; <span class="comment">// turn off normal mode</span>
<a name="l00266"></a>00266          <span class="keywordflow">break</span>;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3aa64c73319c5b727af7644edaf5e214d5">AsymAnaInfo::MODE_NO_NORMAL</a>:
<a name="l00269"></a>00269          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> &amp;= ~<a class="code" href="classAsymAnaInfo.html" title="This class takes care of the command line options specific to the &amp;#39;asym&amp;#39;...">AsymAnaInfo</a>::MODE_NORMAL;
<a name="l00270"></a>00270          <span class="keywordflow">break</span>;
<a name="l00271"></a>00271 
<a name="l00272"></a>00272       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a794c8750dab630a5d3851d1af250549e">AsymAnaInfo::MODE_SCALER</a>:
<a name="l00273"></a>00273          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a794c8750dab630a5d3851d1af250549e">AsymAnaInfo::MODE_SCALER</a>;
<a name="l00274"></a>00274          <span class="keywordflow">break</span>;
<a name="l00275"></a>00275 
<a name="l00276"></a>00276       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae567aa955c846d06586e9fc4dd02f059">AsymAnaInfo::MODE_RAW</a>:
<a name="l00277"></a>00277          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae567aa955c846d06586e9fc4dd02f059">AsymAnaInfo::MODE_RAW</a>;
<a name="l00278"></a>00278          <span class="keywordflow">break</span>;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a312bb007c1c91d282a9a3971c4bc8c2e">AsymAnaInfo::MODE_RAW_EXTENDED</a>:
<a name="l00281"></a>00281          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a312bb007c1c91d282a9a3971c4bc8c2e">AsymAnaInfo::MODE_RAW_EXTENDED</a>;
<a name="l00282"></a>00282          <span class="keywordflow">break</span>;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3acd63798522c1045b7c90667f6ca1162a">AsymAnaInfo::MODE_RUN</a>:
<a name="l00285"></a>00285          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3acd63798522c1045b7c90667f6ca1162a">AsymAnaInfo::MODE_RUN</a>;
<a name="l00286"></a>00286          <span class="keywordflow">break</span>;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a41a3f4fe1a478af8a25d0a31d39281e6">AsymAnaInfo::MODE_TARGET</a>:
<a name="l00289"></a>00289          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a41a3f4fe1a478af8a25d0a31d39281e6">AsymAnaInfo::MODE_TARGET</a>;
<a name="l00290"></a>00290          <span class="keywordflow">break</span>;
<a name="l00291"></a>00291 
<a name="l00292"></a>00292       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a91aa4f6ba5597732835da6ec77646801">AsymAnaInfo::MODE_PROFILE</a>:
<a name="l00293"></a>00293          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a91aa4f6ba5597732835da6ec77646801">AsymAnaInfo::MODE_PROFILE</a>;
<a name="l00294"></a>00294          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a41a3f4fe1a478af8a25d0a31d39281e6">AsymAnaInfo::MODE_TARGET</a>; <span class="comment">// profile hists depend on target ones</span>
<a name="l00295"></a>00295          <span class="keywordflow">break</span>;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0069d490905a057bb0d802e99c52110d">AsymAnaInfo::MODE_ASYM</a>:
<a name="l00298"></a>00298          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a0069d490905a057bb0d802e99c52110d">AsymAnaInfo::MODE_ASYM</a>;
<a name="l00299"></a>00299          <span class="keywordflow">break</span>;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3af7907e7493220783e7b18e9e9027737e">AsymAnaInfo::MODE_KINEMA</a>:
<a name="l00302"></a>00302          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3af7907e7493220783e7b18e9e9027737e">AsymAnaInfo::MODE_KINEMA</a>;
<a name="l00303"></a>00303          <span class="keywordflow">break</span>;
<a name="l00304"></a>00304 
<a name="l00305"></a>00305       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a9df1ea0fc0dee311646ab778b344a78e">AsymAnaInfo::MODE_PMT</a>:
<a name="l00306"></a>00306          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a9df1ea0fc0dee311646ab778b344a78e">AsymAnaInfo::MODE_PMT</a>;
<a name="l00307"></a>00307          <span class="keywordflow">break</span>;
<a name="l00308"></a>00308 
<a name="l00309"></a>00309       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae2bb0e39c449128a0f6f6ab7cb42b612">AsymAnaInfo::MODE_PULSER</a>:
<a name="l00310"></a>00310          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3ae2bb0e39c449128a0f6f6ab7cb42b612">AsymAnaInfo::MODE_PULSER</a>;
<a name="l00311"></a>00311          <span class="keywordflow">break</span>;
<a name="l00312"></a>00312 
<a name="l00313"></a>00313       <span class="keywordflow">case</span> <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a2ff6ec5f1bb41daafd60269df3e9f3e7">AsymAnaInfo::MODE_STUDIES</a>:
<a name="l00314"></a>00314          <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a> |= <a class="code" href="classAsymAnaInfo.html#af5c0b12e1e70fc001febfb8de42459c3a2ff6ec5f1bb41daafd60269df3e9f3e7">AsymAnaInfo::MODE_STUDIES</a>;
<a name="l00315"></a>00315          <span class="keywordflow">break</span>;
<a name="l00316"></a>00316 
<a name="l00317"></a>00317       <span class="keywordflow">default</span>:
<a name="l00318"></a>00318          Error(<span class="stringliteral">&quot;ProcessOptions&quot;</span>, <span class="stringliteral">&quot;Unknown option provided&quot;</span>);
<a name="l00319"></a>00319          <a class="code" href="classAsymAnaInfo.html#af934c21500585b0f4445afab35399ba1">PrintUsage</a>();
<a name="l00320"></a>00320          exit(EXIT_FAILURE);
<a name="l00321"></a>00321          <span class="keywordflow">break</span>;
<a name="l00322"></a>00322       }
<a name="l00323"></a>00323    }
<a name="l00324"></a>00324 }
<a name="l00325"></a>00325 
<a name="l00326"></a>00326 
<a name="l00328"></a><a class="code" href="classAsymAnaInfo.html#a5216fb43516d6c45883a66ad0619e881">00328</a> <span class="keywordtype">void</span> <a class="code" href="classAsymAnaInfo.html#a5216fb43516d6c45883a66ad0619e881">AsymAnaInfo::VerifyOptions</a>()
<a name="l00329"></a>00329 {
<a name="l00330"></a>00330    <span class="comment">// The run name must be specified</span>
<a name="l00331"></a>00331    <span class="keywordflow">if</span> (<a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>.empty()) {
<a name="l00332"></a>00332       Error(<span class="stringliteral">&quot;VerifyOptions&quot;</span>, <span class="stringliteral">&quot;Run name has to be specified&quot;</span>);
<a name="l00333"></a>00333       <a class="code" href="classAsymAnaInfo.html#af934c21500585b0f4445afab35399ba1">PrintUsage</a>();
<a name="l00334"></a>00334       exit(EXIT_FAILURE);
<a name="l00335"></a>00335    }
<a name="l00336"></a>00336 
<a name="l00337"></a>00337    <a class="code" href="classAnaInfo.html#a41ba8125f8418023d1bacf014312ed8f">fOutputName</a> = <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>;
<a name="l00338"></a>00338    <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#af9d1a74cf18fd6aca629804bbb12ecf9">SetRunName</a>(<a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340    <span class="comment">// Check whether the raw data file exists</span>
<a name="l00341"></a>00341    TString fileName = <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a> + <span class="stringliteral">&quot;.data&quot;</span>;
<a name="l00342"></a>00342 
<a name="l00343"></a>00343    <span class="keywordflow">if</span> ( !gSystem-&gt;FindFile(<a class="code" href="classAnaInfo.html#a8bdd414a220f4adecb5173a1dd873561">fAsymEnv</a>[<span class="stringliteral">&quot;CNIPOL_DATA_DIR&quot;</span>].c_str(), fileName ) )
<a name="l00344"></a>00344    {
<a name="l00345"></a>00345       Error(<span class="stringliteral">&quot;VerifyOptions&quot;</span>, <span class="stringliteral">&quot;Raw data file \&quot;%s.data\&quot; not found in %s\n&quot;</span>, <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>.c_str(), <a class="code" href="classAnaInfo.html#a8bdd414a220f4adecb5173a1dd873561">fAsymEnv</a>[<span class="stringliteral">&quot;CNIPOL_DATA_DIR&quot;</span>].c_str());
<a name="l00346"></a>00346       exit(EXIT_FAILURE);
<a name="l00347"></a>00347    }
<a name="l00348"></a>00348 
<a name="l00349"></a>00349    <span class="keywordflow">if</span> (<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) {
<a name="l00350"></a>00350       <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a>     = <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>;
<a name="l00351"></a>00351       <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a597d721b47a7f0a0e9aa667df28cee3c">SetMeasType</a>(kMEASTYPE_ALPHA);
<a name="l00352"></a>00352    }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354    <span class="comment">// Disable channels if requested by user</span>
<a name="l00355"></a>00355    <span class="keywordflow">if</span> ( <a class="code" href="classAsymAnaInfo.html#a47cc303666a2fd6331736adca5548828" title="bitmask telling which ROOT trees to save">fDisabledDetectors</a>.any() ) {
<a name="l00356"></a>00356       <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a47c1bfd14ef1502114120db25d4d456b">DisableChannels</a>(<a class="code" href="classAsymAnaInfo.html#a47cc303666a2fd6331736adca5548828" title="bitmask telling which ROOT trees to save">fDisabledDetectors</a>);
<a name="l00357"></a>00357    }
<a name="l00358"></a>00358    printf(<span class="stringliteral">&quot;Checking right before AnaInfo::VerifyOptions()\n&quot;</span>);
<a name="l00359"></a>00359    <span class="comment">// The output dir is created here</span>
<a name="l00360"></a>00360    <a class="code" href="classAsymAnaInfo.html#a5216fb43516d6c45883a66ad0619e881">AnaInfo::VerifyOptions</a>();
<a name="l00361"></a>00361    printf(<span class="stringliteral">&quot;Checking right after AnaInfo::VerifyOptions()\n&quot;</span>);
<a name="l00362"></a>00362    <a class="code" href="classAsymAnaInfo.html#a3143fcdc97cd59171d07e95e5ccf2de8">fFileRunConf</a> = fopen(<a class="code" href="classAsymAnaInfo.html#a142c62051328d59a082beac68fb7173b">GetRunConfFileName</a>().c_str(), <span class="stringliteral">&quot;w&quot;</span>);
<a name="l00363"></a>00363    gSystem-&gt;Chmod(<a class="code" href="classAsymAnaInfo.html#a142c62051328d59a082beac68fb7173b">GetRunConfFileName</a>().c_str(), 0775);
<a name="l00364"></a>00364 }
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 
<a name="l00368"></a><a class="code" href="classAsymAnaInfo.html#a9d0f3b238eb5d5a6233fd11f9692576c">00368</a> <span class="keywordtype">void</span> <a class="code" href="classAsymAnaInfo.html#a9d0f3b238eb5d5a6233fd11f9692576c">AsymAnaInfo::Print</a>(<span class="keyword">const</span> Option_t* opt)<span class="keyword"> const</span>
<a name="l00369"></a>00369 <span class="keyword"></span>{
<a name="l00370"></a>00370    Info(<span class="stringliteral">&quot;Print&quot;</span>, <span class="stringliteral">&quot;Print members:&quot;</span>);
<a name="l00371"></a>00371    <a class="code" href="classAsymAnaInfo.html#aeae486707f24bf0baf02a49eb5b14d63">PrintAsPhp</a>();
<a name="l00372"></a>00372 }
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 
<a name="l00376"></a><a class="code" href="classAsymAnaInfo.html#aeae486707f24bf0baf02a49eb5b14d63">00376</a> <span class="keywordtype">void</span> <a class="code" href="classAsymAnaInfo.html#aeae486707f24bf0baf02a49eb5b14d63">AsymAnaInfo::PrintAsPhp</a>(FILE *f)<span class="keyword"> const</span>
<a name="l00377"></a>00377 <span class="keyword"></span>{
<a name="l00378"></a>00378    <a class="code" href="classAsymAnaInfo.html#aeae486707f24bf0baf02a49eb5b14d63">AnaInfo::PrintAsPhp</a>(f);
<a name="l00379"></a>00379    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fRunName&apos;]                     = \&quot;%s\&quot;;\n&quot;</span>,  <a class="code" href="classAsymAnaInfo.html#a508fee3bf577fdd59f792c64e9514c10">fRunName</a>.c_str());
<a name="l00380"></a>00380    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fAsymModes&apos;]                   = %#010lx;\n&quot;</span>, <a class="code" href="classAsymAnaInfo.html#adf5ddef40013cf8effdd6edec8c5277b">fAsymModes</a>);
<a name="l00381"></a>00381    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fSaveTrees&apos;]                   = \&quot;%s\&quot;;\n&quot;</span>,  <a class="code" href="classAsymAnaInfo.html#afc055eace8e7d1f04a4b4a3faaeaae12">fSaveTrees</a>.to_string().c_str());
<a name="l00382"></a>00382    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fDisabledDetectors&apos;]           = \&quot;%s\&quot;;\n&quot;</span>,  <a class="code" href="classAsymAnaInfo.html#a47cc303666a2fd6331736adca5548828" title="bitmask telling which ROOT trees to save">fDisabledDetectors</a>.to_string().c_str());
<a name="l00383"></a>00383    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fThinout&apos;]                     = %f;\n&quot;</span>,      <a class="code" href="classAsymAnaInfo.html#afc018711f4a2d24482bd211bcdeeabee">fThinout</a>);
<a name="l00384"></a>00384    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fMaxEventsUser&apos;]               = %u;\n&quot;</span>,      <a class="code" href="classAsymAnaInfo.html#afbd371d36fb322376601a4ae6f444285">fMaxEventsUser</a>);
<a name="l00385"></a>00385    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fAlphaCalibRun&apos;]               = \&quot;%s\&quot;;\n&quot;</span>,  <a class="code" href="classAsymAnaInfo.html#a6b7dccbb6c3ea45dfdb80b916f18bb4f">GetAlphaCalibRun</a>().c_str());
<a name="l00386"></a>00386    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fAlphaSourceCount&apos;]            = %i;\n&quot;</span>,      <a class="code" href="classAnaInfo.html#a740fbc08aa5a178c7d23d3253d58830d">fAlphaSourceCount</a>);
<a name="l00387"></a>00387    fprintf(f, <span class="stringliteral">&quot;$rc[&apos;fAcDipolePeriod&apos;]              = %i;\n&quot;</span>,      <a class="code" href="classAsymAnaInfo.html#a32296818de9361f3452f204600aa9b22">fAcDipolePeriod</a>);
<a name="l00388"></a>00388    fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00389"></a>00389 }
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 
<a name="l00393"></a><a class="code" href="classAsymAnaInfo.html#af934c21500585b0f4445afab35399ba1">00393</a> <span class="keywordtype">void</span> <a class="code" href="classAsymAnaInfo.html#af934c21500585b0f4445afab35399ba1">AsymAnaInfo::PrintUsage</a>()
<a name="l00394"></a>00394 {
<a name="l00395"></a>00395    cout &lt;&lt; endl;
<a name="l00396"></a>00396 
<a name="l00397"></a>00397    <a class="code" href="classAsymAnaInfo.html#af934c21500585b0f4445afab35399ba1">AnaInfo::PrintUsage</a>();
<a name="l00398"></a>00398 
<a name="l00399"></a>00399    cout &lt;&lt; <span class="stringliteral">&quot;Options:&quot;</span> &lt;&lt; endl;
<a name="l00400"></a>00400    cout &lt;&lt; <span class="stringliteral">&quot; -h, -?                               : Print this help&quot;</span> &lt;&lt; endl;
<a name="l00401"></a>00401    cout &lt;&lt; <span class="stringliteral">&quot; -r, -f, --run-name &lt;run_name&gt;        : Name of run with raw data in $CNIPOL_DATA_DIR directory&quot;</span> &lt;&lt; endl;
<a name="l00402"></a>00402    cout &lt;&lt; <span class="stringliteral">&quot; -n &lt;number&gt;                          : Maximum number of events to process&quot;</span>
<a name="l00403"></a>00403         &lt;&lt; <span class="stringliteral">&quot; (default \&quot;-n 0\&quot; all events)&quot;</span> &lt;&lt; endl;
<a name="l00404"></a>00404    cout &lt;&lt; <span class="stringliteral">&quot; -s &lt;real&gt;                            : Approximate fraction of events to read/process (default \&quot;-s 1\&quot; no events skipped)&quot;</span> &lt;&lt; endl;
<a name="l00405"></a>00405    cout &lt;&lt; <span class="stringliteral">&quot; -o &lt;filename&gt;                        : Output hbk file (!)&quot;</span> &lt;&lt; endl;
<a name="l00406"></a>00406    cout &lt;&lt; <span class="stringliteral">&quot; -l, --log=[filename]                 : Optional log file to redirect stdout and stderr&quot;</span> &lt;&lt; endl;
<a name="l00407"></a>00407    cout &lt;&lt; <span class="stringliteral">&quot; -t &lt;time shift&gt;                      : TOF timing shift in [ns], addition to TSHIFT defined in run.db (!)&quot;</span> &lt;&lt; endl;
<a name="l00408"></a>00408    cout &lt;&lt; <span class="stringliteral">&quot; -e &lt;lower:upper&gt;                     : Kinetic energy range (default [400:900] keV) (!)&quot;</span> &lt;&lt; endl;
<a name="l00409"></a>00409    cout &lt;&lt; <span class="stringliteral">&quot; -D                                   : Dead layer mode on (!)&quot;</span> &lt;&lt; endl;
<a name="l00410"></a>00410    cout &lt;&lt; <span class="stringliteral">&quot; -F &lt;file&gt;                            : Overwrite conf file defined in run.db (!)&quot;</span> &lt;&lt; endl;
<a name="l00411"></a>00411    cout &lt;&lt; <span class="stringliteral">&quot; -m &lt;sigma&gt;                           : Banana cut by &lt;sigma&gt; from 12C mass [def]:3 sigma (!)&quot;</span> &lt;&lt; endl;
<a name="l00412"></a>00412    cout &lt;&lt; <span class="stringliteral">&quot; -U                                   : Update histogram&quot;</span> &lt;&lt; endl;
<a name="l00413"></a>00413    cout &lt;&lt; <span class="stringliteral">&quot; -N                                   : Store Ntuple events (!)&quot;</span> &lt;&lt; endl;
<a name="l00414"></a>00414    cout &lt;&lt; <span class="stringliteral">&quot; -R &lt;bitmask&gt;                         : Save events in Root trees, &quot;</span> &lt;&lt;
<a name="l00415"></a>00415            <span class="stringliteral">&quot;e.g. \&quot;-R 101\&quot;&quot;</span> &lt;&lt; endl;
<a name="l00416"></a>00416    cout &lt;&lt; <span class="stringliteral">&quot;     --alpha-sources &lt;count&gt;          : 1 for Am, 2 for Am+Gd&quot;</span> &lt;&lt; endl;
<a name="l00417"></a>00417    cout &lt;&lt; <span class="stringliteral">&quot; -q, --quick                          : Skips the main loop. Use for a quick check&quot;</span> &lt;&lt; endl;
<a name="l00418"></a>00418    cout &lt;&lt; <span class="stringliteral">&quot; -C, --mode-alpha, --alpha            : Use when run over alpha run data&quot;</span> &lt;&lt; endl;
<a name="l00419"></a>00419    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-calib, --calib            : Update calibration constants&quot;</span> &lt;&lt; endl;
<a name="l00420"></a>00420    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-normal                    : Default set of histograms&quot;</span> &lt;&lt; endl;
<a name="l00421"></a>00421    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-no-normal                 : Turn off the default set of histograms&quot;</span> &lt;&lt; endl;
<a name="l00422"></a>00422    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-scaler, --scaler          : Fill and save scaler histograms (from V124 memory)&quot;</span> &lt;&lt; endl;
<a name="l00423"></a>00423    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-raw, --raw                : Fill and save raw histograms&quot;</span> &lt;&lt; endl;
<a name="l00424"></a>00424    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-raw-extended, --raw-ext   : Fill and save more detailed raw histograms&quot;</span> &lt;&lt; endl;
<a name="l00425"></a>00425    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-run                       : Fill and save bunch, lumi and other run related histograms&quot;</span> &lt;&lt; endl;
<a name="l00426"></a>00426    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-target, --target          : Fill and save target histograms&quot;</span> &lt;&lt; endl;
<a name="l00427"></a>00427    cout &lt;&lt; <span class="stringliteral">&quot;     --mode-full                      : Fill and save all histograms&quot;</span> &lt;&lt; endl;
<a name="l00428"></a>00428    cout &lt;&lt; <span class="stringliteral">&quot;     --set-calib-alpha                : Provide a root file with alpha calibrations&quot;</span> &lt;&lt; endl;
<a name="l00429"></a>00429    cout &lt;&lt; <span class="stringliteral">&quot;     --copy                           : Copy results to server (?)&quot;</span> &lt;&lt; endl;
<a name="l00430"></a>00430    cout &lt;&lt; <span class="stringliteral">&quot;     --use-db                         : Run info will be retrieved from and saved into database&quot;</span> &lt;&lt; endl;
<a name="l00431"></a>00431    cout &lt;&lt; <span class="stringliteral">&quot;     --update-db                      : Update run info in database&quot;</span> &lt;&lt; endl;
<a name="l00432"></a>00432    cout &lt;&lt; <span class="stringliteral">&quot;     --disable-det &lt;bitmask&gt;          : Exclude some detectors from the analysis, e.g. \&quot;000100\&quot; excludes detector 3&quot;</span> &lt;&lt; endl;
<a name="l00433"></a>00433    cout &lt;&lt; <span class="stringliteral">&quot;     --ac-dipole-period               : Unsigned integer representing dipole period in ticks, i.e. large number 16441672&quot;</span> &lt;&lt; endl;
<a name="l00434"></a>00434    cout &lt;&lt; endl;
<a name="l00435"></a>00435    cout &lt;&lt; <span class="stringliteral">&quot;Options marked with (!) are not supported&quot;</span> &lt;&lt; endl;
<a name="l00436"></a>00436    cout &lt;&lt; <span class="stringliteral">&quot;Options marked with (?) need more work&quot;</span> &lt;&lt; endl;
<a name="l00437"></a>00437    cout &lt;&lt; endl;
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 
<a name="l00445"></a><a class="code" href="classAsymAnaInfo.html#a12ce5f38017359094e159f43fddaf549">00445</a> <span class="keywordtype">void</span> <a class="code" href="classAsymAnaInfo.html#a12ce5f38017359094e159f43fddaf549" title="Some of this method functionality should better be moved to MeasInfo Update().">AsymAnaInfo::Update</a>(MseMeasInfoX&amp; run)
<a name="l00446"></a>00446 {
<a name="l00447"></a>00447    <span class="comment">// A fix for alpha calib runs - Maybe this should go to the process options</span>
<a name="l00448"></a>00448    <span class="comment">// method</span>
<a name="l00449"></a>00449    <span class="keywordflow">if</span> (<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) {
<a name="l00450"></a>00450       <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a>           = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00451"></a>00451       run.alpha_calib_run_name = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00452"></a>00452 
<a name="l00453"></a>00453       <span class="comment">// If user set the alpha option override the measurement type extracted</span>
<a name="l00454"></a>00454       <span class="comment">// from the data file</span>
<a name="l00455"></a>00455       <a class="code" href="AsymCommon_8cxx.html#a4ea09dca810048da3a6c153c741478c2">gMeasInfo</a>-&gt;<a class="code" href="classMeasInfo.html#a597d721b47a7f0a0e9aa667df28cee3c">SetMeasType</a>(kMEASTYPE_ALPHA);
<a name="l00456"></a>00456    }
<a name="l00457"></a>00457 
<a name="l00458"></a>00458    <span class="keywordflow">if</span> ( !<a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a>.empty() )
<a name="l00459"></a>00459       run.alpha_calib_run_name = <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a>;
<a name="l00460"></a>00460    <span class="keywordflow">else</span> if ( !run.alpha_calib_run_name.empty() )
<a name="l00461"></a>00461       <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a> = run.alpha_calib_run_name;
<a name="l00462"></a>00462 
<a name="l00463"></a>00463    if ( <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a>.empty() ) {
<a name="l00464"></a>00464       <span class="keywordflow">if</span> (!<a class="code" href="classAsymAnaInfo.html#ab8eddaa7b7eeae958f2b69d2cf5e6a45">HasAlphaBit</a>()) {
<a name="l00465"></a>00465          Error(<span class="stringliteral">&quot;Update&quot;</span>, <span class="stringliteral">&quot;Alpha calibration run must be specified&quot;</span>);
<a name="l00466"></a>00466          Error(<span class="stringliteral">&quot;Update&quot;</span>, <span class="stringliteral">&quot;Specify it on command line or use --use-db option&quot;</span>);
<a name="l00467"></a>00467          exit(EXIT_FAILURE);
<a name="l00468"></a>00468       }
<a name="l00469"></a>00469    } <span class="keywordflow">else</span>
<a name="l00470"></a>00470       Info(<span class="stringliteral">&quot;Update&quot;</span>, <span class="stringliteral">&quot;Using alpha calibration run %s&quot;</span>, <a class="code" href="classAsymAnaInfo.html#a1baeee1ba4cf955f26ed0f07672e3ae1">fAlphaCalibRun</a>.c_str());
<a name="l00471"></a>00471 }
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 3 Dec 2014 for cnipol by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
